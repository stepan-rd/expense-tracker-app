var Xk=Object.defineProperty;var Jk=(t,e,n)=>e in t?Xk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var le=(t,e,n)=>Jk(t,typeof e!="symbol"?e+"":e,n);function _S(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wS={exports:{}},Cf={},ES={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=Symbol.for("react.element"),Zk=Symbol.for("react.portal"),eD=Symbol.for("react.fragment"),tD=Symbol.for("react.strict_mode"),nD=Symbol.for("react.profiler"),rD=Symbol.for("react.provider"),iD=Symbol.for("react.context"),sD=Symbol.for("react.forward_ref"),oD=Symbol.for("react.suspense"),aD=Symbol.for("react.memo"),lD=Symbol.for("react.lazy"),K_=Symbol.iterator;function uD(t){return t===null||typeof t!="object"?null:(t=K_&&t[K_]||t["@@iterator"],typeof t=="function"?t:null)}var xS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TS=Object.assign,SS={};function za(t,e,n){this.props=t,this.context=e,this.refs=SS,this.updater=n||xS}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CS(){}CS.prototype=za.prototype;function Vy(t,e,n){this.props=t,this.context=e,this.refs=SS,this.updater=n||xS}var Fy=Vy.prototype=new CS;Fy.constructor=Vy;TS(Fy,za.prototype);Fy.isPureReactComponent=!0;var G_=Array.isArray,bS=Object.prototype.hasOwnProperty,jy={current:null},IS={key:!0,ref:!0,__self:!0,__source:!0};function PS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bS.call(e,r)&&!IS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uc,type:t,key:s,ref:o,props:i,_owner:jy.current}}function cD(t,e){return{$$typeof:uc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===uc}function hD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var q_=/\/+/g;function Op(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hD(""+t.key):e.toString(36)}function Bh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uc:case Zk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Op(o,0):r,G_(i)?(n="",t!=null&&(n=t.replace(q_,"$&/")+"/"),Bh(i,e,n,"",function(u){return u})):i!=null&&(Uy(i)&&(i=cD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(q_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",G_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Op(s,a);o+=Bh(s,e,n,l,i)}else if(l=uD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Op(s,a++),o+=Bh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qc(t,e,n){if(t==null)return t;var r=[],i=0;return Bh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},zh={transition:null},fD={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:zh,ReactCurrentOwner:jy};function AS(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Qc,forEach:function(t,e,n){Qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qc(t,function(){e++}),e},toArray:function(t){return Qc(t,function(e){return e})||[]},only:function(t){if(!Uy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=za;xe.Fragment=eD;xe.Profiler=nD;xe.PureComponent=Vy;xe.StrictMode=tD;xe.Suspense=oD;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fD;xe.act=AS;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bS.call(e,l)&&!IS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:uc,type:t.type,key:i,ref:s,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:iD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rD,_context:t},t.Consumer=t};xe.createElement=PS;xe.createFactory=function(t){var e=PS.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:sD,render:t}};xe.isValidElement=Uy;xe.lazy=function(t){return{$$typeof:lD,_payload:{_status:-1,_result:t},_init:dD}};xe.memo=function(t,e){return{$$typeof:aD,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=zh.transition;zh.transition={};try{t()}finally{zh.transition=e}};xe.unstable_act=AS;xe.useCallback=function(t,e){return hn.current.useCallback(t,e)};xe.useContext=function(t){return hn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return hn.current.useEffect(t,e)};xe.useId=function(){return hn.current.useId()};xe.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return hn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};xe.useRef=function(t){return hn.current.useRef(t)};xe.useState=function(t){return hn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return hn.current.useTransition()};xe.version="18.3.1";ES.exports=xe;var N=ES.exports;const bf=Ly(N),pD=_S({__proto__:null,default:bf},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD=N,gD=Symbol.for("react.element"),yD=Symbol.for("react.fragment"),vD=Object.prototype.hasOwnProperty,_D=mD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wD={key:!0,ref:!0,__self:!0,__source:!0};function RS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vD.call(e,r)&&!wD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gD,type:t,key:s,ref:o,props:i,_owner:_D.current}}Cf.Fragment=yD;Cf.jsx=RS;Cf.jsxs=RS;wS.exports=Cf;var S=wS.exports,qm={},kS={exports:{}},Fn={},DS={exports:{}},MS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,Y){var ne=W.length;W.push(Y);e:for(;0<ne;){var we=ne-1>>>1,ge=W[we];if(0<i(ge,Y))W[we]=Y,W[ne]=ge,ne=we;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],ne=W.pop();if(ne!==Y){W[0]=ne;e:for(var we=0,ge=W.length,Ie=ge>>>1;we<Ie;){var je=2*(we+1)-1,Ze=W[je],We=je+1,Zn=W[We];if(0>i(Ze,ne))We<ge&&0>i(Zn,Ze)?(W[we]=Zn,W[We]=ne,we=We):(W[we]=Ze,W[je]=ne,we=je);else if(We<ge&&0>i(Zn,ne))W[we]=Zn,W[We]=ne,we=We;else break e}}return Y}function i(W,Y){var ne=W.sortIndex-Y.sortIndex;return ne!==0?ne:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,m=!1,g=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=W)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function k(W){if(_=!1,x(W),!g)if(n(l)!==null)g=!0,he(L);else{var Y=n(u);Y!==null&&te(k,Y.startTime-W)}}function L(W,Y){g=!1,_&&(_=!1,w(E),E=-1),m=!0;var ne=f;try{for(x(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||W&&!D());){var we=d.callback;if(typeof we=="function"){d.callback=null,f=d.priorityLevel;var ge=we(d.expirationTime<=Y);Y=t.unstable_now(),typeof ge=="function"?d.callback=ge:d===n(l)&&r(l),x(Y)}else r(l);d=n(l)}if(d!==null)var Ie=!0;else{var je=n(u);je!==null&&te(k,je.startTime-Y),Ie=!1}return Ie}finally{d=null,f=ne,m=!1}}var A=!1,b=null,E=-1,C=5,P=-1;function D(){return!(t.unstable_now()-P<C)}function M(){if(b!==null){var W=t.unstable_now();P=W;var Y=!0;try{Y=b(!0,W)}finally{Y?R():(A=!1,b=null)}}else A=!1}var R;if(typeof v=="function")R=function(){v(M)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ee=ae.port2;ae.port1.onmessage=M,R=function(){ee.postMessage(null)}}else R=function(){T(M,0)};function he(W){b=W,A||(A=!0,R())}function te(W,Y){E=T(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,he(L))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var ne=f;f=Y;try{return W()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=f;f=W;try{return Y()}finally{f=ne}},t.unstable_scheduleCallback=function(W,Y,ne){var we=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,W){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ne+ge,W={id:h++,callback:Y,priorityLevel:W,startTime:ne,expirationTime:ge,sortIndex:-1},ne>we?(W.sortIndex=ne,e(u,W),n(l)===null&&W===n(u)&&(_?(w(E),E=-1):_=!0,te(k,ne-we))):(W.sortIndex=ge,e(l,W),g||m||(g=!0,he(L))),W},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(W){var Y=f;return function(){var ne=f;f=Y;try{return W.apply(this,arguments)}finally{f=ne}}}})(MS);DS.exports=MS;var ED=DS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xD=N,On=ED;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NS=new Set,Cu={};function wo(t,e){xa(t,e),xa(t+"Capture",e)}function xa(t,e){for(Cu[t]=e,t=0;t<e.length;t++)NS.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ym=Object.prototype.hasOwnProperty,TD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y_={},Q_={};function SD(t){return Ym.call(Q_,t)?!0:Ym.call(Y_,t)?!1:TD.test(t)?Q_[t]=!0:(Y_[t]=!0,!1)}function CD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bD(t,e,n,r){if(e===null||typeof e>"u"||CD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var By=/[\-:]([a-z])/g;function zy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(By,zy);zt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(By,zy);zt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(By,zy);zt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $y(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bD(e,n,i,r)&&(n=null),r||i===null?SD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=xD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xc=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),LS=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),Ky=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),VS=Symbol.for("react.offscreen"),X_=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=X_&&t[X_]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Lp;function Vl(t){if(Lp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lp=e&&e[1]||""}return`
`+Lp+t}var Vp=!1;function Fp(t,e){if(!t||Vp)return"";Vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vl(t):""}function ID(t){switch(t.tag){case 5:return Vl(t.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 2:case 15:return t=Fp(t.type,!1),t;case 11:return t=Fp(t.type.render,!1),t;case 1:return t=Fp(t.type,!0),t;default:return""}}function Zm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case Ko:return"Portal";case Qm:return"Profiler";case Hy:return"StrictMode";case Xm:return"Suspense";case Jm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LS:return(t.displayName||"Context")+".Consumer";case OS:return(t._context.displayName||"Context")+".Provider";case Wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ky:return e=t.displayName||null,e!==null?e:Zm(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return Zm(t(e))}catch{}}return null}function PD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(e);case 8:return e===Hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AD(t){var e=FS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jc(t){t._valueTracker||(t._valueTracker=AD(t))}function jS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eg(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function J_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function US(t,e){e=e.checked,e!=null&&$y(t,"checked",e,!1)}function tg(t,e){US(t,e);var n=ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&ng(t,e.type,ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Z_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ng(t,e,n){(e!=="number"||gd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fl=Array.isArray;function ca(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ew(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Fl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ss(n)}}function BS(t,e){var n=ss(e.value),r=ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zc,$S=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RD=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){RD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function HS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function WS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kD=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(t,e){if(e){if(kD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function og(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=null;function Gy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lg=null,ha=null,da=null;function nw(t){if(t=dc(t)){if(typeof lg!="function")throw Error(H(280));var e=t.stateNode;e&&(e=kf(e),lg(t.stateNode,t.type,e))}}function KS(t){ha?da?da.push(t):da=[t]:ha=t}function GS(){if(ha){var t=ha,e=da;if(da=ha=null,nw(t),e)for(t=0;t<e.length;t++)nw(e[t])}}function qS(t,e){return t(e)}function YS(){}var jp=!1;function QS(t,e,n){if(jp)return t(e,n);jp=!0;try{return qS(t,e,n)}finally{jp=!1,(ha!==null||da!==null)&&(YS(),GS())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=kf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var ug=!1;if(ai)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){ug=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{ug=!1}function DD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var tu=!1,yd=null,vd=!1,cg=null,MD={onError:function(t){tu=!0,yd=t}};function ND(t,e,n,r,i,s,o,a,l){tu=!1,yd=null,DD.apply(MD,arguments)}function OD(t,e,n,r,i,s,o,a,l){if(ND.apply(this,arguments),tu){if(tu){var u=yd;tu=!1,yd=null}else throw Error(H(198));vd||(vd=!0,cg=u)}}function Eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rw(t){if(Eo(t)!==t)throw Error(H(188))}function LD(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rw(i),t;if(s===r)return rw(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function JS(t){return t=LD(t),t!==null?ZS(t):null}function ZS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZS(t);if(e!==null)return e;t=t.sibling}return null}var eC=On.unstable_scheduleCallback,iw=On.unstable_cancelCallback,VD=On.unstable_shouldYield,FD=On.unstable_requestPaint,dt=On.unstable_now,jD=On.unstable_getCurrentPriorityLevel,qy=On.unstable_ImmediatePriority,tC=On.unstable_UserBlockingPriority,_d=On.unstable_NormalPriority,UD=On.unstable_LowPriority,nC=On.unstable_IdlePriority,If=null,Tr=null;function BD(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(If,t,void 0,(t.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:HD,zD=Math.log,$D=Math.LN2;function HD(t){return t>>>=0,t===0?32:31-(zD(t)/$D|0)|0}var eh=64,th=4194304;function jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=jl(a):(s&=o,s!==0&&(r=jl(s)))}else o=n&~i,o!==0?r=jl(o):s!==0&&(r=jl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cr(e),i=1<<n,r|=t[n],e&=~i;return r}function WD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=WD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rC(){var t=eh;return eh<<=1,!(eh&4194240)&&(eh=64),t}function Up(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cr(e),t[e]=n}function GD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function iC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sC,Qy,oC,aC,lC,dg=!1,nh=[],Hi=null,Wi=null,Ki=null,Pu=new Map,Au=new Map,Mi=[],qD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sw(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(e.pointerId)}}function _l(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dc(e),e!==null&&Qy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YD(t,e,n,r,i){switch(e){case"focusin":return Hi=_l(Hi,t,e,n,r,i),!0;case"dragenter":return Wi=_l(Wi,t,e,n,r,i),!0;case"mouseover":return Ki=_l(Ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pu.set(s,_l(Pu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Au.set(s,_l(Au.get(s)||null,t,e,n,r,i)),!0}return!1}function uC(t){var e=Hs(t.target);if(e!==null){var n=Eo(e);if(n!==null){if(e=n.tag,e===13){if(e=XS(n),e!==null){t.blockedOn=e,lC(t.priority,function(){oC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $h(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ag=r,n.target.dispatchEvent(r),ag=null}else return e=dc(n),e!==null&&Qy(e),t.blockedOn=n,!1;e.shift()}return!0}function ow(t,e,n){$h(t)&&n.delete(e)}function QD(){dg=!1,Hi!==null&&$h(Hi)&&(Hi=null),Wi!==null&&$h(Wi)&&(Wi=null),Ki!==null&&$h(Ki)&&(Ki=null),Pu.forEach(ow),Au.forEach(ow)}function wl(t,e){t.blockedOn===e&&(t.blockedOn=null,dg||(dg=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,QD)))}function Ru(t){function e(i){return wl(i,t)}if(0<nh.length){wl(nh[0],t);for(var n=1;n<nh.length;n++){var r=nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hi!==null&&wl(Hi,t),Wi!==null&&wl(Wi,t),Ki!==null&&wl(Ki,t),Pu.forEach(e),Au.forEach(e),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)uC(n),n.blockedOn===null&&Mi.shift()}var fa=gi.ReactCurrentBatchConfig,Ed=!0;function XD(t,e,n,r){var i=Ve,s=fa.transition;fa.transition=null;try{Ve=1,Xy(t,e,n,r)}finally{Ve=i,fa.transition=s}}function JD(t,e,n,r){var i=Ve,s=fa.transition;fa.transition=null;try{Ve=4,Xy(t,e,n,r)}finally{Ve=i,fa.transition=s}}function Xy(t,e,n,r){if(Ed){var i=fg(t,e,n,r);if(i===null)Qp(t,e,r,xd,n),sw(t,r);else if(YD(i,t,e,n,r))r.stopPropagation();else if(sw(t,r),e&4&&-1<qD.indexOf(t)){for(;i!==null;){var s=dc(i);if(s!==null&&sC(s),s=fg(t,e,n,r),s===null&&Qp(t,e,r,xd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qp(t,e,r,null,n)}}var xd=null;function fg(t,e,n,r){if(xd=null,t=Gy(r),t=Hs(t),t!==null)if(e=Eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xd=t,null}function cC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jD()){case qy:return 1;case tC:return 4;case _d:case UD:return 16;case nC:return 536870912;default:return 16}default:return 16}}var Fi=null,Jy=null,Hh=null;function hC(){if(Hh)return Hh;var t,e=Jy,n=e.length,r,i="value"in Fi?Fi.value:Fi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hh=i.slice(t,1<r?1-r:void 0)}function Wh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rh(){return!0}function aw(){return!1}function jn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rh:aw,this.isPropagationStopped=aw,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),e}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zy=jn($a),hc=it({},$a,{view:0,detail:0}),ZD=jn(hc),Bp,zp,El,Pf=it({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(Bp=t.screenX-El.screenX,zp=t.screenY-El.screenY):zp=Bp=0,El=t),Bp)},movementY:function(t){return"movementY"in t?t.movementY:zp}}),lw=jn(Pf),eM=it({},Pf,{dataTransfer:0}),tM=jn(eM),nM=it({},hc,{relatedTarget:0}),$p=jn(nM),rM=it({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),iM=jn(rM),sM=it({},$a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oM=jn(sM),aM=it({},$a,{data:0}),uw=jn(aM),lM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cM[t])?!!e[t]:!1}function ev(){return hM}var dM=it({},hc,{key:function(t){if(t.key){var e=lM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(t){return t.type==="keypress"?Wh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fM=jn(dM),pM=it({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cw=jn(pM),mM=it({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),gM=jn(mM),yM=it({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),vM=jn(yM),_M=it({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wM=jn(_M),EM=[9,13,27,32],tv=ai&&"CompositionEvent"in window,nu=null;ai&&"documentMode"in document&&(nu=document.documentMode);var xM=ai&&"TextEvent"in window&&!nu,dC=ai&&(!tv||nu&&8<nu&&11>=nu),hw=" ",dw=!1;function fC(t,e){switch(t){case"keyup":return EM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qo=!1;function TM(t,e){switch(t){case"compositionend":return pC(e);case"keypress":return e.which!==32?null:(dw=!0,hw);case"textInput":return t=e.data,t===hw&&dw?null:t;default:return null}}function SM(t,e){if(qo)return t==="compositionend"||!tv&&fC(t,e)?(t=hC(),Hh=Jy=Fi=null,qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dC&&e.locale!=="ko"?null:e.data;default:return null}}var CM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CM[t.type]:e==="textarea"}function mC(t,e,n,r){KS(r),e=Td(e,"onChange"),0<e.length&&(n=new Zy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,ku=null;function bM(t){bC(t,0)}function Af(t){var e=Xo(t);if(jS(e))return t}function IM(t,e){if(t==="change")return e}var gC=!1;if(ai){var Hp;if(ai){var Wp="oninput"in document;if(!Wp){var pw=document.createElement("div");pw.setAttribute("oninput","return;"),Wp=typeof pw.oninput=="function"}Hp=Wp}else Hp=!1;gC=Hp&&(!document.documentMode||9<document.documentMode)}function mw(){ru&&(ru.detachEvent("onpropertychange",yC),ku=ru=null)}function yC(t){if(t.propertyName==="value"&&Af(ku)){var e=[];mC(e,ku,t,Gy(t)),QS(bM,e)}}function PM(t,e,n){t==="focusin"?(mw(),ru=e,ku=n,ru.attachEvent("onpropertychange",yC)):t==="focusout"&&mw()}function AM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Af(ku)}function RM(t,e){if(t==="click")return Af(e)}function kM(t,e){if(t==="input"||t==="change")return Af(e)}function DM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:DM;function Du(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ym.call(e,i)||!fr(t[i],e[i]))return!1}return!0}function gw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yw(t,e){var n=gw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gw(n)}}function vC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _C(){for(var t=window,e=gd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gd(t.document)}return e}function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MM(t){var e=_C(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vC(n.ownerDocument.documentElement,n)){if(r!==null&&nv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=yw(n,s);var o=yw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NM=ai&&"documentMode"in document&&11>=document.documentMode,Yo=null,pg=null,iu=null,mg=!1;function vw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mg||Yo==null||Yo!==gd(r)||(r=Yo,"selectionStart"in r&&nv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&Du(iu,r)||(iu=r,r=Td(pg,"onSelect"),0<r.length&&(e=new Zy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function ih(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qo={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},Kp={},wC={};ai&&(wC=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Rf(t){if(Kp[t])return Kp[t];if(!Qo[t])return t;var e=Qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wC)return Kp[t]=e[n];return t}var EC=Rf("animationend"),xC=Rf("animationiteration"),TC=Rf("animationstart"),SC=Rf("transitionend"),CC=new Map,_w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(t,e){CC.set(t,e),wo(e,[t])}for(var Gp=0;Gp<_w.length;Gp++){var qp=_w[Gp],OM=qp.toLowerCase(),LM=qp[0].toUpperCase()+qp.slice(1);fs(OM,"on"+LM)}fs(EC,"onAnimationEnd");fs(xC,"onAnimationIteration");fs(TC,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(SC,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OD(r,e,void 0,t),t.currentTarget=null}function bC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ww(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ww(i,a,u),s=l}}}if(vd)throw t=cg,vd=!1,cg=null,t}function qe(t,e){var n=e[wg];n===void 0&&(n=e[wg]=new Set);var r=t+"__bubble";n.has(r)||(IC(e,t,2,!1),n.add(r))}function Yp(t,e,n){var r=0;e&&(r|=4),IC(n,t,r,e)}var sh="_reactListening"+Math.random().toString(36).slice(2);function Mu(t){if(!t[sh]){t[sh]=!0,NS.forEach(function(n){n!=="selectionchange"&&(VM.has(n)||Yp(n,!1,t),Yp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sh]||(e[sh]=!0,Yp("selectionchange",!1,e))}}function IC(t,e,n,r){switch(cC(e)){case 1:var i=XD;break;case 4:i=JD;break;default:i=Xy}n=i.bind(null,e,n,t),i=void 0,!ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}QS(function(){var u=s,h=Gy(n),d=[];e:{var f=CC.get(t);if(f!==void 0){var m=Zy,g=t;switch(t){case"keypress":if(Wh(n)===0)break e;case"keydown":case"keyup":m=fM;break;case"focusin":g="focus",m=$p;break;case"focusout":g="blur",m=$p;break;case"beforeblur":case"afterblur":m=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gM;break;case EC:case xC:case TC:m=iM;break;case SC:m=vM;break;case"scroll":m=ZD;break;case"wheel":m=wM;break;case"copy":case"cut":case"paste":m=oM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cw}var _=(e&4)!==0,T=!_&&t==="scroll",w=_?f!==null?f+"Capture":null:f;_=[];for(var v=u,x;v!==null;){x=v;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,w!==null&&(k=Iu(v,w),k!=null&&_.push(Nu(v,k,x)))),T)break;v=v.return}0<_.length&&(f=new m(f,g,null,n,h),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==ag&&(g=n.relatedTarget||n.fromElement)&&(Hs(g)||g[li]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Hs(g):null,g!==null&&(T=Eo(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=lw,k="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=cw,k="onPointerLeave",w="onPointerEnter",v="pointer"),T=m==null?f:Xo(m),x=g==null?f:Xo(g),f=new _(k,v+"leave",m,n,h),f.target=T,f.relatedTarget=x,k=null,Hs(h)===u&&(_=new _(w,v+"enter",g,n,h),_.target=x,_.relatedTarget=T,k=_),T=k,m&&g)t:{for(_=m,w=g,v=0,x=_;x;x=Fo(x))v++;for(x=0,k=w;k;k=Fo(k))x++;for(;0<v-x;)_=Fo(_),v--;for(;0<x-v;)w=Fo(w),x--;for(;v--;){if(_===w||w!==null&&_===w.alternate)break t;_=Fo(_),w=Fo(w)}_=null}else _=null;m!==null&&Ew(d,f,m,_,!1),g!==null&&T!==null&&Ew(d,T,g,_,!0)}}e:{if(f=u?Xo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var L=IM;else if(fw(f))if(gC)L=kM;else{L=AM;var A=PM}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(L=RM);if(L&&(L=L(t,u))){mC(d,L,n,h);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&ng(f,"number",f.value)}switch(A=u?Xo(u):window,t){case"focusin":(fw(A)||A.contentEditable==="true")&&(Yo=A,pg=u,iu=null);break;case"focusout":iu=pg=Yo=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,vw(d,n,h);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":vw(d,n,h)}var b;if(tv)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else qo?fC(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(dC&&n.locale!=="ko"&&(qo||E!=="onCompositionStart"?E==="onCompositionEnd"&&qo&&(b=hC()):(Fi=h,Jy="value"in Fi?Fi.value:Fi.textContent,qo=!0)),A=Td(u,E),0<A.length&&(E=new uw(E,t,null,n,h),d.push({event:E,listeners:A}),b?E.data=b:(b=pC(n),b!==null&&(E.data=b)))),(b=xM?TM(t,n):SM(t,n))&&(u=Td(u,"onBeforeInput"),0<u.length&&(h=new uw("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=b))}bC(d,e)})}function Nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Td(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Iu(t,n),s!=null&&r.unshift(Nu(t,s,i)),s=Iu(t,e),s!=null&&r.push(Nu(t,s,i))),t=t.return}return r}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ew(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Iu(n,s),l!=null&&o.unshift(Nu(n,l,a))):i||(l=Iu(n,s),l!=null&&o.push(Nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function xw(t){return(typeof t=="string"?t:""+t).replace(FM,`
`).replace(jM,"")}function oh(t,e,n){if(e=xw(e),xw(t)!==e&&n)throw Error(H(425))}function Sd(){}var gg=null,yg=null;function vg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,UM=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,BM=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(t){return Tw.resolve(null).then(t).catch(zM)}:_g;function zM(t){setTimeout(function(){throw t})}function Xp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ru(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ru(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ha,Ou="__reactProps$"+Ha,li="__reactContainer$"+Ha,wg="__reactEvents$"+Ha,$M="__reactListeners$"+Ha,HM="__reactHandles$"+Ha;function Hs(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sw(t);t!==null;){if(n=t[xr])return n;t=Sw(t)}return e}t=n,n=t.parentNode}return null}function dc(t){return t=t[xr]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function kf(t){return t[Ou]||null}var Eg=[],Jo=-1;function ps(t){return{current:t}}function Ye(t){0>Jo||(t.current=Eg[Jo],Eg[Jo]=null,Jo--)}function He(t,e){Jo++,Eg[Jo]=t.current,t.current=e}var os={},rn=ps(os),wn=ps(!1),so=os;function Ta(t,e){var n=t.type.contextTypes;if(!n)return os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function En(t){return t=t.childContextTypes,t!=null}function Cd(){Ye(wn),Ye(rn)}function Cw(t,e,n){if(rn.current!==os)throw Error(H(168));He(rn,e),He(wn,n)}function PC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,PD(t)||"Unknown",i));return it({},n,r)}function bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,so=rn.current,He(rn,t),He(wn,wn.current),!0}function bw(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=PC(t,e,so),r.__reactInternalMemoizedMergedChildContext=t,Ye(wn),Ye(rn),He(rn,t)):Ye(wn),He(wn,n)}var Hr=null,Df=!1,Jp=!1;function AC(t){Hr===null?Hr=[t]:Hr.push(t)}function WM(t){Df=!0,AC(t)}function ms(){if(!Jp&&Hr!==null){Jp=!0;var t=0,e=Ve;try{var n=Hr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,Df=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),eC(qy,ms),i}finally{Ve=e,Jp=!1}}return null}var Zo=[],ea=0,Id=null,Pd=0,Wn=[],Kn=0,oo=null,qr=1,Yr="";function Os(t,e){Zo[ea++]=Pd,Zo[ea++]=Id,Id=t,Pd=e}function RC(t,e,n){Wn[Kn++]=qr,Wn[Kn++]=Yr,Wn[Kn++]=oo,oo=t;var r=qr;t=Yr;var i=32-cr(r)-1;r&=~(1<<i),n+=1;var s=32-cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qr=1<<32-cr(e)+i|n<<i|r,Yr=s+t}else qr=1<<s|n<<i|r,Yr=t}function rv(t){t.return!==null&&(Os(t,1),RC(t,1,0))}function iv(t){for(;t===Id;)Id=Zo[--ea],Zo[ea]=null,Pd=Zo[--ea],Zo[ea]=null;for(;t===oo;)oo=Wn[--Kn],Wn[Kn]=null,Yr=Wn[--Kn],Wn[Kn]=null,qr=Wn[--Kn],Wn[Kn]=null}var Dn=null,An=null,Je=!1,lr=null;function kC(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,An=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oo!==null?{id:qr,overflow:Yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,An=null,!0):!1;default:return!1}}function xg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tg(t){if(Je){var e=An;if(e){var n=e;if(!Iw(t,e)){if(xg(t))throw Error(H(418));e=Gi(n.nextSibling);var r=Dn;e&&Iw(t,e)?kC(r,n):(t.flags=t.flags&-4097|2,Je=!1,Dn=t)}}else{if(xg(t))throw Error(H(418));t.flags=t.flags&-4097|2,Je=!1,Dn=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function ah(t){if(t!==Dn)return!1;if(!Je)return Pw(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vg(t.type,t.memoizedProps)),e&&(e=An)){if(xg(t))throw DC(),Error(H(418));for(;e;)kC(t,e),e=Gi(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=Dn?Gi(t.stateNode.nextSibling):null;return!0}function DC(){for(var t=An;t;)t=Gi(t.nextSibling)}function Sa(){An=Dn=null,Je=!1}function sv(t){lr===null?lr=[t]:lr.push(t)}var KM=gi.ReactCurrentBatchConfig;function xl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function lh(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Aw(t){var e=t._init;return e(t._payload)}function MC(t){function e(w,v){if(t){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Xi(w,v),w.index=0,w.sibling=null,w}function s(w,v,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,x,k){return v===null||v.tag!==6?(v=sm(x,w.mode,k),v.return=w,v):(v=i(v,x),v.return=w,v)}function l(w,v,x,k){var L=x.type;return L===Go?h(w,v,x.props.children,k,x.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ki&&Aw(L)===v.type)?(k=i(v,x.props),k.ref=xl(w,v,x),k.return=w,k):(k=Jh(x.type,x.key,x.props,null,w.mode,k),k.ref=xl(w,v,x),k.return=w,k)}function u(w,v,x,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=om(x,w.mode,k),v.return=w,v):(v=i(v,x.children||[]),v.return=w,v)}function h(w,v,x,k,L){return v===null||v.tag!==7?(v=to(x,w.mode,k,L),v.return=w,v):(v=i(v,x),v.return=w,v)}function d(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sm(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xc:return x=Jh(v.type,v.key,v.props,null,w.mode,x),x.ref=xl(w,null,v),x.return=w,x;case Ko:return v=om(v,w.mode,x),v.return=w,v;case ki:var k=v._init;return d(w,k(v._payload),x)}if(Fl(v)||yl(v))return v=to(v,w.mode,x,null),v.return=w,v;lh(w,v)}return null}function f(w,v,x,k){var L=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return L!==null?null:a(w,v,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xc:return x.key===L?l(w,v,x,k):null;case Ko:return x.key===L?u(w,v,x,k):null;case ki:return L=x._init,f(w,v,L(x._payload),k)}if(Fl(x)||yl(x))return L!==null?null:h(w,v,x,k,null);lh(w,x)}return null}function m(w,v,x,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(x)||null,a(v,w,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xc:return w=w.get(k.key===null?x:k.key)||null,l(v,w,k,L);case Ko:return w=w.get(k.key===null?x:k.key)||null,u(v,w,k,L);case ki:var A=k._init;return m(w,v,x,A(k._payload),L)}if(Fl(k)||yl(k))return w=w.get(x)||null,h(v,w,k,L,null);lh(v,k)}return null}function g(w,v,x,k){for(var L=null,A=null,b=v,E=v=0,C=null;b!==null&&E<x.length;E++){b.index>E?(C=b,b=null):C=b.sibling;var P=f(w,b,x[E],k);if(P===null){b===null&&(b=C);break}t&&b&&P.alternate===null&&e(w,b),v=s(P,v,E),A===null?L=P:A.sibling=P,A=P,b=C}if(E===x.length)return n(w,b),Je&&Os(w,E),L;if(b===null){for(;E<x.length;E++)b=d(w,x[E],k),b!==null&&(v=s(b,v,E),A===null?L=b:A.sibling=b,A=b);return Je&&Os(w,E),L}for(b=r(w,b);E<x.length;E++)C=m(b,w,E,x[E],k),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?E:C.key),v=s(C,v,E),A===null?L=C:A.sibling=C,A=C);return t&&b.forEach(function(D){return e(w,D)}),Je&&Os(w,E),L}function _(w,v,x,k){var L=yl(x);if(typeof L!="function")throw Error(H(150));if(x=L.call(x),x==null)throw Error(H(151));for(var A=L=null,b=v,E=v=0,C=null,P=x.next();b!==null&&!P.done;E++,P=x.next()){b.index>E?(C=b,b=null):C=b.sibling;var D=f(w,b,P.value,k);if(D===null){b===null&&(b=C);break}t&&b&&D.alternate===null&&e(w,b),v=s(D,v,E),A===null?L=D:A.sibling=D,A=D,b=C}if(P.done)return n(w,b),Je&&Os(w,E),L;if(b===null){for(;!P.done;E++,P=x.next())P=d(w,P.value,k),P!==null&&(v=s(P,v,E),A===null?L=P:A.sibling=P,A=P);return Je&&Os(w,E),L}for(b=r(w,b);!P.done;E++,P=x.next())P=m(b,w,E,P.value,k),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?E:P.key),v=s(P,v,E),A===null?L=P:A.sibling=P,A=P);return t&&b.forEach(function(M){return e(w,M)}),Je&&Os(w,E),L}function T(w,v,x,k){if(typeof x=="object"&&x!==null&&x.type===Go&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Xc:e:{for(var L=x.key,A=v;A!==null;){if(A.key===L){if(L=x.type,L===Go){if(A.tag===7){n(w,A.sibling),v=i(A,x.props.children),v.return=w,w=v;break e}}else if(A.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ki&&Aw(L)===A.type){n(w,A.sibling),v=i(A,x.props),v.ref=xl(w,A,x),v.return=w,w=v;break e}n(w,A);break}else e(w,A);A=A.sibling}x.type===Go?(v=to(x.props.children,w.mode,k,x.key),v.return=w,w=v):(k=Jh(x.type,x.key,x.props,null,w.mode,k),k.ref=xl(w,v,x),k.return=w,w=k)}return o(w);case Ko:e:{for(A=x.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(w,v.sibling),v=i(v,x.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=om(x,w.mode,k),v.return=w,w=v}return o(w);case ki:return A=x._init,T(w,v,A(x._payload),k)}if(Fl(x))return g(w,v,x,k);if(yl(x))return _(w,v,x,k);lh(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,x),v.return=w,w=v):(n(w,v),v=sm(x,w.mode,k),v.return=w,w=v),o(w)):n(w,v)}return T}var Ca=MC(!0),NC=MC(!1),Ad=ps(null),Rd=null,ta=null,ov=null;function av(){ov=ta=Rd=null}function lv(t){var e=Ad.current;Ye(Ad),t._currentValue=e}function Sg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pa(t,e){Rd=t,ov=ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(ov!==t)if(t={context:t,memoizedValue:e,next:null},ta===null){if(Rd===null)throw Error(H(308));ta=t,Rd.dependencies={lanes:0,firstContext:t}}else ta=ta.next=t;return e}var Ws=null;function uv(t){Ws===null?Ws=[t]:Ws.push(t)}function OC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Di=!1;function cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,uv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function Kh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}function Rw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kd(t,e,n,r){var i=t.updateQueue;Di=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(f=e,m=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=it({},d,f);break e;case 2:Di=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);lo|=o,t.lanes=o,t.memoizedState=d}}function kw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var fc={},Sr=ps(fc),Lu=ps(fc),Vu=ps(fc);function Ks(t){if(t===fc)throw Error(H(174));return t}function hv(t,e){switch(He(Vu,e),He(Lu,t),He(Sr,fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ig(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ig(e,t)}Ye(Sr),He(Sr,e)}function ba(){Ye(Sr),Ye(Lu),Ye(Vu)}function VC(t){Ks(Vu.current);var e=Ks(Sr.current),n=ig(e,t.type);e!==n&&(He(Lu,t),He(Sr,n))}function dv(t){Lu.current===t&&(Ye(Sr),Ye(Lu))}var tt=ps(0);function Dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zp=[];function fv(){for(var t=0;t<Zp.length;t++)Zp[t]._workInProgressVersionPrimary=null;Zp.length=0}var Gh=gi.ReactCurrentDispatcher,em=gi.ReactCurrentBatchConfig,ao=0,rt=null,Et=null,At=null,Md=!1,su=!1,Fu=0,GM=0;function qt(){throw Error(H(321))}function pv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function mv(t,e,n,r,i,s){if(ao=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gh.current=t===null||t.memoizedState===null?XM:JM,t=n(r,i),su){s=0;do{if(su=!1,Fu=0,25<=s)throw Error(H(301));s+=1,At=Et=null,e.updateQueue=null,Gh.current=ZM,t=n(r,i)}while(su)}if(Gh.current=Nd,e=Et!==null&&Et.next!==null,ao=0,At=Et=rt=null,Md=!1,e)throw Error(H(300));return t}function gv(){var t=Fu!==0;return Fu=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=t:At=At.next=t,At}function Qn(){if(Et===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=At===null?rt.memoizedState:At.next;if(e!==null)At=e,Et=t;else{if(t===null)throw Error(H(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?rt.memoizedState=At=t:At=At.next=t}return At}function ju(t,e){return typeof e=="function"?e(t):e}function tm(t){var e=Qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((ao&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,rt.lanes|=h,lo|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,fr(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rt.lanes|=s,lo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nm(t){var e=Qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fr(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function FC(){}function jC(t,e){var n=rt,r=Qn(),i=e(),s=!fr(r.memoizedState,i);if(s&&(r.memoizedState=i,_n=!0),r=r.queue,yv(zC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Uu(9,BC.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(H(349));ao&30||UC(n,e,i)}return i}function UC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BC(t,e,n,r){e.value=n,e.getSnapshot=r,$C(e)&&HC(t)}function zC(t,e,n){return n(function(){$C(e)&&HC(t)})}function $C(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function HC(t){var e=ui(t,1);e!==null&&hr(e,t,1,-1)}function Dw(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:t},e.queue=t,t=t.dispatch=QM.bind(null,rt,t),[e.memoizedState,t]}function Uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WC(){return Qn().memoizedState}function qh(t,e,n,r){var i=wr();rt.flags|=t,i.memoizedState=Uu(1|e,n,void 0,r===void 0?null:r)}function Mf(t,e,n,r){var i=Qn();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&pv(r,o.deps)){i.memoizedState=Uu(e,n,s,r);return}}rt.flags|=t,i.memoizedState=Uu(1|e,n,s,r)}function Mw(t,e){return qh(8390656,8,t,e)}function yv(t,e){return Mf(2048,8,t,e)}function KC(t,e){return Mf(4,2,t,e)}function GC(t,e){return Mf(4,4,t,e)}function qC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YC(t,e,n){return n=n!=null?n.concat([t]):null,Mf(4,4,qC.bind(null,e,t),n)}function vv(){}function QC(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XC(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JC(t,e,n){return ao&21?(fr(n,e)||(n=rC(),rt.lanes|=n,lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function qM(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=em.transition;em.transition={};try{t(!1),e()}finally{Ve=n,em.transition=r}}function ZC(){return Qn().memoizedState}function YM(t,e,n){var r=Qi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eb(t))tb(e,n);else if(n=OC(t,e,n,r),n!==null){var i=cn();hr(n,t,r,i),nb(n,e,r)}}function QM(t,e,n){var r=Qi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eb(t))tb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fr(a,o)){var l=e.interleaved;l===null?(i.next=i,uv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OC(t,e,i,r),n!==null&&(i=cn(),hr(n,t,r,i),nb(n,e,r))}}function eb(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function tb(t,e){su=Md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}var Nd={readContext:Yn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},XM={readContext:Yn,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:Mw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qh(4194308,4,qC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qh(4194308,4,t,e)},useInsertionEffect:function(t,e){return qh(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YM.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:Dw,useDebugValue:vv,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=Dw(!1),e=t[0];return t=qM.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=wr();if(Je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),kt===null)throw Error(H(349));ao&30||UC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Mw(zC.bind(null,r,s,t),[t]),r.flags|=2048,Uu(9,BC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=wr(),e=kt.identifierPrefix;if(Je){var n=Yr,r=qr;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JM={readContext:Yn,useCallback:QC,useContext:Yn,useEffect:yv,useImperativeHandle:YC,useInsertionEffect:KC,useLayoutEffect:GC,useMemo:XC,useReducer:tm,useRef:WC,useState:function(){return tm(ju)},useDebugValue:vv,useDeferredValue:function(t){var e=Qn();return JC(e,Et.memoizedState,t)},useTransition:function(){var t=tm(ju)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:FC,useSyncExternalStore:jC,useId:ZC,unstable_isNewReconciler:!1},ZM={readContext:Yn,useCallback:QC,useContext:Yn,useEffect:yv,useImperativeHandle:YC,useInsertionEffect:KC,useLayoutEffect:GC,useMemo:XC,useReducer:nm,useRef:WC,useState:function(){return nm(ju)},useDebugValue:vv,useDeferredValue:function(t){var e=Qn();return Et===null?e.memoizedState=t:JC(e,Et.memoizedState,t)},useTransition:function(){var t=nm(ju)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:FC,useSyncExternalStore:jC,useId:ZC,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nf={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Qi(t),s=ti(r,i);s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,i),e!==null&&(hr(e,t,i,r),Kh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Qi(t),s=ti(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,i),e!==null&&(hr(e,t,i,r),Kh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=Qi(t),i=ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=qi(t,i,r),e!==null&&(hr(e,t,r,n),Kh(e,t,r))}};function Nw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Du(n,r)||!Du(i,s):!0}function rb(t,e,n){var r=!1,i=os,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=En(e)?so:rn.current,r=e.contextTypes,s=(r=r!=null)?Ta(t,i):os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ow(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nf.enqueueReplaceState(e,e.state,null)}function bg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=En(e)?so:rn.current,i.context=Ta(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nf.enqueueReplaceState(i,i.state,null),kd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,e){try{var n="",r=e;do n+=ID(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ig(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var e2=typeof WeakMap=="function"?WeakMap:Map;function ib(t,e,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ld||(Ld=!0,Vg=r),Ig(t,e)},n}function sb(t,e,n){n=ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ig(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ig(t,e),typeof r!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new e2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=p2.bind(null,t,e,n),e.then(t,t))}function Vw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ti(-1,1),e.tag=2,qi(n,e,1))),n.lanes|=1),t)}var t2=gi.ReactCurrentOwner,_n=!1;function ln(t,e,n,r){e.child=t===null?NC(e,null,n,r):Ca(e,t.child,n,r)}function jw(t,e,n,r,i){n=n.render;var s=e.ref;return pa(e,i),r=mv(t,e,n,r,s,i),n=gv(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(Je&&n&&rv(e),e.flags|=1,ln(t,e,r,i),e.child)}function Uw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ob(t,e,s,r,i)):(t=Jh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(o,r)&&t.ref===e.ref)return ci(t,e,i)}return e.flags|=1,t=Xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function ob(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Du(s,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,ci(t,e,i)}return Pg(t,e,n,r,i)}function ab(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ra,In),In|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(ra,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(ra,In),In|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(ra,In),In|=r;return ln(t,e,i,n),e.child}function lb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pg(t,e,n,r,i){var s=En(n)?so:rn.current;return s=Ta(e,s),pa(e,i),n=mv(t,e,n,r,s,i),r=gv(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(Je&&r&&rv(e),e.flags|=1,ln(t,e,n,i),e.child)}function Bw(t,e,n,r,i){if(En(n)){var s=!0;bd(e)}else s=!1;if(pa(e,i),e.stateNode===null)Yh(t,e),rb(e,n,r),bg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=En(n)?so:rn.current,u=Ta(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ow(e,o,r,u),Di=!1;var f=e.memoizedState;o.state=f,kd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||wn.current||Di?(typeof h=="function"&&(Cg(e,n,h,r),l=e.memoizedState),(a=Di||Nw(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sr(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=En(n)?so:rn.current,l=Ta(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ow(e,o,r,l),Di=!1,f=e.memoizedState,o.state=f,kd(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||wn.current||Di?(typeof m=="function"&&(Cg(e,n,m,r),g=e.memoizedState),(u=Di||Nw(e,n,u,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ag(t,e,n,r,s,i)}function Ag(t,e,n,r,i,s){lb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&bw(e,n,!1),ci(t,e,s);r=e.stateNode,t2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ca(e,t.child,null,s),e.child=Ca(e,null,a,s)):ln(t,e,a,s),e.memoizedState=r.state,i&&bw(e,n,!0),e.child}function ub(t){var e=t.stateNode;e.pendingContext?Cw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cw(t,e.context,!1),hv(t,e.containerInfo)}function zw(t,e,n,r,i){return Sa(),sv(i),e.flags|=256,ln(t,e,n,r),e.child}var Rg={dehydrated:null,treeContext:null,retryLane:0};function kg(t){return{baseLanes:t,cachePool:null,transitions:null}}function cb(t,e,n){var r=e.pendingProps,i=tt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(tt,i&1),t===null)return Tg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vf(o,r,0,null),t=to(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kg(n),e.memoizedState=Rg,t):_v(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return n2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xi(a,s):(s=to(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?kg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rg,r}return s=t.child,t=s.sibling,r=Xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _v(t,e){return e=Vf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uh(t,e,n,r){return r!==null&&sv(r),Ca(e,t.child,null,n),t=_v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=rm(Error(H(422))),uh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vf({mode:"visible",children:r.children},i,0,null),s=to(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ca(e,t.child,null,o),e.child.memoizedState=kg(o),e.memoizedState=Rg,s);if(!(e.mode&1))return uh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=rm(s,r,void 0),uh(t,e,o,r)}if(a=(o&t.childLanes)!==0,_n||a){if(r=kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ui(t,i),hr(r,t,i,-1))}return Cv(),r=rm(Error(H(421))),uh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=m2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,An=Gi(i.nextSibling),Dn=e,Je=!0,lr=null,t!==null&&(Wn[Kn++]=qr,Wn[Kn++]=Yr,Wn[Kn++]=oo,qr=t.id,Yr=t.overflow,oo=e),e=_v(e,r.children),e.flags|=4096,e)}function $w(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sg(t.return,e,n)}function im(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ln(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$w(t,n,e);else if(t.tag===19)$w(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),im(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}im(e,!0,n,null,s);break;case"together":im(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function r2(t,e,n){switch(e.tag){case 3:ub(e),Sa();break;case 5:VC(e);break;case 1:En(e.type)&&bd(e);break;case 4:hv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Ad,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?cb(t,e,n):(He(tt,tt.current&1),t=ci(t,e,n),t!==null?t.sibling:null);He(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,ab(t,e,n)}return ci(t,e,n)}var db,Dg,fb,pb;db=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};fb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ks(Sr.current);var s=null;switch(n){case"input":i=eg(t,i),r=eg(t,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=rg(t,i),r=rg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sd)}sg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};pb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tl(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function i2(t,e,n){var r=e.pendingProps;switch(iv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return En(e.type)&&Cd(),Yt(e),null;case 3:return r=e.stateNode,ba(),Ye(wn),Ye(rn),fv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ah(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Ug(lr),lr=null))),Dg(t,e),Yt(e),null;case 5:dv(e);var i=Ks(Vu.current);if(n=e.type,t!==null&&e.stateNode!=null)fb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Yt(e),null}if(t=Ks(Sr.current),ah(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xr]=e,r[Ou]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Ul.length;i++)qe(Ul[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":J_(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":ew(r,s),qe("invalid",r)}sg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&oh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&oh(r.textContent,a,t),i=["children",""+a]):Cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Jc(r),Z_(r,s,!0);break;case"textarea":Jc(r),tw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xr]=e,t[Ou]=r,db(t,e,!1,!1),e.stateNode=t;e:{switch(o=og(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ul.length;i++)qe(Ul[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":J_(t,r),i=eg(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),qe("invalid",t);break;case"textarea":ew(t,r),i=rg(t,r),qe("invalid",t);break;default:i=r}sg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?WS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$S(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bu(t,l):typeof l=="number"&&bu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",t):l!=null&&$y(t,s,l,o))}switch(n){case"input":Jc(t),Z_(t,r,!1);break;case"textarea":Jc(t),tw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ca(t,!!r.multiple,s,!1):r.defaultValue!=null&&ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)pb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ks(Vu.current),Ks(Sr.current),ah(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(s=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:oh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return Yt(e),null;case 13:if(Ye(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&An!==null&&e.mode&1&&!(e.flags&128))DC(),Sa(),e.flags|=98560,s=!1;else if(s=ah(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[xr]=e}else Sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else lr!==null&&(Ug(lr),lr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?Tt===0&&(Tt=3):Cv())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return ba(),Dg(t,e),t===null&&Mu(e.stateNode.containerInfo),Yt(e),null;case 10:return lv(e.type._context),Yt(e),null;case 17:return En(e.type)&&Cd(),Yt(e),null;case 19:if(Ye(tt),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Tl(s,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dd(t),o!==null){for(e.flags|=128,Tl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>Pa&&(e.flags|=128,r=!0,Tl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Je)return Yt(e),null}else 2*dt()-s.renderingStartTime>Pa&&n!==1073741824&&(e.flags|=128,r=!0,Tl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=tt.current,He(tt,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return Sv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function s2(t,e){switch(iv(e),e.tag){case 1:return En(e.type)&&Cd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ba(),Ye(wn),Ye(rn),fv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(Ye(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(tt),null;case 4:return ba(),null;case 10:return lv(e.type._context),null;case 22:case 23:return Sv(),null;case 24:return null;default:return null}}var ch=!1,Zt=!1,o2=typeof WeakSet=="function"?WeakSet:Set,Q=null;function na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Mg(t,e,n){try{n()}catch(r){at(t,e,r)}}var Hw=!1;function a2(t,e){if(gg=Ed,t=_C(),nv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yg={focusedElem:t,selectionRange:n},Ed=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,T=g.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:sr(e.type,_),T);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){at(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return g=Hw,Hw=!1,g}function ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mg(e,n,s)}i=i.next}while(i!==r)}}function Of(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mb(t){var e=t.alternate;e!==null&&(t.alternate=null,mb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[Ou],delete e[wg],delete e[$M],delete e[HM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gb(t){return t.tag===5||t.tag===3||t.tag===4}function Ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sd));else if(r!==4&&(t=t.child,t!==null))for(Og(t,e,n),t=t.sibling;t!==null;)Og(t,e,n),t=t.sibling}function Lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}var Lt=null,or=!1;function Ii(t,e,n){for(n=n.child;n!==null;)yb(t,e,n),n=n.sibling}function yb(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(If,n)}catch{}switch(n.tag){case 5:Zt||na(n,e);case 6:var r=Lt,i=or;Lt=null,Ii(t,e,n),Lt=r,or=i,Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?Xp(t.parentNode,n):t.nodeType===1&&Xp(t,n),Ru(t)):Xp(Lt,n.stateNode));break;case 4:r=Lt,i=or,Lt=n.stateNode.containerInfo,or=!0,Ii(t,e,n),Lt=r,or=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mg(n,e,o),i=i.next}while(i!==r)}Ii(t,e,n);break;case 1:if(!Zt&&(na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,Ii(t,e,n),Zt=r):Ii(t,e,n);break;default:Ii(t,e,n)}}function Kw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new o2),e.forEach(function(r){var i=g2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,or=!1;break e;case 3:Lt=a.stateNode.containerInfo,or=!0;break e;case 4:Lt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Lt===null)throw Error(H(160));yb(s,o,i),Lt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vb(e,t),e=e.sibling}function vb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),yr(t),r&4){try{ou(3,t,t.return),Of(3,t)}catch(_){at(t,t.return,_)}try{ou(5,t,t.return)}catch(_){at(t,t.return,_)}}break;case 1:ir(e,t),yr(t),r&512&&n!==null&&na(n,n.return);break;case 5:if(ir(e,t),yr(t),r&512&&n!==null&&na(n,n.return),t.flags&32){var i=t.stateNode;try{bu(i,"")}catch(_){at(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&US(i,s),og(a,o);var u=og(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?WS(i,d):h==="dangerouslySetInnerHTML"?$S(i,d):h==="children"?bu(i,d):$y(i,h,d,u)}switch(a){case"input":tg(i,s);break;case"textarea":BS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ca(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?ca(i,!!s.multiple,s.defaultValue,!0):ca(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ou]=s}catch(_){at(t,t.return,_)}}break;case 6:if(ir(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){at(t,t.return,_)}}break;case 3:if(ir(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ru(e.containerInfo)}catch(_){at(t,t.return,_)}break;case 4:ir(e,t),yr(t);break;case 13:ir(e,t),yr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xv=dt())),r&4&&Kw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(u=Zt)||h,ir(e,t),Zt=u):ir(e,t),yr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(d=Q=h;Q!==null;){switch(f=Q,m=f.child,f.tag){case 0:case 11:case 14:case 15:ou(4,f,f.return);break;case 1:na(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){at(r,n,_)}}break;case 5:na(f,f.return);break;case 22:if(f.memoizedState!==null){qw(d);continue}}m!==null?(m.return=f,Q=m):qw(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HS("display",o))}catch(_){at(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){at(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ir(e,t),yr(t),r&4&&Kw(t);break;case 21:break;default:ir(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gb(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bu(i,""),r.flags&=-33);var s=Ww(t);Lg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ww(t);Og(t,a,o);break;default:throw Error(H(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l2(t,e,n){Q=t,_b(t)}function _b(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ch;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zt;a=ch;var u=Zt;if(ch=o,(Zt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Yw(i):l!==null?(l.return=o,Q=l):Yw(i);for(;s!==null;)Q=s,_b(s),s=s.sibling;Q=i,ch=a,Zt=u}Gw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Gw(t)}}function Gw(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||Of(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ru(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Zt||e.flags&512&&Ng(e)}catch(f){at(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function qw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Yw(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Of(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{Ng(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{Ng(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var u2=Math.ceil,Od=gi.ReactCurrentDispatcher,wv=gi.ReactCurrentOwner,qn=gi.ReactCurrentBatchConfig,Re=0,kt=null,yt=null,Ut=0,In=0,ra=ps(0),Tt=0,Bu=null,lo=0,Lf=0,Ev=0,au=null,gn=null,xv=0,Pa=1/0,$r=null,Ld=!1,Vg=null,Yi=null,hh=!1,ji=null,Vd=0,lu=0,Fg=null,Qh=-1,Xh=0;function cn(){return Re&6?dt():Qh!==-1?Qh:Qh=dt()}function Qi(t){return t.mode&1?Re&2&&Ut!==0?Ut&-Ut:KM.transition!==null?(Xh===0&&(Xh=rC()),Xh):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:cC(t.type)),t):1}function hr(t,e,n,r){if(50<lu)throw lu=0,Fg=null,Error(H(185));cc(t,n,r),(!(Re&2)||t!==kt)&&(t===kt&&(!(Re&2)&&(Lf|=n),Tt===4&&Ni(t,Ut)),xn(t,r),n===1&&Re===0&&!(e.mode&1)&&(Pa=dt()+500,Df&&ms()))}function xn(t,e){var n=t.callbackNode;KD(t,e);var r=wd(t,t===kt?Ut:0);if(r===0)n!==null&&iw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&iw(n),e===1)t.tag===0?WM(Qw.bind(null,t)):AC(Qw.bind(null,t)),BM(function(){!(Re&6)&&ms()}),n=null;else{switch(iC(r)){case 1:n=qy;break;case 4:n=tC;break;case 16:n=_d;break;case 536870912:n=nC;break;default:n=_d}n=Ib(n,wb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wb(t,e){if(Qh=-1,Xh=0,Re&6)throw Error(H(327));var n=t.callbackNode;if(ma()&&t.callbackNode!==n)return null;var r=wd(t,t===kt?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fd(t,r);else{e=r;var i=Re;Re|=2;var s=xb();(kt!==t||Ut!==e)&&($r=null,Pa=dt()+500,eo(t,e));do try{d2();break}catch(a){Eb(t,a)}while(!0);av(),Od.current=s,Re=i,yt!==null?e=0:(kt=null,Ut=0,e=Tt)}if(e!==0){if(e===2&&(i=hg(t),i!==0&&(r=i,e=jg(t,i))),e===1)throw n=Bu,eo(t,0),Ni(t,r),xn(t,dt()),n;if(e===6)Ni(t,r);else{if(i=t.current.alternate,!(r&30)&&!c2(i)&&(e=Fd(t,r),e===2&&(s=hg(t),s!==0&&(r=s,e=jg(t,s))),e===1))throw n=Bu,eo(t,0),Ni(t,r),xn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ls(t,gn,$r);break;case 3:if(Ni(t,r),(r&130023424)===r&&(e=xv+500-dt(),10<e)){if(wd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_g(Ls.bind(null,t,gn,$r),e);break}Ls(t,gn,$r);break;case 4:if(Ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u2(r/1960))-r,10<r){t.timeoutHandle=_g(Ls.bind(null,t,gn,$r),r);break}Ls(t,gn,$r);break;case 5:Ls(t,gn,$r);break;default:throw Error(H(329))}}}return xn(t,dt()),t.callbackNode===n?wb.bind(null,t):null}function jg(t,e){var n=au;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=Fd(t,e),t!==2&&(e=gn,gn=n,e!==null&&Ug(e)),t}function Ug(t){gn===null?gn=t:gn.push.apply(gn,t)}function c2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~Ev,e&=~Lf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cr(e),r=1<<n;t[n]=-1,e&=~r}}function Qw(t){if(Re&6)throw Error(H(327));ma();var e=wd(t,0);if(!(e&1))return xn(t,dt()),null;var n=Fd(t,e);if(t.tag!==0&&n===2){var r=hg(t);r!==0&&(e=r,n=jg(t,r))}if(n===1)throw n=Bu,eo(t,0),Ni(t,e),xn(t,dt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,gn,$r),xn(t,dt()),null}function Tv(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(Pa=dt()+500,Df&&ms())}}function uo(t){ji!==null&&ji.tag===0&&!(Re&6)&&ma();var e=Re;Re|=1;var n=qn.transition,r=Ve;try{if(qn.transition=null,Ve=1,t)return t()}finally{Ve=r,qn.transition=n,Re=e,!(Re&6)&&ms()}}function Sv(){In=ra.current,Ye(ra)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UM(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(iv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cd();break;case 3:ba(),Ye(wn),Ye(rn),fv();break;case 5:dv(r);break;case 4:ba();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:lv(r.type._context);break;case 22:case 23:Sv()}n=n.return}if(kt=t,yt=t=Xi(t.current,null),Ut=In=e,Tt=0,Bu=null,Ev=Lf=lo=0,gn=au=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ws=null}return t}function Eb(t,e){do{var n=yt;try{if(av(),Gh.current=Nd,Md){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Md=!1}if(ao=0,At=Et=rt=null,su=!1,Fu=0,wv.current=null,n===null||n.return===null){Tt=1,Bu=e,yt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Vw(o);if(m!==null){m.flags&=-257,Fw(m,o,a,s,e),m.mode&1&&Lw(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){Lw(s,u,e),Cv();break e}l=Error(H(426))}}else if(Je&&a.mode&1){var T=Vw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Fw(T,o,a,s,e),sv(Ia(l,a));break e}}s=l=Ia(l,a),Tt!==4&&(Tt=2),au===null?au=[s]:au.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=ib(s,l,e);Rw(s,w);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yi===null||!Yi.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=sb(s,a,e);Rw(s,k);break e}}s=s.return}while(s!==null)}Sb(n)}catch(L){e=L,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function xb(){var t=Od.current;return Od.current=Nd,t===null?Nd:t}function Cv(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),kt===null||!(lo&268435455)&&!(Lf&268435455)||Ni(kt,Ut)}function Fd(t,e){var n=Re;Re|=2;var r=xb();(kt!==t||Ut!==e)&&($r=null,eo(t,e));do try{h2();break}catch(i){Eb(t,i)}while(!0);if(av(),Re=n,Od.current=r,yt!==null)throw Error(H(261));return kt=null,Ut=0,Tt}function h2(){for(;yt!==null;)Tb(yt)}function d2(){for(;yt!==null&&!VD();)Tb(yt)}function Tb(t){var e=bb(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?Sb(t):yt=e,wv.current=null}function Sb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=s2(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,yt=null;return}}else if(n=i2(n,e,In),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Tt===0&&(Tt=5)}function Ls(t,e,n){var r=Ve,i=qn.transition;try{qn.transition=null,Ve=1,f2(t,e,n,r)}finally{qn.transition=i,Ve=r}return null}function f2(t,e,n,r){do ma();while(ji!==null);if(Re&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(GD(t,s),t===kt&&(yt=kt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hh||(hh=!0,Ib(_d,function(){return ma(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var o=Ve;Ve=1;var a=Re;Re|=4,wv.current=null,a2(t,n),vb(n,t),MM(yg),Ed=!!gg,yg=gg=null,t.current=n,l2(n),FD(),Re=a,Ve=o,qn.transition=s}else t.current=n;if(hh&&(hh=!1,ji=t,Vd=i),s=t.pendingLanes,s===0&&(Yi=null),BD(n.stateNode),xn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,t=Vg,Vg=null,t;return Vd&1&&t.tag!==0&&ma(),s=t.pendingLanes,s&1?t===Fg?lu++:(lu=0,Fg=t):lu=0,ms(),null}function ma(){if(ji!==null){var t=iC(Vd),e=qn.transition,n=Ve;try{if(qn.transition=null,Ve=16>t?16:t,ji===null)var r=!1;else{if(t=ji,ji=null,Vd=0,Re&6)throw Error(H(331));var i=Re;for(Re|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:ou(8,h,s)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var f=h.sibling,m=h.return;if(mb(h),h===u){Q=null;break}if(f!==null){f.return=m,Q=f;break}Q=m}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ou(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Q=w;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Q=x;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Of(9,a)}}catch(L){at(a,a.return,L)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(Re=i,ms(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(If,t)}catch{}r=!0}return r}finally{Ve=n,qn.transition=e}}return!1}function Xw(t,e,n){e=Ia(n,e),e=ib(t,e,1),t=qi(t,e,1),e=cn(),t!==null&&(cc(t,1,e),xn(t,e))}function at(t,e,n){if(t.tag===3)Xw(t,t,n);else for(;e!==null;){if(e.tag===3){Xw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){t=Ia(n,t),t=sb(e,t,1),e=qi(e,t,1),t=cn(),e!==null&&(cc(e,1,t),xn(e,t));break}}e=e.return}}function p2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Ut&n)===n&&(Tt===4||Tt===3&&(Ut&130023424)===Ut&&500>dt()-xv?eo(t,0):Ev|=n),xn(t,e)}function Cb(t,e){e===0&&(t.mode&1?(e=th,th<<=1,!(th&130023424)&&(th=4194304)):e=1);var n=cn();t=ui(t,e),t!==null&&(cc(t,e,n),xn(t,n))}function m2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cb(t,n)}function g2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Cb(t,n)}var bb;bb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,r2(t,e,n);_n=!!(t.flags&131072)}else _n=!1,Je&&e.flags&1048576&&RC(e,Pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yh(t,e),t=e.pendingProps;var i=Ta(e,rn.current);pa(e,n),i=mv(null,e,r,t,i,n);var s=gv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(s=!0,bd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cv(e),i.updater=Nf,e.stateNode=i,i._reactInternals=e,bg(e,r,t,n),e=Ag(null,e,r,!0,s,n)):(e.tag=0,Je&&s&&rv(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=v2(r),t=sr(r,t),i){case 0:e=Pg(null,e,r,t,n);break e;case 1:e=Bw(null,e,r,t,n);break e;case 11:e=jw(null,e,r,t,n);break e;case 14:e=Uw(null,e,r,sr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Pg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Bw(t,e,r,i,n);case 3:e:{if(ub(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,LC(t,e),kd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ia(Error(H(423)),e),e=zw(t,e,r,n,i);break e}else if(r!==i){i=Ia(Error(H(424)),e),e=zw(t,e,r,n,i);break e}else for(An=Gi(e.stateNode.containerInfo.firstChild),Dn=e,Je=!0,lr=null,n=NC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sa(),r===i){e=ci(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return VC(e),t===null&&Tg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vg(r,i)?o=null:s!==null&&vg(r,s)&&(e.flags|=32),lb(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&Tg(e),null;case 13:return cb(t,e,n);case 4:return hv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),jw(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(Ad,r._currentValue),r._currentValue=o,s!==null)if(fr(s.value,o)){if(s.children===i.children&&!wn.current){e=ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ti(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pa(e,n),i=Yn(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),Uw(t,e,r,i,n);case 15:return ob(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Yh(t,e),e.tag=1,En(r)?(t=!0,bd(e)):t=!1,pa(e,n),rb(e,r,i),bg(e,r,i,n),Ag(null,e,r,!0,t,n);case 19:return hb(t,e,n);case 22:return ab(t,e,n)}throw Error(H(156,e.tag))};function Ib(t,e){return eC(t,e)}function y2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new y2(t,e,n,r)}function bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function v2(t){if(typeof t=="function")return bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wy)return 11;if(t===Ky)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Go:return to(n.children,i,s,e);case Hy:o=8,i|=8;break;case Qm:return t=Gn(12,n,e,i|2),t.elementType=Qm,t.lanes=s,t;case Xm:return t=Gn(13,n,e,i),t.elementType=Xm,t.lanes=s,t;case Jm:return t=Gn(19,n,e,i),t.elementType=Jm,t.lanes=s,t;case VS:return Vf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OS:o=10;break e;case LS:o=9;break e;case Wy:o=11;break e;case Ky:o=14;break e;case ki:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function to(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Vf(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=VS,t.lanes=n,t.stateNode={isHidden:!1},t}function sm(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function om(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Up(0),this.expirationTimes=Up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Up(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iv(t,e,n,r,i,s,o,a,l){return t=new _2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(s),t}function w2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Pb(t){if(!t)return os;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(En(n))return PC(t,n,e)}return e}function Ab(t,e,n,r,i,s,o,a,l){return t=Iv(n,r,!0,t,i,s,o,a,l),t.context=Pb(null),n=t.current,r=cn(),i=Qi(n),s=ti(r,i),s.callback=e??null,qi(n,s,i),t.current.lanes=i,cc(t,i,r),xn(t,r),t}function Ff(t,e,n,r){var i=e.current,s=cn(),o=Qi(i);return n=Pb(n),e.context===null?e.context=n:e.pendingContext=n,e=ti(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qi(i,e,o),t!==null&&(hr(t,i,o,s),Kh(t,i,o)),o}function jd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pv(t,e){Jw(t,e),(t=t.alternate)&&Jw(t,e)}function E2(){return null}var Rb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Av(t){this._internalRoot=t}jf.prototype.render=Av.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Ff(t,e,null,null)};jf.prototype.unmount=Av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uo(function(){Ff(null,t,null,null)}),e[li]=null}};function jf(t){this._internalRoot=t}jf.prototype.unstable_scheduleHydration=function(t){if(t){var e=aC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mi.length&&e!==0&&e<Mi[n].priority;n++);Mi.splice(n,0,t),n===0&&uC(t)}};function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zw(){}function x2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=jd(o);s.call(u)}}var o=Ab(e,r,t,0,null,!1,!1,"",Zw);return t._reactRootContainer=o,t[li]=o.current,Mu(t.nodeType===8?t.parentNode:t),uo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=jd(l);a.call(u)}}var l=Iv(t,0,!1,null,null,!1,!1,"",Zw);return t._reactRootContainer=l,t[li]=l.current,Mu(t.nodeType===8?t.parentNode:t),uo(function(){Ff(e,l,n,r)}),l}function Bf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=jd(o);a.call(l)}}Ff(e,o,t,i)}else o=x2(n,e,t,i,r);return jd(o)}sC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jl(e.pendingLanes);n!==0&&(Yy(e,n|1),xn(e,dt()),!(Re&6)&&(Pa=dt()+500,ms()))}break;case 13:uo(function(){var r=ui(t,1);if(r!==null){var i=cn();hr(r,t,1,i)}}),Pv(t,1)}};Qy=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=cn();hr(e,t,134217728,n)}Pv(t,134217728)}};oC=function(t){if(t.tag===13){var e=Qi(t),n=ui(t,e);if(n!==null){var r=cn();hr(n,t,e,r)}Pv(t,e)}};aC=function(){return Ve};lC=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};lg=function(t,e,n){switch(e){case"input":if(tg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kf(r);if(!i)throw Error(H(90));jS(r),tg(r,i)}}}break;case"textarea":BS(t,n);break;case"select":e=n.value,e!=null&&ca(t,!!n.multiple,e,!1)}};qS=Tv;YS=uo;var T2={usingClientEntryPoint:!1,Events:[dc,Xo,kf,KS,GS,Tv]},Sl={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S2={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JS(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||E2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{If=dh.inject(S2),Tr=dh}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T2;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(e))throw Error(H(200));return w2(t,e,null,n)};Fn.createRoot=function(t,e){if(!Rv(t))throw Error(H(299));var n=!1,r="",i=Rb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Iv(t,1,!1,null,null,n,!1,r,i),t[li]=e.current,Mu(t.nodeType===8?t.parentNode:t),new Av(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=JS(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return uo(t)};Fn.hydrate=function(t,e,n){if(!Uf(e))throw Error(H(200));return Bf(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!Rv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Rb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ab(e,null,t,1,n??null,i,!1,s,o),t[li]=e.current,Mu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jf(e)};Fn.render=function(t,e,n){if(!Uf(e))throw Error(H(200));return Bf(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!Uf(t))throw Error(H(40));return t._reactRootContainer?(uo(function(){Bf(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Fn.unstable_batchedUpdates=Tv;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Bf(t,e,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kb)}catch(t){console.error(t)}}kb(),kS.exports=Fn;var kv=kS.exports;const C2=Ly(kv),b2=_S({__proto__:null,default:C2},[kv]);var eE=kv;qm.createRoot=eE.createRoot,qm.hydrateRoot=eE.hydrateRoot;/**
 * @remix-run/router v1.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},et.apply(this,arguments)}var mt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mt||(mt={}));const tE="popstate";function I2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return zu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pc(i)}return A2(e,n,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P2(){return Math.random().toString(36).substr(2,8)}function nE(t,e){return{usr:t.state,key:t.key,idx:e}}function zu(t,e,n,r){return n===void 0&&(n=null),et({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gs(e):e,{state:n,key:e&&e.key||r||P2()})}function pc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function A2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=mt.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(et({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=mt.Pop;let T=h(),w=T==null?null:T-u;u=T,l&&l({action:a,location:_.location,delta:w})}function f(T,w){a=mt.Push;let v=zu(_.location,T,w);u=h()+1;let x=nE(v,u),k=_.createHref(v);try{o.pushState(x,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(k)}s&&l&&l({action:a,location:_.location,delta:1})}function m(T,w){a=mt.Replace;let v=zu(_.location,T,w);u=h();let x=nE(v,u),k=_.createHref(v);o.replaceState(x,"",k),s&&l&&l({action:a,location:_.location,delta:0})}function g(T){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof T=="string"?T:pc(T);return v=v.replace(/ $/,"%20"),Ee(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let _={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tE,d),l=T,()=>{i.removeEventListener(tE,d),l=null}},createHref(T){return e(i,T)},createURL:g,encodeLocation(T){let w=g(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(T){return o.go(T)}};return _}var $e;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($e||($e={}));const R2=new Set(["lazy","caseSensitive","path","id","index","children"]);function k2(t){return t.index===!0}function $u(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ee(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),k2(i)){let l=et({},i,e(i),{id:a});return r[a]=l,l}else{let l=et({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=$u(i.children,e,o,r)),l}})}function $s(t,e,n){return n===void 0&&(n="/"),Zh(t,e,n,!1)}function Zh(t,e,n,r){let i=typeof e=="string"?gs(e):e,s=mc(i.pathname||"/",n);if(s==null)return null;let o=Db(t);M2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=H2(s);a=z2(o[l],u,r)}return a}function D2(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Db(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ji([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Db(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:U2(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Mb(s.path))i(s,o,l)}),e}function Mb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Mb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function M2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const N2=/^:[\w-]+$/,O2=3,L2=2,V2=1,F2=10,j2=-2,rE=t=>t==="*";function U2(t,e){let n=t.split("/"),r=n.length;return n.some(rE)&&(r+=j2),e&&(r+=L2),n.filter(i=>!rE(i)).reduce((i,s)=>i+(N2.test(s)?O2:s===""?V2:F2),r)}function B2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function z2(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=iE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=iE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ji([s,d.pathname]),pathnameBase:G2(Ji([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ji([s,d.pathnameBase]))}return o}function iE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function $2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function H2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Aa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function W2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gs(t):t;return{pathname:n?n.startsWith("/")?n:K2(n,e):e,search:q2(r),hash:Y2(i)}}function K2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function am(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ob(t,e){let n=Nb(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gs(t):(i=et({},t),Ee(!i.pathname||!i.pathname.includes("?"),am("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),am("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),am("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=W2(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Ji=t=>t.join("/").replace(/\/\/+/g,"/"),G2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Y2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Dv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function zf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vb=["post","put","patch","delete"],Q2=new Set(Vb),X2=["get",...Vb],J2=new Set(X2),Z2=new Set([301,302,303,307,308]),eN=new Set([307,308]),lm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Fb="remix-router-transitions";function rN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;i=V=>({hasErrorBoundary:O(V)})}else i=nN;let s={},o=$u(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||lN,h=t.unstable_patchRoutesOnMiss,d=et({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,g=null,_=null,T=null,w=t.hydrationData!=null,v=$s(o,t.history.location,l),x=null;if(v==null&&!h){let O=an(404,{pathname:t.history.location.pathname}),{matches:V,route:j}=pE(o);v=V,x={[j.id]:O}}let k;if(!v)k=!1,v=[];else if(v.some(O=>O.route.lazy))k=!1;else if(!v.some(O=>O.route.loader))k=!0;else if(d.v7_partialHydration){let O=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,j=B=>B.route.loader?typeof B.route.loader=="function"&&B.route.loader.hydrate===!0?!1:O&&O[B.route.id]!==void 0||V&&V[B.route.id]!==void 0:!0;if(V){let B=v.findIndex(q=>V[q.route.id]!==void 0);k=v.slice(0,B+1).every(j)}else k=v.every(j)}else k=t.hydrationData!=null;let L,A={historyAction:t.history.action,location:t.history.location,matches:v,initialized:k,navigation:lm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},b=mt.Pop,E=!1,C,P=!1,D=new Map,M=null,R=!1,ae=!1,ee=[],he=[],te=new Map,W=0,Y=-1,ne=new Map,we=new Set,ge=new Map,Ie=new Map,je=new Set,Ze=new Map,We=new Map,Zn=new Map,Za=!1;function Cp(){if(f=t.history.listen(O=>{let{action:V,location:j,delta:B}=O;if(Za){Za=!1;return}Aa(We.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let q=ol({currentLocation:A.location,nextLocation:j,historyAction:V});if(q&&B!=null){Za=!0,t.history.go(B*-1),Cs(q,{state:"blocked",location:j,proceed(){Cs(q,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),t.history.go(B)},reset(){let X=new Map(A.blockers);X.set(q,Cl),It({blockers:X})}});return}return mr(V,j)}),n){EN(e,D);let O=()=>xN(e,D);e.addEventListener("pagehide",O),M=()=>e.removeEventListener("pagehide",O)}return A.initialized||mr(mt.Pop,A.location,{initialHydration:!0}),L}function Io(){f&&f(),M&&M(),m.clear(),C&&C.abort(),A.fetchers.forEach((O,V)=>Ro(V)),A.blockers.forEach((O,V)=>Do(V))}function Po(O){return m.add(O),()=>m.delete(O)}function It(O,V){V===void 0&&(V={}),A=et({},A,O);let j=[],B=[];d.v7_fetcherPersist&&A.fetchers.forEach((q,X)=>{q.state==="idle"&&(je.has(X)?B.push(X):j.push(X))}),[...m].forEach(q=>q(A,{deletedFetchers:B,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),d.v7_fetcherPersist&&(j.forEach(q=>A.fetchers.delete(q)),B.forEach(q=>Ro(q)))}function pr(O,V,j){var B,q;let{flushSync:X}=j===void 0?{}:j,re=A.actionData!=null&&A.navigation.formMethod!=null&&ar(A.navigation.formMethod)&&A.navigation.state==="loading"&&((B=O.state)==null?void 0:B._isRedirect)!==!0,G;V.actionData?Object.keys(V.actionData).length>0?G=V.actionData:G=null:re?G=A.actionData:G=null;let ce=V.loaderData?dE(A.loaderData,V.loaderData,V.matches||[],V.errors):A.loaderData,J=A.blockers;J.size>0&&(J=new Map(J),J.forEach((ve,Me)=>J.set(Me,Cl)));let de=E===!0||A.navigation.formMethod!=null&&ar(A.navigation.formMethod)&&((q=O.state)==null?void 0:q._isRedirect)!==!0;a&&(o=a,a=void 0),R||b===mt.Pop||(b===mt.Push?t.history.push(O,O.state):b===mt.Replace&&t.history.replace(O,O.state));let Pe;if(b===mt.Pop){let ve=D.get(A.location.pathname);ve&&ve.has(O.pathname)?Pe={currentLocation:A.location,nextLocation:O}:D.has(O.pathname)&&(Pe={currentLocation:O,nextLocation:A.location})}else if(P){let ve=D.get(A.location.pathname);ve?ve.add(O.pathname):(ve=new Set([O.pathname]),D.set(A.location.pathname,ve)),Pe={currentLocation:A.location,nextLocation:O}}It(et({},V,{actionData:G,loaderData:ce,historyAction:b,location:O,initialized:!0,navigation:lm,revalidation:"idle",restoreScrollPosition:ll(O,V.matches||A.matches),preventScrollReset:de,blockers:J}),{viewTransitionOpts:Pe,flushSync:X===!0}),b=mt.Pop,E=!1,P=!1,R=!1,ae=!1,ee=[],he=[]}async function Ao(O,V){if(typeof O=="number"){t.history.go(O);return}let j=Bg(A.location,A.matches,l,d.v7_prependBasename,O,d.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:B,submission:q,error:X}=sE(d.v7_normalizeFormMethod,!1,j,V),re=A.location,G=zu(A.location,B,V&&V.state);G=et({},G,t.history.encodeLocation(G));let ce=V&&V.replace!=null?V.replace:void 0,J=mt.Push;ce===!0?J=mt.Replace:ce===!1||q!=null&&ar(q.formMethod)&&q.formAction===A.location.pathname+A.location.search&&(J=mt.Replace);let de=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Pe=(V&&V.unstable_flushSync)===!0,ve=ol({currentLocation:re,nextLocation:G,historyAction:J});if(ve){Cs(ve,{state:"blocked",location:G,proceed(){Cs(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ao(O,V)},reset(){let Me=new Map(A.blockers);Me.set(ve,Cl),It({blockers:Me})}});return}return await mr(J,G,{submission:q,pendingError:X,preventScrollReset:de,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:Pe})}function el(){if(wt(),It({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){mr(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}mr(b||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation})}}async function mr(O,V,j){C&&C.abort(),C=null,b=O,R=(j&&j.startUninterruptedRevalidation)===!0,Mo(A.location,A.matches),E=(j&&j.preventScrollReset)===!0,P=(j&&j.enableViewTransition)===!0;let B=a||o,q=j&&j.overrideNavigation,X=$s(B,V,l),re=(j&&j.flushSync)===!0,G=Ei(X,B,V.pathname);if(G.active&&G.matches&&(X=G.matches),!X){let{error:Ae,notFoundMatches:ct,route:Qe}=Or(V.pathname);pr(V,{matches:ct,loaderData:{},errors:{[Qe.id]:Ae}},{flushSync:re});return}if(A.initialized&&!ae&&pN(A.location,V)&&!(j&&j.submission&&ar(j.submission.formMethod))){pr(V,{matches:X},{flushSync:re});return}C=new AbortController;let ce=jo(t.history,V,C.signal,j&&j.submission),J;if(j&&j.pendingError)J=[uu(X).route.id,{type:$e.error,error:j.pendingError}];else if(j&&j.submission&&ar(j.submission.formMethod)){let Ae=await bp(ce,V,j.submission,X,G.active,{replace:j.replace,flushSync:re});if(Ae.shortCircuited)return;if(Ae.pendingActionResult){let[ct,Qe]=Ae.pendingActionResult;if(Pn(Qe)&&zf(Qe.error)&&Qe.error.status===404){C=null,pr(V,{matches:Ae.matches,loaderData:{},errors:{[ct]:Qe.error}});return}}X=Ae.matches||X,J=Ae.pendingActionResult,q=um(V,j.submission),re=!1,G.active=!1,ce=jo(t.history,ce.url,ce.signal)}let{shortCircuited:de,matches:Pe,loaderData:ve,errors:Me}=await Ip(ce,V,X,G.active,q,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,re,J);de||(C=null,pr(V,et({matches:Pe||X},fE(J),{loaderData:ve,errors:Me})))}async function bp(O,V,j,B,q,X){X===void 0&&(X={}),wt();let re=_N(V,j);if(It({navigation:re},{flushSync:X.flushSync===!0}),q){let J=await Is(B,V.pathname,O.signal);if(J.type==="aborted")return{shortCircuited:!0};if(J.type==="error"){let{error:de,notFoundMatches:Pe,route:ve}=wi(V.pathname,J);return{matches:Pe,pendingActionResult:[ve.id,{type:$e.error,error:de}]}}else if(J.matches)B=J.matches;else{let{notFoundMatches:de,error:Pe,route:ve}=Or(V.pathname);return{matches:de,pendingActionResult:[ve.id,{type:$e.error,error:Pe}]}}}let G,ce=Bl(B,V);if(!ce.route.action&&!ce.route.lazy)G={type:$e.error,error:an(405,{method:O.method,pathname:V.pathname,routeId:ce.route.id})};else if(G=(await _i("action",O,[ce],B))[0],O.signal.aborted)return{shortCircuited:!0};if(qs(G)){let J;return X&&X.replace!=null?J=X.replace:J=uE(G.response.headers.get("Location"),new URL(O.url),l)===A.location.pathname+A.location.search,await Nr(O,G,{submission:j,replace:J}),{shortCircuited:!0}}if(Gs(G))throw an(400,{type:"defer-action"});if(Pn(G)){let J=uu(B,ce.route.id);return(X&&X.replace)!==!0&&(b=mt.Push),{matches:B,pendingActionResult:[J.route.id,G]}}return{matches:B,pendingActionResult:[ce.route.id,G]}}async function Ip(O,V,j,B,q,X,re,G,ce,J,de){let Pe=q||um(V,X),ve=X||re||yE(Pe),Me=!R&&(!d.v7_partialHydration||!ce);if(B){if(Me){let Ke=tl(de);It(et({navigation:Pe},Ke!==void 0?{actionData:Ke}:{}),{flushSync:J})}let ye=await Is(j,V.pathname,O.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{error:Ke,notFoundMatches:Wt,route:Le}=wi(V.pathname,ye);return{matches:Wt,loaderData:{},errors:{[Le.id]:Ke}}}else if(ye.matches)j=ye.matches;else{let{error:Ke,notFoundMatches:Wt,route:Le}=Or(V.pathname);return{matches:Wt,loaderData:{},errors:{[Le.id]:Ke}}}}let Ae=a||o,[ct,Qe]=oE(t.history,A,j,ve,V,d.v7_partialHydration&&ce===!0,d.unstable_skipActionErrorRevalidation,ae,ee,he,je,ge,we,Ae,l,de);if(bs(ye=>!(j&&j.some(Ke=>Ke.route.id===ye))||ct&&ct.some(Ke=>Ke.route.id===ye)),Y=++W,ct.length===0&&Qe.length===0){let ye=ko();return pr(V,et({matches:j,loaderData:{},errors:de&&Pn(de[1])?{[de[0]]:de[1].error}:null},fE(de),ye?{fetchers:new Map(A.fetchers)}:{}),{flushSync:J}),{shortCircuited:!0}}if(Me){let ye={};if(!B){ye.navigation=Pe;let Ke=tl(de);Ke!==void 0&&(ye.actionData=Ke)}Qe.length>0&&(ye.fetchers=nl(Qe)),It(ye,{flushSync:J})}Qe.forEach(ye=>{te.has(ye.key)&&er(ye.key),ye.controller&&te.set(ye.key,ye.controller)});let xi=()=>Qe.forEach(ye=>er(ye.key));C&&C.signal.addEventListener("abort",xi);let{loaderResults:tr,fetcherResults:Ti}=await _t(A.matches,j,ct,Qe,O);if(O.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",xi),Qe.forEach(ye=>te.delete(ye.key));let nr=mE([...tr,...Ti]);if(nr){if(nr.idx>=ct.length){let ye=Qe[nr.idx-ct.length].key;we.add(ye)}return await Nr(O,nr.result,{replace:G}),{shortCircuited:!0}}let{loaderData:Vr,errors:fn}=hE(A,j,ct,tr,de,Qe,Ti,Ze);Ze.forEach((ye,Ke)=>{ye.subscribe(Wt=>{(Wt||ye.done)&&Ze.delete(Ke)})}),d.v7_partialHydration&&ce&&A.errors&&Object.entries(A.errors).filter(ye=>{let[Ke]=ye;return!ct.some(Wt=>Wt.route.id===Ke)}).forEach(ye=>{let[Ke,Wt]=ye;fn=Object.assign(fn||{},{[Ke]:Wt})});let gr=ko(),Bn=Fc(Y),Si=gr||Bn||Qe.length>0;return et({matches:j,loaderData:Vr,errors:fn},Si?{fetchers:new Map(A.fetchers)}:{})}function tl(O){if(O&&!Pn(O[1]))return{[O[0]]:O[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function nl(O){return O.forEach(V=>{let j=A.fetchers.get(V.key),B=bl(void 0,j?j.data:void 0);A.fetchers.set(V.key,B)}),new Map(A.fetchers)}function Vc(O,V,j,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");te.has(O)&&er(O);let q=(B&&B.unstable_flushSync)===!0,X=a||o,re=Bg(A.location,A.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,V,B==null?void 0:B.relative),G=$s(X,re,l),ce=Ei(G,X,re);if(ce.active&&ce.matches&&(G=ce.matches),!G){Un(O,V,an(404,{pathname:re}),{flushSync:q});return}let{path:J,submission:de,error:Pe}=sE(d.v7_normalizeFormMethod,!0,re,B);if(Pe){Un(O,V,Pe,{flushSync:q});return}let ve=Bl(G,J);if(E=(B&&B.preventScrollReset)===!0,de&&ar(de.formMethod)){Pp(O,V,J,ve,G,ce.active,q,de);return}ge.set(O,{routeId:V,path:J}),rl(O,V,J,ve,G,ce.active,q,de)}async function Pp(O,V,j,B,q,X,re,G){wt(),ge.delete(O);function ce(Le){if(!Le.route.action&&!Le.route.lazy){let Sn=an(405,{method:G.formMethod,pathname:j,routeId:V});return Un(O,V,Sn,{flushSync:re}),!0}return!1}if(!X&&ce(B))return;let J=A.fetchers.get(O);Tn(O,wN(G,J),{flushSync:re});let de=new AbortController,Pe=jo(t.history,j,de.signal,G);if(X){let Le=await Is(q,j,Pe.signal);if(Le.type==="aborted")return;if(Le.type==="error"){let{error:Sn}=wi(j,Le);Un(O,V,Sn,{flushSync:re});return}else if(Le.matches){if(q=Le.matches,B=Bl(q,j),ce(B))return}else{Un(O,V,an(404,{pathname:j}),{flushSync:re});return}}te.set(O,de);let ve=W,Ae=(await _i("action",Pe,[B],q))[0];if(Pe.signal.aborted){te.get(O)===de&&te.delete(O);return}if(d.v7_fetcherPersist&&je.has(O)){if(qs(Ae)||Pn(Ae)){Tn(O,Ai(void 0));return}}else{if(qs(Ae))if(te.delete(O),Y>ve){Tn(O,Ai(void 0));return}else return we.add(O),Tn(O,bl(G)),Nr(Pe,Ae,{fetcherSubmission:G});if(Pn(Ae)){Un(O,V,Ae.error);return}}if(Gs(Ae))throw an(400,{type:"defer-action"});let ct=A.navigation.location||A.location,Qe=jo(t.history,ct,de.signal),xi=a||o,tr=A.navigation.state!=="idle"?$s(xi,A.navigation.location,l):A.matches;Ee(tr,"Didn't find any matches after fetcher action");let Ti=++W;ne.set(O,Ti);let nr=bl(G,Ae.data);A.fetchers.set(O,nr);let[Vr,fn]=oE(t.history,A,tr,G,ct,!1,d.unstable_skipActionErrorRevalidation,ae,ee,he,je,ge,we,xi,l,[B.route.id,Ae]);fn.filter(Le=>Le.key!==O).forEach(Le=>{let Sn=Le.key,No=A.fetchers.get(Sn),jc=bl(void 0,No?No.data:void 0);A.fetchers.set(Sn,jc),te.has(Sn)&&er(Sn),Le.controller&&te.set(Sn,Le.controller)}),It({fetchers:new Map(A.fetchers)});let gr=()=>fn.forEach(Le=>er(Le.key));de.signal.addEventListener("abort",gr);let{loaderResults:Bn,fetcherResults:Si}=await _t(A.matches,tr,Vr,fn,Qe);if(de.signal.aborted)return;de.signal.removeEventListener("abort",gr),ne.delete(O),te.delete(O),fn.forEach(Le=>te.delete(Le.key));let ye=mE([...Bn,...Si]);if(ye){if(ye.idx>=Vr.length){let Le=fn[ye.idx-Vr.length].key;we.add(Le)}return Nr(Qe,ye.result)}let{loaderData:Ke,errors:Wt}=hE(A,A.matches,Vr,Bn,void 0,fn,Si,Ze);if(A.fetchers.has(O)){let Le=Ai(Ae.data);A.fetchers.set(O,Le)}Fc(Ti),A.navigation.state==="loading"&&Ti>Y?(Ee(b,"Expected pending action"),C&&C.abort(),pr(A.navigation.location,{matches:tr,loaderData:Ke,errors:Wt,fetchers:new Map(A.fetchers)})):(It({errors:Wt,loaderData:dE(A.loaderData,Ke,tr,Wt),fetchers:new Map(A.fetchers)}),ae=!1)}async function rl(O,V,j,B,q,X,re,G){let ce=A.fetchers.get(O);Tn(O,bl(G,ce?ce.data:void 0),{flushSync:re});let J=new AbortController,de=jo(t.history,j,J.signal);if(X){let Ae=await Is(q,j,de.signal);if(Ae.type==="aborted")return;if(Ae.type==="error"){let{error:ct}=wi(j,Ae);Un(O,V,ct,{flushSync:re});return}else if(Ae.matches)q=Ae.matches,B=Bl(q,j);else{Un(O,V,an(404,{pathname:j}),{flushSync:re});return}}te.set(O,J);let Pe=W,Me=(await _i("loader",de,[B],q))[0];if(Gs(Me)&&(Me=await $b(Me,de.signal,!0)||Me),te.get(O)===J&&te.delete(O),!de.signal.aborted){if(je.has(O)){Tn(O,Ai(void 0));return}if(qs(Me))if(Y>Pe){Tn(O,Ai(void 0));return}else{we.add(O),await Nr(de,Me);return}if(Pn(Me)){Un(O,V,Me.error);return}Ee(!Gs(Me),"Unhandled fetcher deferred data"),Tn(O,Ai(Me.data))}}async function Nr(O,V,j){let{submission:B,fetcherSubmission:q,replace:X}=j===void 0?{}:j;V.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let re=V.response.headers.get("Location");Ee(re,"Expected a Location header on the redirect Response"),re=uE(re,new URL(O.url),l);let G=zu(A.location,re,{_isRedirect:!0});if(n){let Me=!1;if(V.response.headers.has("X-Remix-Reload-Document"))Me=!0;else if(Mv.test(re)){const Ae=t.history.createURL(re);Me=Ae.origin!==e.location.origin||mc(Ae.pathname,l)==null}if(Me){X?e.location.replace(re):e.location.assign(re);return}}C=null;let ce=X===!0?mt.Replace:mt.Push,{formMethod:J,formAction:de,formEncType:Pe}=A.navigation;!B&&!q&&J&&de&&Pe&&(B=yE(A.navigation));let ve=B||q;if(eN.has(V.response.status)&&ve&&ar(ve.formMethod))await mr(ce,G,{submission:et({},ve,{formAction:re}),preventScrollReset:E});else{let Me=um(G,B);await mr(ce,G,{overrideNavigation:Me,fetcherSubmission:q,preventScrollReset:E})}}async function _i(O,V,j,B){try{let q=await uN(u,O,V,j,B,s,i);return await Promise.all(q.map((X,re)=>{if(gN(X)){let G=X.result;return{type:$e.redirect,response:dN(G,V,j[re].route.id,B,l,d.v7_relativeSplatPath)}}return hN(X)}))}catch(q){return j.map(()=>({type:$e.error,error:q}))}}async function _t(O,V,j,B,q){let[X,...re]=await Promise.all([j.length?_i("loader",q,j,V):[],...B.map(G=>{if(G.matches&&G.match&&G.controller){let ce=jo(t.history,G.path,G.controller.signal);return _i("loader",ce,[G.match],G.matches).then(J=>J[0])}else return Promise.resolve({type:$e.error,error:an(404,{pathname:G.path})})})]);return await Promise.all([gE(O,j,X,X.map(()=>q.signal),!1,A.loaderData),gE(O,B.map(G=>G.match),re,B.map(G=>G.controller?G.controller.signal:null),!0)]),{loaderResults:X,fetcherResults:re}}function wt(){ae=!0,ee.push(...bs()),ge.forEach((O,V)=>{te.has(V)&&(he.push(V),er(V))})}function Tn(O,V,j){j===void 0&&(j={}),A.fetchers.set(O,V),It({fetchers:new Map(A.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function Un(O,V,j,B){B===void 0&&(B={});let q=uu(A.matches,V);Ro(O),It({errors:{[q.route.id]:j},fetchers:new Map(A.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function il(O){return d.v7_fetcherPersist&&(Ie.set(O,(Ie.get(O)||0)+1),je.has(O)&&je.delete(O)),A.fetchers.get(O)||tN}function Ro(O){let V=A.fetchers.get(O);te.has(O)&&!(V&&V.state==="loading"&&ne.has(O))&&er(O),ge.delete(O),ne.delete(O),we.delete(O),je.delete(O),A.fetchers.delete(O)}function Ss(O){if(d.v7_fetcherPersist){let V=(Ie.get(O)||0)-1;V<=0?(Ie.delete(O),je.add(O)):Ie.set(O,V)}else Ro(O);It({fetchers:new Map(A.fetchers)})}function er(O){let V=te.get(O);Ee(V,"Expected fetch controller: "+O),V.abort(),te.delete(O)}function sl(O){for(let V of O){let j=il(V),B=Ai(j.data);A.fetchers.set(V,B)}}function ko(){let O=[],V=!1;for(let j of we){let B=A.fetchers.get(j);Ee(B,"Expected fetcher: "+j),B.state==="loading"&&(we.delete(j),O.push(j),V=!0)}return sl(O),V}function Fc(O){let V=[];for(let[j,B]of ne)if(B<O){let q=A.fetchers.get(j);Ee(q,"Expected fetcher: "+j),q.state==="loading"&&(er(j),ne.delete(j),V.push(j))}return sl(V),V.length>0}function Ap(O,V){let j=A.blockers.get(O)||Cl;return We.get(O)!==V&&We.set(O,V),j}function Do(O){A.blockers.delete(O),We.delete(O)}function Cs(O,V){let j=A.blockers.get(O)||Cl;Ee(j.state==="unblocked"&&V.state==="blocked"||j.state==="blocked"&&V.state==="blocked"||j.state==="blocked"&&V.state==="proceeding"||j.state==="blocked"&&V.state==="unblocked"||j.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+j.state+" -> "+V.state);let B=new Map(A.blockers);B.set(O,V),It({blockers:B})}function ol(O){let{currentLocation:V,nextLocation:j,historyAction:B}=O;if(We.size===0)return;We.size>1&&Aa(!1,"A router only supports one blocker at a time");let q=Array.from(We.entries()),[X,re]=q[q.length-1],G=A.blockers.get(X);if(!(G&&G.state==="proceeding")&&re({currentLocation:V,nextLocation:j,historyAction:B}))return X}function Or(O){let V=an(404,{pathname:O}),j=a||o,{matches:B,route:q}=pE(j);return bs(),{notFoundMatches:B,route:q,error:V}}function wi(O,V){let j=V.partialMatches,B=j[j.length-1].route,q=an(400,{type:"route-discovery",routeId:B.id,pathname:O,message:V.error!=null&&"message"in V.error?V.error:String(V.error)});return{notFoundMatches:j,route:B,error:q}}function bs(O){let V=[];return Ze.forEach((j,B)=>{(!O||O(B))&&(j.cancel(),V.push(B),Ze.delete(B))}),V}function Lr(O,V,j){if(g=O,T=V,_=j||null,!w&&A.navigation===lm){w=!0;let B=ll(A.location,A.matches);B!=null&&It({restoreScrollPosition:B})}return()=>{g=null,T=null,_=null}}function al(O,V){return _&&_(O,V.map(B=>D2(B,A.loaderData)))||O.key}function Mo(O,V){if(g&&T){let j=al(O,V);g[j]=T()}}function ll(O,V){if(g){let j=al(O,V),B=g[j];if(typeof B=="number")return B}return null}function Ei(O,V,j){if(h)if(O){if(O[O.length-1].route.path==="*")return{active:!0,matches:Zh(V,j,l,!0)}}else return{active:!0,matches:Zh(V,j,l,!0)||[]};return{active:!1,matches:null}}async function Is(O,V,j){let B=O,q=B.length>0?B[B.length-1].route:null;for(;;){try{await aN(h,V,B,o||a,s,i,Zn,j)}catch(J){return{type:"error",error:J,partialMatches:B}}if(j.aborted)return{type:"aborted"};let X=a||o,re=$s(X,V,l),G=!1;if(re){let J=re[re.length-1].route;if(J.index)return{type:"success",matches:re};if(J.path&&J.path.length>0)if(J.path==="*")G=!0;else return{type:"success",matches:re}}let ce=Zh(X,V,l,!0);if(!ce||B.map(J=>J.route.id).join("-")===ce.map(J=>J.route.id).join("-"))return{type:"success",matches:G?re:null};if(B=ce,q=B[B.length-1].route,q.path==="*")return{type:"success",matches:B}}}function Mt(O){s={},a=$u(O,i,void 0,s)}return L={get basename(){return l},get future(){return d},get state(){return A},get routes(){return o},get window(){return e},initialize:Cp,subscribe:Po,enableScrollRestoration:Lr,navigate:Ao,fetch:Vc,revalidate:el,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:il,deleteFetcher:Ss,dispose:Io,getBlocker:Ap,deleteBlocker:Do,patchRoutes(O,V){return Ub(O,V,o||a,s,i)},_internalFetchControllers:te,_internalActiveDeferreds:Ze,_internalSetRoutes:Mt},L}function iN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Bg(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let h=Lb(i||".",Ob(l,s),mc(t.pathname,n)||t.pathname,a==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Nv(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Ji([n,h.pathname])),pc(h)}function sE(t,e,n,r){if(!r||!iN(r))return{path:n};if(r.formMethod&&!vN(r.formMethod))return{path:n,error:an(405,{method:r.formMethod})};let i=()=>({path:n,error:an(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Bb(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ar(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[_,T]=g;return""+m+_+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ar(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ee(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=zg(r.formData),u=r.formData;else if(r.body instanceof FormData)l=zg(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=cE(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=cE(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ar(h.formMethod))return{path:n,submission:h};let d=gs(n);return e&&d.search&&Nv(d.search)&&l.append("index",""),d.search="?"+l,{path:pc(d),submission:h}}function sN(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function oE(t,e,n,r,i,s,o,a,l,u,h,d,f,m,g,_){let T=_?Pn(_[1])?_[1].error:_[1].data:void 0,w=t.createURL(e.location),v=t.createURL(i),x=_&&Pn(_[1])?_[0]:void 0,k=x?sN(n,x):n,L=_?_[1].statusCode:void 0,A=o&&L&&L>=400,b=k.filter((C,P)=>{let{route:D}=C;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(oN(e.loaderData,e.matches[P],C)||l.some(ae=>ae===C.route.id))return!0;let M=e.matches[P],R=C;return aE(C,et({currentUrl:w,currentParams:M.params,nextUrl:v,nextParams:R.params},r,{actionResult:T,unstable_actionStatus:L,defaultShouldRevalidate:A?!1:a||w.pathname+w.search===v.pathname+v.search||w.search!==v.search||jb(M,R)}))}),E=[];return d.forEach((C,P)=>{if(s||!n.some(ee=>ee.route.id===C.routeId)||h.has(P))return;let D=$s(m,C.path,g);if(!D){E.push({key:P,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(P),R=Bl(D,C.path),ae=!1;f.has(P)?ae=!1:u.includes(P)?ae=!0:M&&M.state!=="idle"&&M.data===void 0?ae=a:ae=aE(R,et({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:T,unstable_actionStatus:L,defaultShouldRevalidate:A?!1:a})),ae&&E.push({key:P,routeId:C.routeId,path:C.path,matches:D,match:R,controller:new AbortController})}),[b,E]}function oN(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function jb(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function aE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function aN(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(h,d)=>{a.aborted||Ub(h,d,r,i,s)}}),o.set(l,u)),u&&mN(u)&&await u}finally{o.delete(l)}}function Ub(t,e,n,r,i){if(t){var s;let o=r[t];Ee(o,"No route found to patch children into: routeId = "+t);let a=$u(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=$u(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function lE(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ee(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Aa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!R2.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,et({},e(i),{lazy:void 0}))}function lN(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function uN(t,e,n,r,i,s,o,a){let l=r.reduce((d,f)=>d.add(f.route.id),new Set),u=new Set,h=await t({matches:i.map(d=>{let f=l.has(d.route.id);return et({},d,{shouldLoad:f,resolve:g=>(u.add(d.route.id),f?cN(e,n,d,s,o,g,a):Promise.resolve({type:$e.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(d=>Ee(u.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(i[f].route.id))}async function cN(t,e,n,r,i,s,o){let a,l,u=h=>{let d,f=new Promise((_,T)=>d=T);l=()=>d(),e.signal.addEventListener("abort",l);let m=_=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},..._!==void 0?[_]:[]),g;return s?g=s(_=>m(_)):g=(async()=>{try{return{type:"data",result:await m()}}catch(_){return{type:"error",result:_}}})(),Promise.race([g,f])};try{let h=n.route[t];if(n.route.lazy)if(h){let d,[f]=await Promise.all([u(h).catch(m=>{d=m}),lE(n.route,i,r)]);if(d!==void 0)throw d;a=f}else if(await lE(n.route,i,r),h=n.route[t],h)a=await u(h);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw an(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:$e.data,result:void 0};else if(h)a=await u(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw an(404,{pathname:f})}Ee(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:$e.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function hN(t){let{result:e,type:n,status:r}=t;if(zb(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:$e.error,error:a}}return n===$e.error?{type:$e.error,error:new Dv(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:$e.data,data:o,statusCode:e.status,headers:e.headers}}if(n===$e.error)return{type:$e.error,error:e,statusCode:zf(e)?e.status:r};if(yN(e)){var i,s;return{type:$e.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:$e.data,data:e,statusCode:r}}function dN(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ee(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mv.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Bg(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function uE(t,e,n){if(Mv.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=mc(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function jo(t,e,n,r){let i=t.createURL(Bb(e)).toString(),s={signal:n};if(r&&ar(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=zg(r.formData):s.body=r.formData}return new Request(i,s)}function zg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function cE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function fN(t,e,n,r,i,s){let o={},a=null,l,u=!1,h={},d=r&&Pn(r[1])?r[1].error:void 0;return n.forEach((f,m)=>{let g=e[m].route.id;if(Ee(!qs(f),"Cannot handle redirect results in processLoaderData"),Pn(f)){let _=f.error;d!==void 0&&(_=d,d=void 0),a=a||{};{let T=uu(t,g);a[T.route.id]==null&&(a[T.route.id]=_)}o[g]=void 0,u||(u=!0,l=zf(f.error)?f.error.status:500),f.headers&&(h[g]=f.headers)}else Gs(f)?(i.set(g,f.deferredData),o[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers)):(o[g]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function hE(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=fN(e,n,r,i,a);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:m}=s[h];Ee(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let g=o[h];if(!(m&&m.signal.aborted))if(Pn(g)){let _=uu(t.matches,f==null?void 0:f.route.id);u&&u[_.route.id]||(u=et({},u,{[_.route.id]:g.error})),t.fetchers.delete(d)}else if(qs(g))Ee(!1,"Unhandled fetcher revalidation redirect");else if(Gs(g))Ee(!1,"Unhandled fetcher deferred data");else{let _=Ai(g.data);t.fetchers.set(d,_)}}return{loaderData:l,errors:u}}function dE(t,e,n,r){let i=et({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function fE(t){return t?Pn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function uu(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function pE(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function an(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+r+"` threw the following error:\n"+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Dv(t||500,a,new Error(l),!0)}function mE(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(qs(n))return{result:n,idx:e}}}function Bb(t){let e=typeof t=="string"?gs(t):t;return pc(et({},e,{hash:""}))}function pN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function mN(t){return typeof t=="object"&&t!=null&&"then"in t}function gN(t){return zb(t.result)&&Z2.has(t.result.status)}function Gs(t){return t.type===$e.deferred}function Pn(t){return t.type===$e.error}function qs(t){return(t&&t.type)===$e.redirect}function yN(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function zb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function vN(t){return J2.has(t.toLowerCase())}function ar(t){return Q2.has(t.toLowerCase())}async function gE(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),h=u!=null&&!jb(u,l)&&(s&&s[l.route.id])!==void 0;if(Gs(a)&&(i||h)){let d=r[o];Ee(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await $b(a,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function $b(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:$e.data,data:t.deferredData.unwrappedData}}catch(i){return{type:$e.error,error:i}}return{type:$e.data,data:t.deferredData.data}}}function Nv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Bl(t,e){let n=typeof e=="string"?gs(e).search:e.search;if(t[t.length-1].route.index&&Nv(n||""))return t[t.length-1];let r=Nb(t);return r[r.length-1]}function yE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function um(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _N(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function wN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ai(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function EN(t,e){try{let n=t.sessionStorage.getItem(Fb);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function xN(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Fb,JSON.stringify(n))}catch(r){Aa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}const $f=N.createContext(null),Hb=N.createContext(null),Hf=N.createContext(null),Ov=N.createContext(null),xo=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Wb=N.createContext(null);function Wf(){return N.useContext(Ov)!=null}function Kb(){return Wf()||Ee(!1),N.useContext(Ov).location}function Gb(t){N.useContext(Hf).static||N.useLayoutEffect(t)}function gc(){let{isDataRoute:t}=N.useContext(xo);return t?LN():TN()}function TN(){Wf()||Ee(!1);let t=N.useContext($f),{basename:e,future:n,navigator:r}=N.useContext(Hf),{matches:i}=N.useContext(xo),{pathname:s}=Kb(),o=JSON.stringify(Ob(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return Gb(()=>{a.current=!0}),N.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Lb(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ji([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}const SN=N.createContext(null);function CN(t){let e=N.useContext(xo).outlet;return e&&N.createElement(SN.Provider,{value:t},e)}function bN(t,e,n,r){Wf()||Ee(!1);let{navigator:i}=N.useContext(Hf),{matches:s}=N.useContext(xo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Kb(),h;h=u;let d=h.pathname||"/",f=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=$s(t,{pathname:f});return kN(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ji([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ji([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r)}function IN(){let t=ON(),e=zf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const PN=N.createElement(IN,null);class AN extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(xo.Provider,{value:this.props.routeContext},N.createElement(Wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RN(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext($f);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(xo.Provider,{value:e},r)}function kN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Ee(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let m,g=!1,_=null,T=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||PN,l&&(u<0&&f===0?(VN("route-fallback"),g=!0,T=null):u===f&&(g=!0,T=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),v=()=>{let x;return m?x=_:g?x=T:d.route.Component?x=N.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,N.createElement(RN,{match:d,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?N.createElement(AN,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var qb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qb||{}),Bd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bd||{});function DN(t){let e=N.useContext($f);return e||Ee(!1),e}function MN(t){let e=N.useContext(Hb);return e||Ee(!1),e}function NN(t){let e=N.useContext(xo);return e||Ee(!1),e}function Yb(t){let e=NN(),n=e.matches[e.matches.length-1];return n.route.id||Ee(!1),n.route.id}function ON(){var t;let e=N.useContext(Wb),n=MN(Bd.UseRouteError),r=Yb(Bd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LN(){let{router:t}=DN(qb.UseNavigateStable),e=Yb(Bd.UseNavigateStable),n=N.useRef(!1);return Gb(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ud({fromRouteId:e},s)))},[t,e])}const vE={};function VN(t,e,n){vE[t]||(vE[t]=!0)}function FN(t){return CN(t.context)}function jN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mt.Pop,navigator:s,static:o=!1,future:a}=t;Wf()&&Ee(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Ud({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=gs(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,_=N.useMemo(()=>{let T=mc(h,l);return T==null?null:{location:{pathname:T,search:d,hash:f,state:m,key:g},navigationType:i}},[l,h,d,f,m,g,i]);return _==null?null:N.createElement(Hf.Provider,{value:u},N.createElement(Ov.Provider,{children:n,value:_}))}new Promise(()=>{});function UN(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}const BN="6";try{window.__reactRouterVersion=BN}catch{}function zN(t,e){return rN({basename:void 0,future:zd({},void 0,{v7_prependBasename:!0}),history:I2({window:void 0}),hydrationData:$N(),routes:t,mapRouteProperties:UN,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function $N(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=zd({},e,{errors:HN(e.errors)})),e}function HN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Dv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const WN=N.createContext({isTransitioning:!1}),KN=N.createContext(new Map),GN="startTransition",_E=pD[GN],qN="flushSync",wE=b2[qN];function YN(t){_E?_E(t):t()}function Il(t){wE?wE(t):t()}let QN=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function XN(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=N.useState(n.state),[o,a]=N.useState(),[l,u]=N.useState({isTransitioning:!1}),[h,d]=N.useState(),[f,m]=N.useState(),[g,_]=N.useState(),T=N.useRef(new Map),{v7_startTransition:w}=r||{},v=N.useCallback(b=>{w?YN(b):b()},[w]),x=N.useCallback((b,E)=>{let{deletedFetchers:C,unstable_flushSync:P,unstable_viewTransitionOpts:D}=E;C.forEach(R=>T.current.delete(R)),b.fetchers.forEach((R,ae)=>{R.data!==void 0&&T.current.set(ae,R.data)});let M=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||M){P?Il(()=>s(b)):v(()=>s(b));return}if(P){Il(()=>{f&&(h&&h.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let R=n.window.document.startViewTransition(()=>{Il(()=>s(b))});R.finished.finally(()=>{Il(()=>{d(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),Il(()=>m(R));return}f?(h&&h.resolve(),f.skipTransition(),_({state:b,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(b),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,h,T,v]);N.useLayoutEffect(()=>n.subscribe(x),[n,x]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new QN)},[l]),N.useEffect(()=>{if(h&&o&&n.window){let b=o,E=h.promise,C=n.window.document.startViewTransition(async()=>{v(()=>s(b)),await E});C.finished.finally(()=>{d(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(C)}},[v,o,h,n.window]),N.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),N.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),_(void 0))},[l.isTransitioning,g]),N.useEffect(()=>{},[]);let k=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,E,C)=>n.navigate(b,{state:E,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(b,E,C)=>n.navigate(b,{replace:!0,state:E,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[n]),L=n.basename||"/",A=N.useMemo(()=>({router:n,navigator:k,static:!1,basename:L}),[n,k,L]);return N.createElement(N.Fragment,null,N.createElement($f.Provider,{value:A},N.createElement(Hb.Provider,{value:i},N.createElement(KN.Provider,{value:T.current},N.createElement(WN.Provider,{value:l},N.createElement(jN,{basename:L,location:i.location,navigationType:i.historyAction,navigator:k,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?N.createElement(JN,{routes:n.routes,future:n.future,state:i}):e))))),null)}function JN(t){let{routes:e,future:n,state:r}=t;return bN(e,void 0,r,n)}var EE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(EE||(EE={}));var xE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xE||(xE={}));var ZN={BASE_URL:"/expense-tracker-app/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const TE=t=>{let e;const n=new Set,r=(h,d)=>{const f=typeof h=="function"?h(e):h;if(!Object.is(f,e)){const m=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(g=>g(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(ZN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},eO=t=>t?TE(t):TE;var Qb={exports:{}},Xb={},Jb={exports:{}},Zb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=N;function tO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nO=typeof Object.is=="function"?Object.is:tO,rO=Ra.useState,iO=Ra.useEffect,sO=Ra.useLayoutEffect,oO=Ra.useDebugValue;function aO(t,e){var n=e(),r=rO({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return sO(function(){i.value=n,i.getSnapshot=e,cm(i)&&s({inst:i})},[t,n,e]),iO(function(){return cm(i)&&s({inst:i}),t(function(){cm(i)&&s({inst:i})})},[t]),oO(n),n}function cm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nO(t,n)}catch{return!0}}function lO(t,e){return e()}var uO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lO:aO;Zb.useSyncExternalStore=Ra.useSyncExternalStore!==void 0?Ra.useSyncExternalStore:uO;Jb.exports=Zb;var cO=Jb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=N,hO=cO;function dO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fO=typeof Object.is=="function"?Object.is:dO,pO=hO.useSyncExternalStore,mO=Kf.useRef,gO=Kf.useEffect,yO=Kf.useMemo,vO=Kf.useDebugValue;Xb.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=mO(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=yO(function(){function l(m){if(!u){if(u=!0,h=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,fO(h,m))return g;var _=r(m);return i!==void 0&&i(g,_)?g:(h=m,d=_)}var u=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=pO(t,s[0],s[1]);return gO(function(){o.hasValue=!0,o.value=a},[a]),vO(a),a};Qb.exports=Xb;var _O=Qb.exports;const wO=Ly(_O);var eI={BASE_URL:"/expense-tracker-app/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:EO}=bf,{useSyncExternalStoreWithSelector:xO}=wO;let SE=!1;const TO=t=>t;function SO(t,e=TO,n){(eI?"production":void 0)!=="production"&&n&&!SE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),SE=!0);const r=xO(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return EO(r),r}const CE=t=>{(eI?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?eO(t):t,n=(r,i)=>SO(e,r,i);return Object.assign(n,e),n},To=t=>t?CE(t):CE,_e=To(t=>({themeName:"light",setThemeName:e=>t(()=>({themeName:e})),theme:{mainBgColor:"#fffefc",secondaryBgColor:"rgb(252, 250, 248)",mainTextColor:"#333333",secondaryTextColor:"#757575",mainBorderColor:"#e3e3e3",secondaryBorderColor:"#BDBDBD",themeColor:"#ffb34d",secondaryThemeColor:"#ffb34d",buttonTextColor:"#f9f9f9",hoverElementBgColor:"#ededed",disabledBgColor:"#ffd296"},setTheme:e=>t(()=>({theme:e}))}));var bE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new bO;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IO=function(t){const e=tI(t);return nI.encodeByteArray(e,!0)},$d=function(t){return IO(t).replace(/\./g,"")},rI=function(t){try{return nI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=()=>PO().__FIREBASE_DEFAULTS__,RO=()=>{if(typeof process>"u"||typeof bE>"u")return;const t=bE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rI(t[1]);return e&&JSON.parse(e)},Gf=()=>{try{return AO()||RO()||kO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iI=t=>{var e,n;return(n=(e=Gf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DO=t=>{const e=iI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sI=()=>{var t;return(t=Gf())===null||t===void 0?void 0:t.config},oI=t=>{var e;return(e=Gf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$d(JSON.stringify(n)),$d(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function LO(){var t;const e=(t=Gf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jO(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UO(){return!LO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BO(){try{return typeof indexedDB=="object"}catch{return!1}}function zO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$O,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?HO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yi(i,a,r)}}function HO(t,e){return t.replace(WO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const WO=/\{\$([^}]+)}/g;function KO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(IE(s)&&IE(o)){if(!Hd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GO(t,e){const n=new qO(t,e);return n.subscribe.bind(n)}class qO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hm),i.error===void 0&&(i.error=hm),i.complete===void 0&&(i.complete=hm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JO(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XO(t){return t===Vs?void 0:t}function JO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const eL={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},tL=Se.INFO,nL={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},rL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lv{constructor(e){this.name=e,this._logLevel=tL,this._logHandler=rL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const iL=(t,e)=>e.some(n=>t instanceof n);let PE,AE;function sL(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oL(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aI=new WeakMap,$g=new WeakMap,lI=new WeakMap,dm=new WeakMap,Vv=new WeakMap;function aL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aI.set(n,t)}).catch(()=>{}),Vv.set(e,t),e}function lL(t){if($g.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$g.set(t,e)}let Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uL(t){Hg=t(Hg)}function cL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fm(this),e,...n);return lI.set(r,e.sort?e.sort():[e]),Zi(r)}:oL().includes(t)?function(...e){return t.apply(fm(this),e),Zi(aI.get(this))}:function(...e){return Zi(t.apply(fm(this),e))}}function hL(t){return typeof t=="function"?cL(t):(t instanceof IDBTransaction&&lL(t),iL(t,sL())?new Proxy(t,Hg):t)}function Zi(t){if(t instanceof IDBRequest)return aL(t);if(dm.has(t))return dm.get(t);const e=hL(t);return e!==t&&(dm.set(t,e),Vv.set(e,t)),e}const fm=t=>Vv.get(t);function dL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zi(o.result),l.oldVersion,l.newVersion,Zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const fL=["get","getKey","getAll","getAllKeys","count"],pL=["put","add","delete","clear"],pm=new Map;function RE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return pm.set(e,s),s}uL(t=>({...t,get:(e,n,r)=>RE(e,n)||t.get(e,n,r),has:(e,n)=>!!RE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wg="@firebase/app",kE="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new Lv("@firebase/app"),yL="@firebase/app-compat",vL="@firebase/analytics-compat",_L="@firebase/analytics",wL="@firebase/app-check-compat",EL="@firebase/app-check",xL="@firebase/auth",TL="@firebase/auth-compat",SL="@firebase/database",CL="@firebase/database-compat",bL="@firebase/functions",IL="@firebase/functions-compat",PL="@firebase/installations",AL="@firebase/installations-compat",RL="@firebase/messaging",kL="@firebase/messaging-compat",DL="@firebase/performance",ML="@firebase/performance-compat",NL="@firebase/remote-config",OL="@firebase/remote-config-compat",LL="@firebase/storage",VL="@firebase/storage-compat",FL="@firebase/firestore",jL="@firebase/vertexai-preview",UL="@firebase/firestore-compat",BL="firebase",zL="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="[DEFAULT]",$L={[Wg]:"fire-core",[yL]:"fire-core-compat",[_L]:"fire-analytics",[vL]:"fire-analytics-compat",[EL]:"fire-app-check",[wL]:"fire-app-check-compat",[xL]:"fire-auth",[TL]:"fire-auth-compat",[SL]:"fire-rtdb",[CL]:"fire-rtdb-compat",[bL]:"fire-fn",[IL]:"fire-fn-compat",[PL]:"fire-iid",[AL]:"fire-iid-compat",[RL]:"fire-fcm",[kL]:"fire-fcm-compat",[DL]:"fire-perf",[ML]:"fire-perf-compat",[NL]:"fire-rc",[OL]:"fire-rc-compat",[LL]:"fire-gcs",[VL]:"fire-gcs-compat",[FL]:"fire-fst",[UL]:"fire-fst-compat",[jL]:"fire-vertex","fire-js":"fire-js",[BL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,HL=new Map,Gg=new Map;function DE(t,e){try{t.container.addComponent(e)}catch(n){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ka(t){const e=t.name;if(Gg.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(const n of Wd.values())DE(n,t);for(const n of HL.values())DE(n,t);return!0}function Fv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new yc("app","Firebase",WL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=zL;function uI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw es.create("bad-app-name",{appName:String(i)});if(n||(n=sI()),!n)throw es.create("no-options");const s=Wd.get(i);if(s){if(Hd(n,s.options)&&Hd(r,s.config))return s;throw es.create("duplicate-app",{appName:i})}const o=new ZO(i);for(const l of Gg.values())o.addComponent(l);const a=new KL(n,r,o);return Wd.set(i,a),a}function cI(t=Kg){const e=Wd.get(t);if(!e&&t===Kg&&sI())return uI();if(!e)throw es.create("no-app",{appName:t});return e}function ts(t,e,n){var r;let i=(r=$L[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ho.warn(a.join(" "));return}ka(new co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="firebase-heartbeat-database",qL=1,Hu="firebase-heartbeat-store";let mm=null;function hI(){return mm||(mm=dL(GL,qL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw es.create("idb-open",{originalErrorMessage:t.message})})),mm}async function YL(t){try{const n=(await hI()).transaction(Hu),r=await n.objectStore(Hu).get(dI(t));return await n.done,r}catch(e){if(e instanceof yi)ho.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ho.warn(n.message)}}}async function ME(t,e){try{const r=(await hI()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,dI(t)),await r.done}catch(n){if(n instanceof yi)ho.warn(n.message);else{const r=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ho.warn(r.message)}}}function dI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=1024,XL=30*24*60*60*1e3;class JL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=XL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NE(),{heartbeatsToSend:r,unsentEntries:i}=ZL(this._heartbeatsCache.heartbeats),s=$d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function NE(){return new Date().toISOString().substring(0,10)}function ZL(t,e=QL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),OE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BO()?zO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ME(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ME(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function OE(t){return $d(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){ka(new co("platform-logger",e=>new mL(e),"PRIVATE")),ka(new co("heartbeat",e=>new JL(e),"PRIVATE")),ts(Wg,kE,t),ts(Wg,kE,"esm2017"),ts("fire-js","")}tV("");var nV="firebase",rV="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(nV,rV,"app");function jv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iV=fI,pI=new yc("auth","Firebase",fI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Lv("@firebase/auth");function sV(t,...e){Kd.logLevel<=Se.WARN&&Kd.warn(`Auth (${Wa}): ${t}`,...e)}function ed(t,...e){Kd.logLevel<=Se.ERROR&&Kd.error(`Auth (${Wa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw Bv(t,...e)}function dr(t,...e){return Bv(t,...e)}function Uv(t,e,n){const r=Object.assign(Object.assign({},iV()),{[e]:n});return new yc("auth","Firebase",r).create(e,{appName:t.name})}function ni(t){return Uv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),Uv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pI.create(t,...e)}function ue(t,e,...n){if(!t)throw Bv(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function hi(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aV(){return LE()==="http:"||LE()==="https:"}function LE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aV()||VO()||"connection"in navigator)?navigator.onLine:!0}function uV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=OO()||FO()}get(){return lV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new _c(3e4,6e4);function ys(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vs(t,e,n,r,i={}){return gI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=vc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),mI.fetch()(yI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function gI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cV),e);try{const i=new fV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fh(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Uv(t,h,u);Xn(t,h)}}catch(i){if(i instanceof yi)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function wc(t,e,n,r,i={}){const s=await vs(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zv(t.config,i):`${t.config.apiScheme}://${i}`}function dV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),hV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dr(t,e,r);return i.customData._tokenResponse=n,i}function VE(t){return t!==void 0&&t.enterprise!==void 0}class pV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mV(t,e){return vs(t,"GET","/v2/recaptchaConfig",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return vs(t,"POST","/v1/accounts:delete",e)}async function vI(t,e){return vs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yV(t,e=!1){const n=sn(t),r=await n.getIdToken(e),i=$v(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cu(gm(i.auth_time)),issuedAtTime:cu(gm(i.iat)),expirationTime:cu(gm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gm(t){return Number(t)*1e3}function $v(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=rI(n);return i?JSON.parse(i):(ed("Failed to decode base64 JWT payload"),null)}catch(i){return ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function FE(t){const e=$v(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&vV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wu(t,vI(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_I(s.providerUserInfo):[],a=EV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function wV(t){const e=sn(t);await Gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _I(t){return t.map(e=>{var{providerId:n}=e,r=jv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e){const n=await gI(t,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TV(t,e){return vs(t,"POST","/v2/accounts:revokeToken",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=FE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await xV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ga;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ga,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _V(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yV(this,e)}reload(){return wV(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await Wu(this,gV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:k,isAnonymous:L,providerData:A,stsTokenManager:b}=n;ue(x&&b,e,"internal-error");const E=ga.fromJSON(this.name,b);ue(typeof x=="string",e,"internal-error"),Pi(d,e.name),Pi(f,e.name),ue(typeof k=="boolean",e,"internal-error"),ue(typeof L=="boolean",e,"internal-error"),Pi(m,e.name),Pi(g,e.name),Pi(_,e.name),Pi(T,e.name),Pi(w,e.name),Pi(v,e.name);const C=new Xr({uid:x,auth:e,email:f,emailVerified:k,displayName:d,isAnonymous:L,photoURL:g,phoneNumber:m,tenantId:_,stsTokenManager:E,createdAt:w,lastLoginAt:v});return A&&Array.isArray(A)&&(C.providerData=A.map(P=>Object.assign({},P))),T&&(C._redirectEventId=T),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ga;i.updateFromServerResponse(n);const s=new Xr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_I(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ga;a.updateFromIdToken(r);const l=new Xr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Yg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;function Jr(t){hi(t instanceof Function,"Expected a class definition");let e=jE.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wI.type="NONE";const UE=wI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=td(this.userKey,i.apiKey,s),this.fullPersistenceKey=td("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ya(Jr(UE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Jr(UE);const o=td(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=Xr._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ya(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ya(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CI(e))return"Blackberry";if(bI(e))return"Webos";if(Hv(e))return"Safari";if((e.includes("chrome/")||xI(e))&&!e.includes("edge/"))return"Chrome";if(SI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EI(t=$t()){return/firefox\//i.test(t)}function Hv(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xI(t=$t()){return/crios\//i.test(t)}function TI(t=$t()){return/iemobile/i.test(t)}function SI(t=$t()){return/android/i.test(t)}function CI(t=$t()){return/blackberry/i.test(t)}function bI(t=$t()){return/webos/i.test(t)}function qf(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SV(t=$t()){var e;return qf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CV(){return jO()&&document.documentMode===10}function II(t=$t()){return qf(t)||SI(t)||bI(t)||CI(t)||/windows phone/i.test(t)||TI(t)}function bV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e=[]){let n;switch(t){case"Browser":n=BE($t());break;case"Worker":n=`${BE($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e={}){return vs(t,"GET","/v2/passwordPolicy",ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=6;class RV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:AV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zE(this),this.idTokenSubscription=new zE(this),this.beforeStateQueue=new IV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vI(this,{idToken:e}),r=await Xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(ni(this));const n=e?sn(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PV(this),n=new RV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _s(t){return sn(t)}class zE{constructor(e){this.auth=e,this.observer=null,this.addObserver=GO(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DV(t){Yf=t}function AI(t){return Yf.loadJS(t)}function MV(){return Yf.recaptchaEnterpriseScript}function NV(){return Yf.gapiScript}function OV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const LV="recaptcha-enterprise",VV="NO_RECAPTCHA";class FV{constructor(e){this.type=LV,this.auth=_s(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{mV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new pV(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;VE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(VV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&VE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=MV();l.length!==0&&(l+=a),AI(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function $E(t,e,n,r=!1){const i=new FV(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Qg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $E(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $E(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t,e){const n=Fv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Hd(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function UV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BV(t,e,n){const r=_s(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=RI(e),{host:o,port:a}=zV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),$V()}function RI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zV(t){const e=RI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:HE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:HE(o)}}}function HE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $V(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function HV(t,e){return vs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e){return wc(t,"POST","/v1/accounts:signInWithPassword",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,e))}async function GV(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Wv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qg(e,n,"signInWithPassword",WV);case"emailLink":return KV(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qg(e,r,"signUpPassword",HV);case"emailLink":return GV(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(t,e){return wc(t,"POST","/v1/accounts:signInWithIdp",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="http://localhost";class fo extends Wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return va(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,va(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,va(e,n)}buildRequest(){const e={requestUri:qV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QV(t){const e=zl($l(t)).link,n=e?zl($l(e)).deep_link_id:null,r=zl($l(t)).deep_link_id;return(r?zl($l(r)).link:null)||r||n||e||t}class Kv{constructor(e){var n,r,i,s,o,a;const l=zl($l(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=YV((i=l.mode)!==null&&i!==void 0?i:null);ue(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=QV(e);try{return new Kv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.providerId=Ka.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kv.parseLink(n);return ue(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}Ka.PROVIDER_ID="password";Ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Gv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Ec{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fo._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ec{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ec{constructor(){super("twitter.com")}static credential(e,n){return fo._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e){return wc(t,"POST","/v1/accounts:signUp",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xr._fromIdTokenResponse(e,r,i),o=WE(r);return new po({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WE(r);return new po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qd(e,n,r,i)}}function kI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(t,s,e,r):s})}async function JV(t,e,n=!1){const r=await Wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(ni(r));const i="reauthenticate";try{const s=await Wu(t,kI(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=$v(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),po._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e,n=!1){if(ur(t.app))return Promise.reject(ni(t));const r="signIn",i=await kI(t,r,e),s=await po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function eF(t,e){return DI(_s(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t){const e=_s(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tF(t,e,n){if(ur(t.app))return Promise.reject(ni(t));const r=_s(t),o=await Qg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XV).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MI(t),l}),a=await po._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function nF(t,e,n){return ur(t.app)?Promise.reject(ni(t)):eF(sn(t),Ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MI(t),r})}function rF(t,e,n,r){return sn(t).onIdTokenChanged(e,n,r)}function iF(t,e,n){return sn(t).beforeAuthStateChanged(e,n)}function sF(t,e,n,r){return sn(t).onAuthStateChanged(e,n,r)}function oF(t){return sn(t).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){const t=$t();return Hv(t)||qf(t)}const lF=1e3,uF=10;class OI extends NI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=aF()&&bV(),this.fallbackToPolling=II(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);CV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OI.type="LOCAL";const cF=OI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI extends NI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LI.type="SESSION";const VI=LI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await hF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=qv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function fF(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function pF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gF(){return FI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebaseLocalStorageDb",yF=1,Qd="firebaseLocalStorage",UI="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xf(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function vF(){const t=indexedDB.deleteDatabase(jI);return new xc(t).toPromise()}function Xg(){const t=indexedDB.open(jI,yF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qd,{keyPath:UI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qd)?e(r):(r.close(),await vF(),e(await Xg()))})})}async function KE(t,e,n){const r=Xf(t,!0).put({[UI]:e,value:n});return new xc(r).toPromise()}async function _F(t,e){const n=Xf(t,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function GE(t,e){const n=Xf(t,!0).delete(e);return new xc(n).toPromise()}const wF=800,EF=3;class BI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(gF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pF(),!this.activeServiceWorker)return;this.sender=new dF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await KE(e,Yd,"1"),await GE(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_F(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Xf(i,!1).getAll();return new xc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BI.type="LOCAL";const xF=BI;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e){return e?Jr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends Wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return va(e,this._buildIdpRequest())}_linkToIdToken(e,n){return va(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return va(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TF(t){return DI(t.auth,new Yv(t),t.bypassAuthState)}function SF(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),ZV(n,new Yv(t),t.bypassAuthState)}async function CF(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),JV(n,new Yv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TF;case"linkViaPopup":case"linkViaRedirect":return CF;case"reauthViaPopup":case"reauthViaRedirect":return SF;default:Xn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new _c(2e3,1e4);async function IF(t,e,n){if(ur(t.app))return Promise.reject(dr(t,"operation-not-supported-in-this-environment"));const r=_s(t);oV(t,e,Gv);const i=zI(r,n);return new Ys(r,"signInViaPopup",e,i).executeNotNull()}class Ys extends $I{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=qv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bF.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="pendingRedirect",nd=new Map;class AF extends $I{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const r=await RF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RF(t,e){const n=MF(e),r=DF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kF(t,e){nd.set(t._key(),e)}function DF(t){return Jr(t._redirectPersistence)}function MF(t){return td(PF,t.config.apiKey,t.name)}async function NF(t,e,n=!1){if(ur(t.app))return Promise.reject(ni(t));const r=_s(t),i=zI(r,e),o=await new AF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=10*60*1e3;class LF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(dr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OF&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t,e={}){return vs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UF=/^https?/;async function BF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FF(t);for(const n of e)try{if(zF(n))return}catch{}Xn(t,"unauthorized-domain")}function zF(t){const e=qg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!UF.test(n))return!1;if(jF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new _c(3e4,6e4);function YE(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HF(t){return new Promise((e,n)=>{var r,i,s;function o(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),n(dr(t,"network-request-failed"))},timeout:$F.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cr().gapi)===null||s===void 0)&&s.load)o();else{const a=OV("iframefcb");return Cr()[a]=()=>{gapi.load?o():n(dr(t,"network-request-failed"))},AI(`${NV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rd=null,e})}let rd=null;function WF(t){return rd=rd||HF(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=new _c(5e3,15e3),GF="__/auth/iframe",qF="emulator/auth/iframe",YF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XF(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zv(e,qF):`https://${t.config.authDomain}/${GF}`,r={apiKey:e.apiKey,appName:t.name,v:Wa},i=QF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vc(r).slice(1)}`}async function JF(t){const e=await WF(t),n=Cr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:XF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=dr(t,"network-request-failed"),a=Cr().setTimeout(()=>{s(o)},KF.get());function l(){Cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ej=500,tj=600,nj="_blank",rj="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ij(t,e,n,r=ej,i=tj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ZF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=$t().toLowerCase();n&&(a=xI(u)?nj:n),EI(u)&&(e=e||rj,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(SV(u)&&a!=="_self")return sj(e||"",a),new QE(null);const d=window.open(e||"",a,h);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new QE(d)}function sj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="__/auth/handler",aj="emulator/auth/handler",lj=encodeURIComponent("fac");async function XE(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wa,eventId:i};if(e instanceof Gv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Ec){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${lj}=${encodeURIComponent(l)}`:"";return`${uj(t)}?${vc(a).slice(1)}${u}`}function uj({config:t}){return t.emulator?zv(t,aj):`https://${t.authDomain}/${oj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class cj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VI,this._completeRedirectFn=NF,this._overrideRedirectResult=kF}async _openPopup(e,n,r,i){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await XE(e,n,r,qg(),i);return ij(e,o,qv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await XE(e,n,r,qg(),i);return fF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JF(e),r=new LF(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ym];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return II()||Hv()||qf()}}const hj=cj;var JE="@firebase/auth",ZE="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pj(t){ka(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PI(t)},u=new kV(r,i,s,l);return UV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ka(new co("auth-internal",e=>{const n=_s(e.getProvider("auth").getImmediate());return(r=>new dj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(JE,ZE,fj(t)),ts(JE,ZE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=5*60,gj=oI("authIdTokenMaxAge")||mj;let ex=null;const yj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gj)return;const i=n==null?void 0:n.token;ex!==i&&(ex=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vj(t=cI()){const e=Fv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jV(t,{popupRedirectResolver:hj,persistence:[xF,cF,VI]}),r=oI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=yj(s.toString());iF(n,o,()=>o(n.currentUser)),rF(n,a=>o(a))}}const i=iI("auth");return i&&BV(n,`http://${i}`),n}function _j(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=dr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_j().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pj("Browser");var tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,WI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function C(){}C.prototype=E.prototype,b.D=E.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(P,D,M){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return E.prototype[D].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,E,C){C||(C=0);var P=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)P[D]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(D=0;16>D;++D)P[D]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=b.g[0],C=b.g[1],D=b.g[2];var M=b.g[3],R=E+(M^C&(D^M))+P[0]+3614090360&4294967295;E=C+(R<<7&4294967295|R>>>25),R=M+(D^E&(C^D))+P[1]+3905402710&4294967295,M=E+(R<<12&4294967295|R>>>20),R=D+(C^M&(E^C))+P[2]+606105819&4294967295,D=M+(R<<17&4294967295|R>>>15),R=C+(E^D&(M^E))+P[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=E+(M^C&(D^M))+P[4]+4118548399&4294967295,E=C+(R<<7&4294967295|R>>>25),R=M+(D^E&(C^D))+P[5]+1200080426&4294967295,M=E+(R<<12&4294967295|R>>>20),R=D+(C^M&(E^C))+P[6]+2821735955&4294967295,D=M+(R<<17&4294967295|R>>>15),R=C+(E^D&(M^E))+P[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=E+(M^C&(D^M))+P[8]+1770035416&4294967295,E=C+(R<<7&4294967295|R>>>25),R=M+(D^E&(C^D))+P[9]+2336552879&4294967295,M=E+(R<<12&4294967295|R>>>20),R=D+(C^M&(E^C))+P[10]+4294925233&4294967295,D=M+(R<<17&4294967295|R>>>15),R=C+(E^D&(M^E))+P[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=E+(M^C&(D^M))+P[12]+1804603682&4294967295,E=C+(R<<7&4294967295|R>>>25),R=M+(D^E&(C^D))+P[13]+4254626195&4294967295,M=E+(R<<12&4294967295|R>>>20),R=D+(C^M&(E^C))+P[14]+2792965006&4294967295,D=M+(R<<17&4294967295|R>>>15),R=C+(E^D&(M^E))+P[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=E+(D^M&(C^D))+P[1]+4129170786&4294967295,E=C+(R<<5&4294967295|R>>>27),R=M+(C^D&(E^C))+P[6]+3225465664&4294967295,M=E+(R<<9&4294967295|R>>>23),R=D+(E^C&(M^E))+P[11]+643717713&4294967295,D=M+(R<<14&4294967295|R>>>18),R=C+(M^E&(D^M))+P[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=E+(D^M&(C^D))+P[5]+3593408605&4294967295,E=C+(R<<5&4294967295|R>>>27),R=M+(C^D&(E^C))+P[10]+38016083&4294967295,M=E+(R<<9&4294967295|R>>>23),R=D+(E^C&(M^E))+P[15]+3634488961&4294967295,D=M+(R<<14&4294967295|R>>>18),R=C+(M^E&(D^M))+P[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=E+(D^M&(C^D))+P[9]+568446438&4294967295,E=C+(R<<5&4294967295|R>>>27),R=M+(C^D&(E^C))+P[14]+3275163606&4294967295,M=E+(R<<9&4294967295|R>>>23),R=D+(E^C&(M^E))+P[3]+4107603335&4294967295,D=M+(R<<14&4294967295|R>>>18),R=C+(M^E&(D^M))+P[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=E+(D^M&(C^D))+P[13]+2850285829&4294967295,E=C+(R<<5&4294967295|R>>>27),R=M+(C^D&(E^C))+P[2]+4243563512&4294967295,M=E+(R<<9&4294967295|R>>>23),R=D+(E^C&(M^E))+P[7]+1735328473&4294967295,D=M+(R<<14&4294967295|R>>>18),R=C+(M^E&(D^M))+P[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=E+(C^D^M)+P[5]+4294588738&4294967295,E=C+(R<<4&4294967295|R>>>28),R=M+(E^C^D)+P[8]+2272392833&4294967295,M=E+(R<<11&4294967295|R>>>21),R=D+(M^E^C)+P[11]+1839030562&4294967295,D=M+(R<<16&4294967295|R>>>16),R=C+(D^M^E)+P[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=E+(C^D^M)+P[1]+2763975236&4294967295,E=C+(R<<4&4294967295|R>>>28),R=M+(E^C^D)+P[4]+1272893353&4294967295,M=E+(R<<11&4294967295|R>>>21),R=D+(M^E^C)+P[7]+4139469664&4294967295,D=M+(R<<16&4294967295|R>>>16),R=C+(D^M^E)+P[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=E+(C^D^M)+P[13]+681279174&4294967295,E=C+(R<<4&4294967295|R>>>28),R=M+(E^C^D)+P[0]+3936430074&4294967295,M=E+(R<<11&4294967295|R>>>21),R=D+(M^E^C)+P[3]+3572445317&4294967295,D=M+(R<<16&4294967295|R>>>16),R=C+(D^M^E)+P[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=E+(C^D^M)+P[9]+3654602809&4294967295,E=C+(R<<4&4294967295|R>>>28),R=M+(E^C^D)+P[12]+3873151461&4294967295,M=E+(R<<11&4294967295|R>>>21),R=D+(M^E^C)+P[15]+530742520&4294967295,D=M+(R<<16&4294967295|R>>>16),R=C+(D^M^E)+P[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=E+(D^(C|~M))+P[0]+4096336452&4294967295,E=C+(R<<6&4294967295|R>>>26),R=M+(C^(E|~D))+P[7]+1126891415&4294967295,M=E+(R<<10&4294967295|R>>>22),R=D+(E^(M|~C))+P[14]+2878612391&4294967295,D=M+(R<<15&4294967295|R>>>17),R=C+(M^(D|~E))+P[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=E+(D^(C|~M))+P[12]+1700485571&4294967295,E=C+(R<<6&4294967295|R>>>26),R=M+(C^(E|~D))+P[3]+2399980690&4294967295,M=E+(R<<10&4294967295|R>>>22),R=D+(E^(M|~C))+P[10]+4293915773&4294967295,D=M+(R<<15&4294967295|R>>>17),R=C+(M^(D|~E))+P[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=E+(D^(C|~M))+P[8]+1873313359&4294967295,E=C+(R<<6&4294967295|R>>>26),R=M+(C^(E|~D))+P[15]+4264355552&4294967295,M=E+(R<<10&4294967295|R>>>22),R=D+(E^(M|~C))+P[6]+2734768916&4294967295,D=M+(R<<15&4294967295|R>>>17),R=C+(M^(D|~E))+P[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=E+(D^(C|~M))+P[4]+4149444226&4294967295,E=C+(R<<6&4294967295|R>>>26),R=M+(C^(E|~D))+P[11]+3174756917&4294967295,M=E+(R<<10&4294967295|R>>>22),R=D+(E^(M|~C))+P[2]+718787259&4294967295,D=M+(R<<15&4294967295|R>>>17),R=C+(M^(D|~E))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.u=function(b,E){E===void 0&&(E=b.length);for(var C=E-this.blockSize,P=this.B,D=this.h,M=0;M<E;){if(D==0)for(;M<=C;)i(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<E;)if(P[D++]=b.charCodeAt(M++),D==this.blockSize){i(this,P),D=0;break}}else for(;M<E;)if(P[D++]=b[M++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;var C=8*this.o;for(E=b.length-8;E<b.length;++E)b[E]=C&255,C/=256;for(this.u(b),b=Array(16),E=C=0;4>E;++E)for(var P=0;32>P;P+=8)b[C++]=this.g[E]>>>P&255;return b};function s(b,E){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=E(b)}function o(b,E){this.h=E;for(var C=[],P=!0,D=b.length-1;0<=D;D--){var M=b[D]|0;P&&M==E||(C[D]=M,P=!1)}this.g=C}var a={};function l(b){return-128<=b&&128>b?s(b,function(E){return new o([E|0],0>E?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return d;if(0>b)return T(u(-b));for(var E=[],C=1,P=0;b>=C;P++)E[P]=b/C|0,C*=4294967296;return new o(E,0)}function h(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return T(h(b.substring(1),E));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(E,8)),P=d,D=0;D<b.length;D+=8){var M=Math.min(8,b.length-D),R=parseInt(b.substring(D,D+M),E);8>M?(M=u(Math.pow(E,M)),P=P.j(M).add(u(R))):(P=P.j(C),P=P.add(u(R)))}return P}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-T(this).m();for(var b=0,E=1,C=0;C<this.g.length;C++){var P=this.i(C);b+=(0<=P?P:4294967296+P)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(g(this))return"0";if(_(this))return"-"+T(this).toString(b);for(var E=u(Math.pow(b,6)),C=this,P="";;){var D=k(C,E).g;C=w(C,D.j(E));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=D,g(C))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function g(b){if(b.h!=0)return!1;for(var E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function _(b){return b.h==-1}t.l=function(b){return b=w(this,b),_(b)?-1:g(b)?0:1};function T(b){for(var E=b.g.length,C=[],P=0;P<E;P++)C[P]=~b.g[P];return new o(C,~b.h).add(f)}t.abs=function(){return _(this)?T(this):this},t.add=function(b){for(var E=Math.max(this.g.length,b.g.length),C=[],P=0,D=0;D<=E;D++){var M=P+(this.i(D)&65535)+(b.i(D)&65535),R=(M>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);P=R>>>16,M&=65535,R&=65535,C[D]=R<<16|M}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(b,E){return b.add(T(E))}t.j=function(b){if(g(this)||g(b))return d;if(_(this))return _(b)?T(this).j(T(b)):T(T(this).j(b));if(_(b))return T(this.j(T(b)));if(0>this.l(m)&&0>b.l(m))return u(this.m()*b.m());for(var E=this.g.length+b.g.length,C=[],P=0;P<2*E;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<b.g.length;D++){var M=this.i(P)>>>16,R=this.i(P)&65535,ae=b.i(D)>>>16,ee=b.i(D)&65535;C[2*P+2*D]+=R*ee,v(C,2*P+2*D),C[2*P+2*D+1]+=M*ee,v(C,2*P+2*D+1),C[2*P+2*D+1]+=R*ae,v(C,2*P+2*D+1),C[2*P+2*D+2]+=M*ae,v(C,2*P+2*D+2)}for(P=0;P<E;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=E;P<2*E;P++)C[P]=0;return new o(C,0)};function v(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function x(b,E){this.g=b,this.h=E}function k(b,E){if(g(E))throw Error("division by zero");if(g(b))return new x(d,d);if(_(b))return E=k(T(b),E),new x(T(E.g),T(E.h));if(_(E))return E=k(b,T(E)),new x(T(E.g),E.h);if(30<b.g.length){if(_(b)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var C=f,P=E;0>=P.l(b);)C=L(C),P=L(P);var D=A(C,1),M=A(P,1);for(P=A(P,2),C=A(C,2);!g(P);){var R=M.add(P);0>=R.l(b)&&(D=D.add(C),M=R),P=A(P,1),C=A(C,1)}return E=w(b,D.j(E)),new x(D,E)}for(D=d;0<=b.l(E);){for(C=Math.max(1,Math.floor(b.m()/E.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=u(C),R=M.j(E);_(R)||0<R.l(b);)C-=P,M=u(C),R=M.j(E);g(M)&&(M=f),D=D.add(M),b=w(b,R)}return new x(D,b)}t.A=function(b){return k(this,b).h},t.and=function(b){for(var E=Math.max(this.g.length,b.g.length),C=[],P=0;P<E;P++)C[P]=this.i(P)&b.i(P);return new o(C,this.h&b.h)},t.or=function(b){for(var E=Math.max(this.g.length,b.g.length),C=[],P=0;P<E;P++)C[P]=this.i(P)|b.i(P);return new o(C,this.h|b.h)},t.xor=function(b){for(var E=Math.max(this.g.length,b.g.length),C=[],P=0;P<E;P++)C[P]=this.i(P)^b.i(P);return new o(C,this.h^b.h)};function L(b){for(var E=b.g.length+1,C=[],P=0;P<E;P++)C[P]=b.i(P)<<1|b.i(P-1)>>>31;return new o(C,b.h)}function A(b,E){var C=E>>5;E%=32;for(var P=b.g.length-C,D=[],M=0;M<P;M++)D[M]=0<E?b.i(M+C)>>>E|b.i(M+C+1)<<32-E:b.i(M+C);return new o(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,no=o}).apply(typeof tx<"u"?tx:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KI,GI,Hl,qI,id,Jg,YI,QI,XI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var y=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var F=c[I];if(!(F in y))break e;y=y[F]}c=c[c.length-1],I=y[c],p=p(I),p!=I&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var y=0,I=!1,F={next:function(){if(!I&&y<c.length){var U=y++;return{value:p(U,c[U]),done:!1}}return I=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,y){return c.call.apply(c.bind,arguments)}function d(c,p,y){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,I),c.apply(p,F)}}return function(){return c.apply(p,arguments)}}function f(c,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function g(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(I,F,U){for(var K=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)K[Ue-2]=arguments[Ue];return p.prototype[F].apply(I,K)}}function _(c){const p=c.length;if(0<p){const y=Array(p);for(let I=0;I<p;I++)y[I]=c[I];return y}return[]}function T(c,p){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(l(I)){const F=c.length||0,U=I.length||0;c.length=F+U;for(let K=0;K<U;K++)c[F+K]=I[K]}else c.push(I)}}class w{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var L=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function A(c,p,y){for(const I in c)p.call(y,c[I],I,c)}function b(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function E(c){const p={};for(const y in c)p[y]=c[y];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,p){let y,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(y in I)c[y]=I[y];for(let U=0;U<C.length;U++)y=C[U],Object.prototype.hasOwnProperty.call(I,y)&&(c[y]=I[y])}}function D(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function M(c){a.setTimeout(()=>{throw c},0)}function R(){var c=Y;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ae{constructor(){this.h=this.g=null}add(p,y){const I=ee.get();I.set(p,y),this.h?this.h.next=I:this.g=I,this.h=I}}var ee=new w(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,W=!1,Y=new ae,ne=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(we)}};var we=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(y){M(y)}var p=ee;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}W=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function Ze(c,p){if(Ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(L){e:{try{k(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:We[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ze.aa.h.call(this)}}g(Ze,Ie);var We={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Zn="closure_listenable_"+(1e6*Math.random()|0),Za=0;function Cp(c,p,y,I,F){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!I,this.ha=F,this.key=++Za,this.da=this.fa=!1}function Io(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Po(c){this.src=c,this.g={},this.h=0}Po.prototype.add=function(c,p,y,I,F){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var K=pr(c,p,I,F);return-1<K?(p=c[K],y||(p.fa=!1)):(p=new Cp(p,this.src,U,!!I,F),p.fa=y,c.push(p)),p};function It(c,p){var y=p.type;if(y in c.g){var I=c.g[y],F=Array.prototype.indexOf.call(I,p,void 0),U;(U=0<=F)&&Array.prototype.splice.call(I,F,1),U&&(Io(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function pr(c,p,y,I){for(var F=0;F<c.length;++F){var U=c[F];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==I)return F}return-1}var Ao="closure_lm_"+(1e6*Math.random()|0),el={};function mr(c,p,y,I,F){if(Array.isArray(p)){for(var U=0;U<p.length;U++)mr(c,p[U],y,I,F);return null}return y=_i(y),c&&c[Zn]?c.K(p,y,u(I)?!!I.capture:!!I,F):bp(c,p,y,!1,I,F)}function bp(c,p,y,I,F,U){if(!p)throw Error("Invalid event type");var K=u(F)?!!F.capture:!!F,Ue=rl(c);if(Ue||(c[Ao]=Ue=new Po(c)),y=Ue.add(p,y,I,K,U),y.proxy)return y;if(I=Ip(),y.proxy=I,I.src=c,I.listener=y,c.addEventListener)je||(F=K),F===void 0&&(F=!1),c.addEventListener(p.toString(),I,F);else if(c.attachEvent)c.attachEvent(Vc(p.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ip(){function c(y){return p.call(c.src,c.listener,y)}const p=Pp;return c}function tl(c,p,y,I,F){if(Array.isArray(p))for(var U=0;U<p.length;U++)tl(c,p[U],y,I,F);else I=u(I)?!!I.capture:!!I,y=_i(y),c&&c[Zn]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],y=pr(U,y,I,F),-1<y&&(Io(U[y]),Array.prototype.splice.call(U,y,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=rl(c))&&(p=c.g[p.toString()],c=-1,p&&(c=pr(p,y,I,F)),(y=-1<c?p[c]:null)&&nl(y))}function nl(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Zn])It(p.i,c);else{var y=c.type,I=c.proxy;p.removeEventListener?p.removeEventListener(y,I,c.capture):p.detachEvent?p.detachEvent(Vc(y),I):p.addListener&&p.removeListener&&p.removeListener(I),(y=rl(p))?(It(y,c),y.h==0&&(y.src=null,p[Ao]=null)):Io(c)}}}function Vc(c){return c in el?el[c]:el[c]="on"+c}function Pp(c,p){if(c.da)c=!0;else{p=new Ze(p,this);var y=c.listener,I=c.ha||c.src;c.fa&&nl(c),c=y.call(I,p)}return c}function rl(c){return c=c[Ao],c instanceof Po?c:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function _i(c){return typeof c=="function"?c:(c[Nr]||(c[Nr]=function(p){return c.handleEvent(p)}),c[Nr])}function _t(){ge.call(this),this.i=new Po(this),this.M=this,this.F=null}g(_t,ge),_t.prototype[Zn]=!0,_t.prototype.removeEventListener=function(c,p,y,I){tl(this,c,p,y,I)};function wt(c,p){var y,I=c.F;if(I)for(y=[];I;I=I.F)y.push(I);if(c=c.M,I=p.type||p,typeof p=="string")p=new Ie(p,c);else if(p instanceof Ie)p.target=p.target||c;else{var F=p;p=new Ie(I,c),P(p,F)}if(F=!0,y)for(var U=y.length-1;0<=U;U--){var K=p.g=y[U];F=Tn(K,I,!0,p)&&F}if(K=p.g=c,F=Tn(K,I,!0,p)&&F,F=Tn(K,I,!1,p)&&F,y)for(U=0;U<y.length;U++)K=p.g=y[U],F=Tn(K,I,!1,p)&&F}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],I=0;I<y.length;I++)Io(y[I]);delete c.g[p],c.h--}}this.F=null},_t.prototype.K=function(c,p,y,I){return this.i.add(String(c),p,!1,y,I)},_t.prototype.L=function(c,p,y,I){return this.i.add(String(c),p,!0,y,I)};function Tn(c,p,y,I){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,U=0;U<p.length;++U){var K=p[U];if(K&&!K.da&&K.capture==y){var Ue=K.listener,Nt=K.ha||K.src;K.fa&&It(c.i,K),F=Ue.call(Nt,I)!==!1&&F}}return F&&!I.defaultPrevented}function Un(c,p,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function il(c){c.g=Un(()=>{c.g=null,c.i&&(c.i=!1,il(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Ro extends ge{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:il(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){ge.call(this),this.h=c,this.g={}}g(Ss,ge);var er=[];function sl(c){A(c.g,function(p,y){this.g.hasOwnProperty(y)&&nl(p)},c),c.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),sl(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=a.JSON.stringify,Fc=a.JSON.parse,Ap=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function Cs(c){return c.h||(c.h=c.i())}function ol(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){Ie.call(this,"d")}g(wi,Ie);function bs(){Ie.call(this,"c")}g(bs,Ie);var Lr={},al=null;function Mo(){return al=al||new _t}Lr.La="serverreachability";function ll(c){Ie.call(this,Lr.La,c)}g(ll,Ie);function Ei(c){const p=Mo();wt(p,new ll(p))}Lr.STAT_EVENT="statevent";function Is(c,p){Ie.call(this,Lr.STAT_EVENT,c),this.stat=p}g(Is,Ie);function Mt(c){const p=Mo();wt(p,new Is(p,c))}Lr.Ma="timingevent";function O(c,p){Ie.call(this,Lr.Ma,c),this.size=p}g(O,Ie);function V(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function j(){this.g=!0}j.prototype.xa=function(){this.g=!1};function B(c,p,y,I,F,U){c.info(function(){if(c.g)if(U)for(var K="",Ue=U.split("&"),Nt=0;Nt<Ue.length;Nt++){var ke=Ue[Nt].split("=");if(1<ke.length){var Kt=ke[0];ke=ke[1];var Gt=Kt.split("_");K=2<=Gt.length&&Gt[1]=="type"?K+(Kt+"="+ke+"&"):K+(Kt+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+p+`
`+y+`
`+K})}function q(c,p,y,I,F,U,K){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+p+`
`+y+`
`+U+" "+K})}function X(c,p,y,I){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+G(c,y)+(I?" "+I:"")})}function re(c,p){c.info(function(){return"TIMEOUT: "+p})}j.prototype.info=function(){};function G(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var I=y[c];if(!(2>I.length)){var F=I[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<F.length;K++)F[K]=""}}}}return ko(y)}catch{return p}}var ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},de;function Pe(){}g(Pe,Do),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},de=new Pe;function ve(c,p,y,I){this.j=c,this.i=p,this.l=y,this.R=I||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var Ae={},ct={};function Qe(c,p,y){c.L=1,c.v=zc(Fr(p)),c.m=y,c.P=!0,xi(c,null)}function xi(c,p){c.F=Date.now(),nr(c),c.A=Fr(c.v);var y=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),S_(y.i,"t",I),c.C=0,y=c.j.J,c.h=new Me,c.g=z_(c.j,y?p:null,!c.m),0<c.O&&(c.M=new Ro(f(c.Y,c,c.g),c.O)),p=c.U,y=c.g,I=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(er[0]=F.toString()),F=er);for(var U=0;U<F.length;U++){var K=mr(y,F[U],I||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Ei(),B(c.i,c.u,c.A,c.l,c.R,c.m)}ve.prototype.ca=function(c){c=c.target;const p=this.M;p&&jr(c)==3?p.j():this.Y(c)},ve.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=jr(this.g);var p=this.g.Ba();const Vo=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||k_(this.g)))){this.J||Gt!=4||p==7||(p==8||0>=Vo?Ei(3):Ei(2)),fn(this);var y=this.g.Z();this.X=y;t:if(tr(this)){var I=k_(this.g);c="";var F=I.length,U=jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),gr(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,c+=this.h.i.decode(I[p],{stream:!(U&&p==F-1)});I.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=y==200,q(this.i,this.u,this.A,this.l,this.R,Gt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Nt=this.g;if((Ue=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ue)){var ke=Ue;break t}}ke=null}if(y=ke)X(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Si(this,y);else{this.o=!1,this.s=3,Mt(12),Bn(this),gr(this);break e}}if(this.P){y=!0;let rr;for(;!this.J&&this.C<K.length;)if(rr=Ti(this,K),rr==ct){Gt==4&&(this.s=4,Mt(14),y=!1),X(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==Ae){this.s=4,Mt(15),X(this.i,this.l,K,"[Invalid Chunk]"),y=!1;break}else X(this.i,this.l,rr,null),Si(this,rr);if(tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||K.length!=0||this.h.h||(this.s=1,Mt(16),y=!1),this.o=this.o&&y,!y)X(this.i,this.l,K,"[Invalid Chunked Response]"),Bn(this),gr(this);else if(0<K.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Mp(Kt),Kt.M=!0,Mt(11))}}else X(this.i,this.l,K,null),Si(this,K);Gt==4&&Bn(this),this.o&&!this.J&&(Gt==4?F_(this.j,this):(this.o=!1,nr(this)))}else Yk(this.g),y==400&&0<K.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Bn(this),gr(this)}}}catch{}finally{}};function tr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ti(c,p){var y=c.C,I=p.indexOf(`
`,y);return I==-1?ct:(y=Number(p.substring(y,I)),isNaN(y)?Ae:(I+=1,I+y>p.length?ct:(p=p.slice(I,I+y),c.C=I+y,p)))}ve.prototype.cancel=function(){this.J=!0,Bn(this)};function nr(c){c.S=Date.now()+c.I,Vr(c,c.I)}function Vr(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=V(f(c.ba,c),p)}function fn(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ve.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(re(this.i,this.A),this.L!=2&&(Ei(),Mt(17)),Bn(this),this.s=2,gr(this)):Vr(this,this.S-c)};function gr(c){c.j.G==0||c.J||F_(c.j,c)}function Bn(c){fn(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,sl(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Si(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||Sn(y.h,c))){if(!c.K&&Sn(y.h,c)&&y.G==3){try{var I=y.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Gc(y),Wc(y);else break e;Dp(y),Mt(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=V(f(y.Za,y),6e3));if(1>=Le(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else As(y,11)}else if((c.K||y.g==c)&&Gc(y),!v(p))for(F=y.Da.g.parse(p),p=0;p<F.length;p++){let ke=F[p];if(y.T=ke[0],ke=ke[1],y.G==2)if(ke[0]=="c"){y.K=ke[1],y.ia=ke[2];const Kt=ke[3];Kt!=null&&(y.la=Kt,y.j.info("VER="+y.la));const Gt=ke[4];Gt!=null&&(y.Aa=Gt,y.j.info("SVER="+y.Aa));const Vo=ke[5];Vo!=null&&typeof Vo=="number"&&0<Vo&&(I=1.5*Vo,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const rr=c.g;if(rr){const Yc=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var U=I.h;U.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(No(U,U.h),U.h=null))}if(I.D){const Np=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Np&&(I.ya=Np,Ge(I.I,I.D,Np))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var K=c;if(I.qa=B_(I,I.J?I.ia:null,I.W),K.K){jc(I.h,K);var Ue=K,Nt=I.L;Nt&&(Ue.I=Nt),Ue.B&&(fn(Ue),nr(Ue)),I.g=K}else L_(I);0<y.i.length&&Kc(y)}else ke[0]!="stop"&&ke[0]!="close"||As(y,7);else y.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?As(y,7):kp(y):ke[0]!="noop"&&y.l&&y.l.ta(ke),y.v=0)}}Ei(4)}catch{}}var ye=class{constructor(c,p){this.g=c,this.map=p}};function Ke(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Le(c){return c.h?1:c.g?c.g.size:0}function Sn(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function No(c,p){c.g?c.g.add(p):c.h=p}function jc(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ke.prototype.cancel=function(){if(this.i=y_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function y_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return _(c.i)}function Nk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,I=0;I<y;I++)p.push(c[I]);return p}p=[],y=0;for(I in c)p[y++]=c[I];return p}function Ok(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const I in c)p[y++]=I;return p}}}function v_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=Ok(c),I=Nk(c),F=I.length,U=0;U<F;U++)p.call(void 0,I[U],y&&y[U],c)}var __=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lk(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var I=c[y].indexOf("="),F=null;if(0<=I){var U=c[y].substring(0,I);F=c[y].substring(I+1)}else U=c[y];p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ps(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ps){this.h=c.h,Uc(this,c.j),this.o=c.o,this.g=c.g,Bc(this,c.s),this.l=c.l;var p=c.i,y=new hl;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),w_(this,y),this.m=c.m}else c&&(p=String(c).match(__))?(this.h=!1,Uc(this,p[1]||"",!0),this.o=ul(p[2]||""),this.g=ul(p[3]||"",!0),Bc(this,p[4]),this.l=ul(p[5]||"",!0),w_(this,p[6]||"",!0),this.m=ul(p[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}Ps.prototype.toString=function(){var c=[],p=this.j;p&&c.push(cl(p,E_,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(cl(p,E_,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(cl(y,y.charAt(0)=="/"?jk:Fk,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",cl(y,Bk)),c.join("")};function Fr(c){return new Ps(c)}function Uc(c,p,y){c.j=y?ul(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Bc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function w_(c,p,y){p instanceof hl?(c.i=p,zk(c.i,c.h)):(y||(p=cl(p,Uk)),c.i=new hl(p,c.h))}function Ge(c,p,y){c.i.set(p,y)}function zc(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ul(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cl(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,Vk),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var E_=/[#\/\?@]/g,Fk=/[#\?:]/g,jk=/[#\?]/g,Uk=/[#\?@]/g,Bk=/#/g;function hl(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Ci(c){c.g||(c.g=new Map,c.h=0,c.i&&Lk(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=hl.prototype,t.add=function(c,p){Ci(this),this.i=null,c=Oo(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function x_(c,p){Ci(c),p=Oo(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function T_(c,p){return Ci(c),p=Oo(c,p),c.g.has(p)}t.forEach=function(c,p){Ci(this),this.g.forEach(function(y,I){y.forEach(function(F){c.call(p,F,I,this)},this)},this)},t.na=function(){Ci(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let I=0;I<p.length;I++){const F=c[I];for(let U=0;U<F.length;U++)y.push(p[I])}return y},t.V=function(c){Ci(this);let p=[];if(typeof c=="string")T_(this,c)&&(p=p.concat(this.g.get(Oo(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return Ci(this),this.i=null,c=Oo(this,c),T_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function S_(c,p,y){x_(c,p),0<y.length&&(c.i=null,c.g.set(Oo(c,p),_(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var I=p[y];const U=encodeURIComponent(String(I)),K=this.V(I);for(I=0;I<K.length;I++){var F=U;K[I]!==""&&(F+="="+encodeURIComponent(String(K[I]))),c.push(F)}}return this.i=c.join("&")};function Oo(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function zk(c,p){p&&!c.j&&(Ci(c),c.i=null,c.g.forEach(function(y,I){var F=I.toLowerCase();I!=F&&(x_(this,I),S_(this,F,y))},c)),c.j=p}function $k(c,p){const y=new j;if(a.Image){const I=new Image;I.onload=m(bi,y,"TestLoadImage: loaded",!0,p,I),I.onerror=m(bi,y,"TestLoadImage: error",!1,p,I),I.onabort=m(bi,y,"TestLoadImage: abort",!1,p,I),I.ontimeout=m(bi,y,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else p(!1)}function Hk(c,p){const y=new j,I=new AbortController,F=setTimeout(()=>{I.abort(),bi(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:I.signal}).then(U=>{clearTimeout(F),U.ok?bi(y,"TestPingServer: ok",!0,p):bi(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),bi(y,"TestPingServer: error",!1,p)})}function bi(c,p,y,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(y)}catch{}}function Wk(){this.g=new Ap}function Kk(c,p,y){const I=y||"";try{v_(c,function(F,U){let K=F;u(F)&&(K=ko(F)),p.push(I+U+"="+encodeURIComponent(K))})}catch(F){throw p.push(I+"type="+encodeURIComponent("_badmap")),F}}function dl(c){this.l=c.Ub||null,this.j=c.eb||!1}g(dl,Do),dl.prototype.g=function(){return new $c(this.l,this.j)},dl.prototype.i=function(c){return function(){return c}}({});function $c(c,p){_t.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g($c,_t),t=$c.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,pl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;C_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function C_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?fl(this):pl(this),this.readyState==3&&C_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,fl(this))},t.Qa=function(c){this.g&&(this.response=c,fl(this))},t.ga=function(){this.g&&fl(this)};function fl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pl(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function pl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function b_(c){let p="";return A(c,function(y,I){p+=I,p+=":",p+=y,p+=`\r
`}),p}function Rp(c,p,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=b_(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Ge(c,p,y))}function ot(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ot,_t);var Gk=/^https?$/i,qk=["POST","PUT"];t=ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():de.g(),this.v=this.o?Cs(this.o):Cs(de),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){I_(this,U);return}if(c=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)y.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const U of I.keys())y.set(U,I.get(U));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qk,p,void 0))||I||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of y)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{R_(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){I_(this,U)}};function I_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,P_(c),Hc(c)}function P_(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?A_(this):this.bb())},t.bb=function(){A_(this)};function A_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||jr(c)!=4||c.Z()!=2)){if(c.u&&jr(c)==4)Un(c.Ea,0,c);else if(wt(c,"readystatechange"),jr(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var I;if(I=K===0){var F=String(c.D).match(__)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),I=!Gk.test(F?F.toLowerCase():"")}y=I}if(y)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var U=2<jr(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",P_(c)}}finally{Hc(c)}}}}function Hc(c,p){if(c.g){R_(c);const y=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||wt(c,"ready");try{y.onreadystatechange=I}catch{}}}function R_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function jr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Fc(p)}};function k_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yk(c){const p={};c=(c.g&&2<=jr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(v(c[I]))continue;var y=D(c[I]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[F]||[];p[F]=U,U.push(y)}b(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function D_(c){this.Aa=0,this.i=[],this.j=new j,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,c),this.cb=ml("retryDelaySeedMs",1e4,c),this.Wa=ml("forwardChannelMaxRetries",2,c),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ke(c&&c.concurrentRequestLimit),this.Da=new Wk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=D_.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,I){Mt(0),this.W=c,this.H=p||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=B_(this,null,this.W),Kc(this)};function kp(c){if(M_(c),c.G==3){var p=c.U++,y=Fr(c.I);if(Ge(y,"SID",c.K),Ge(y,"RID",p),Ge(y,"TYPE","terminate"),gl(c,y),p=new ve(c,c.j,p),p.L=2,p.v=zc(Fr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=z_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),nr(p)}U_(c)}function Wc(c){c.g&&(Mp(c),c.g.cancel(),c.g=null)}function M_(c){Wc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Gc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Kc(c){if(!Wt(c.h)&&!c.s){c.s=!0;var p=c.Ga;te||ne(),W||(te(),W=!0),Y.add(p,c),c.B=0}}function Qk(c,p){return Le(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=V(f(c.Ga,c,p),j_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new ve(this,this.j,c);let U=this.o;if(this.S&&(U?(U=E(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=O_(this,F,p),y=Fr(this.I),Ge(y,"RID",c),Ge(y,"CVER",22),this.D&&Ge(y,"X-HTTP-Session-Id",this.D),gl(this,y),U&&(this.O?p="headers="+encodeURIComponent(String(b_(U)))+"&"+p:this.m&&Rp(y,this.m,U)),No(this.h,F),this.Ua&&Ge(y,"TYPE","init"),this.P?(Ge(y,"$req",p),Ge(y,"SID","null"),F.T=!0,Qe(F,y,null)):Qe(F,y,p),this.G=2}}else this.G==3&&(c?N_(this,c):this.i.length==0||Wt(this.h)||N_(this))};function N_(c,p){var y;p?y=p.l:y=c.U++;const I=Fr(c.I);Ge(I,"SID",c.K),Ge(I,"RID",y),Ge(I,"AID",c.T),gl(c,I),c.m&&c.o&&Rp(I,c.m,c.o),y=new ve(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=O_(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),No(c.h,y),Qe(y,I,p)}function gl(c,p){c.H&&A(c.H,function(y,I){Ge(p,I,y)}),c.l&&v_({},function(y,I){Ge(p,I,y)})}function O_(c,p,y){y=Math.min(c.i.length,y);var I=c.l?f(c.l.Na,c.l,c):null;e:{var F=c.i;let U=-1;for(;;){const K=["count="+y];U==-1?0<y?(U=F[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let Ue=!0;for(let Nt=0;Nt<y;Nt++){let ke=F[Nt].g;const Kt=F[Nt].map;if(ke-=U,0>ke)U=Math.max(0,F[Nt].g-100),Ue=!1;else try{Kk(Kt,K,"req"+ke+"_")}catch{I&&I(Kt)}}if(Ue){I=K.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,I}function L_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;te||ne(),W||(te(),W=!0),Y.add(p,c),c.v=0}}function Dp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=V(f(c.Fa,c),j_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,V_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=V(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Wc(this),V_(this))};function Mp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function V_(c){c.g=new ve(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Fr(c.qa);Ge(p,"RID","rpc"),Ge(p,"SID",c.K),Ge(p,"AID",c.T),Ge(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(p,"TO",c.ja),Ge(p,"TYPE","xmlhttp"),gl(c,p),c.m&&c.o&&Rp(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=zc(Fr(p)),y.m=null,y.P=!0,xi(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Wc(this),Dp(this),Mt(19))};function Gc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function F_(c,p){var y=null;if(c.g==p){Gc(c),Mp(c),c.g=null;var I=2}else if(Sn(c.h,p))y=p.D,jc(c.h,p),I=1;else return;if(c.G!=0){if(p.o)if(I==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var F=c.B;I=Mo(),wt(I,new O(I,y)),Kc(c)}else L_(c);else if(F=p.s,F==3||F==0&&0<p.X||!(I==1&&Qk(c,p)||I==2&&Dp(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),F){case 1:As(c,5);break;case 4:As(c,10);break;case 3:As(c,6);break;default:As(c,2)}}}function j_(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function As(c,p){if(c.j.info("Error code "+p),p==2){var y=f(c.fb,c),I=c.Xa;const F=!I;I=new Ps(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uc(I,"https"),zc(I),F?$k(I.toString(),y):Hk(I.toString(),y)}else Mt(2);c.G=0,c.l&&c.l.sa(p),U_(c),M_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function U_(c){if(c.G=0,c.ka=[],c.l){const p=y_(c.h);(p.length!=0||c.i.length!=0)&&(T(c.ka,p),T(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function B_(c,p,y){var I=y instanceof Ps?Fr(y):new Ps(y);if(I.g!="")p&&(I.g=p+"."+I.g),Bc(I,I.s);else{var F=a.location;I=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var U=new Ps(null);I&&Uc(U,I),p&&(U.g=p),F&&Bc(U,F),y&&(U.l=y),I=U}return y=c.D,p=c.ya,y&&p&&Ge(I,y,p),Ge(I,"VER",c.la),gl(c,I),I}function z_(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new ot(new dl({eb:y})):new ot(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $_(){}t=$_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qc(){}qc.prototype.g=function(c,p){return new Cn(c,p)};function Cn(c,p){_t.call(this),this.g=new D_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!v(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Lo(this)}g(Cn,_t),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){kp(this.g)},Cn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=ko(c),c=y);p.i.push(new ye(p.Ya++,c)),p.G==3&&Kc(p)},Cn.prototype.N=function(){this.g.l=null,delete this.j,kp(this.g),delete this.g,Cn.aa.N.call(this)};function H_(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}g(H_,wi);function W_(){bs.call(this),this.status=1}g(W_,bs);function Lo(c){this.g=c}g(Lo,$_),Lo.prototype.ua=function(){wt(this.g,"a")},Lo.prototype.ta=function(c){wt(this.g,new H_(c))},Lo.prototype.sa=function(c){wt(this.g,new W_)},Lo.prototype.ra=function(){wt(this.g,"b")},qc.prototype.createWebChannel=qc.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,XI=function(){return new qc},QI=function(){return Mo()},YI=Lr,Jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,id=ce,J.COMPLETE="complete",qI=J,ol.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Hl=ol,GI=dl,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,KI=ot}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const nx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Lv("@firebase/firestore");function Pl(){return mo.logLevel}function Z(t,...e){if(mo.logLevel<=Se.DEBUG){const n=e.map(Qv);mo.debug(`Firestore (${Ga}): ${t}`,...n)}}function di(t,...e){if(mo.logLevel<=Se.ERROR){const n=e.map(Qv);mo.error(`Firestore (${Ga}): ${t}`,...n)}}function Da(t,...e){if(mo.logLevel<=Se.WARN){const n=e.map(Qv);mo.warn(`Firestore (${Ga}): ${t}`,...n)}}function Qv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: `+t;throw di(e),new Error(e)}function ze(t,e){t||fe()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class Ej{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xj{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ns,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new JI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Jt(e)}}class Tj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Sj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Tj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new Cj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ij(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function Ma(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Ct(0,0))}static max(){return new pe(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Gu{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const Pj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Gu{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return Pj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(lt.fromString(e))}static fromName(e){return new se(lt.fromString(e).popFirst(5))}static empty(){return new se(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new lt(e.slice()))}}function Aj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new as(i,se.empty(),e)}function Rj(t){return new as(t.readTime,t.key,-1)}class as{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new as(pe.min(),se.empty(),-1)}static max(){return new as(pe.max(),se.empty(),-1)}}function kj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==Dj)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Nj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xv.oe=-1;function Jf(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function Oj(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=s??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ix(this.data.getIterator())}getIteratorFrom(e){return new ix(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class ix{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Bt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tP("Invalid base64 string: "+s):s}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Lj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){if(ze(!!t),typeof t=="string"){let e=0;const n=Lj.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zv(t){const e=t.mapValue.fields.__previous_value__;return Jv(e)?Zv(e):e}function qu(t){const e=ls(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Yu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jv(t)?4:Fj(t)?9007199254740991:10:fe()}function Rr(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ls(i.timestampValue),a=ls(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return go(i.bytesValue).isEqual(go(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return gt(i.geoPointValue.latitude)===gt(s.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return gt(i.integerValue)===gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gt(i.doubleValue),a=gt(s.doubleValue);return o===a?Xd(o)===Xd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ma(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(rx(o)!==rx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Rr(o[l],a[l])))return!1;return!0}(t,e);default:return fe()}}function Qu(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function Na(t,e){if(t===e)return 0;const n=yo(t),r=yo(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=gt(s.integerValue||s.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return sx(t.timestampValue,e.timestampValue);case 4:return sx(qu(t),qu(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(s,o){const a=go(s),l=go(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=De(a[u],l[u]);if(h!==0)return h}return De(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=De(gt(s.latitude),gt(o.latitude));return a!==0?a:De(gt(s.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Na(a[u],l[u]);if(h)return h}return De(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===gh.mapValue&&o===gh.mapValue)return 0;if(s===gh.mapValue)return 1;if(o===gh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=De(l[d],h[d]);if(f!==0)return f;const m=Na(a[l[d]],u[h[d]]);if(m!==0)return m}return De(l.length,h.length)}(t.mapValue,e.mapValue);default:throw fe()}}function sx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=ls(t),r=ls(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function Oa(t){return Zg(t)}function Zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return go(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zg(n.fields[o])}`;return i+"}"}(t.mapValue):fe()}function ey(t){return!!t&&"integerValue"in t}function e0(t){return!!t&&"arrayValue"in t}function ox(t){return!!t&&"nullValue"in t}function ax(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sd(t){return!!t&&"mapValue"in t}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){So(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yn(hu(this.value))}}function nP(t){const e=[];return So(t.fields,(n,r)=>{const i=new jt([n]);if(sd(r)){const s=nP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new en(e,0,pe.min(),pe.min(),pe.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,pe.min(),pe.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,pe.min(),pe.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.position=e,this.inclusive=n}}function lx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Na(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ux(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function jj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{}class xt extends rP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bj(e,n,r):n==="array-contains"?new Hj(e,r):n==="in"?new Wj(e,r):n==="not-in"?new Kj(e,r):n==="array-contains-any"?new Gj(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zj(e,r):new $j(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Na(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(Na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends rP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new kr(e,n)}matches(e){return iP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iP(t){return t.op==="and"}function sP(t){return Uj(t)&&iP(t)}function Uj(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function ty(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(sP(t))return t.filters.map(e=>ty(e)).join(",");{const e=t.filters.map(n=>ty(n)).join(",");return`${t.op}(${e})`}}function oP(t,e){return t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&Rr(r.value,i.value)}(t,e):t instanceof kr?function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oP(o,i.filters[a]),!0):!1}(t,e):void fe()}function aP(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Oa(n.value)}`}(t):t instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(aP).join(" ,")+"}"}(t):"Filter"}class Bj extends xt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class zj extends xt{constructor(e,n){super(e,"in",n),this.keys=lP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $j extends xt{constructor(e,n){super(e,"not-in",n),this.keys=lP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class Hj extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e0(n)&&Qu(n.arrayValue,this.value)}}class Wj extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qu(this.value.arrayValue,n)}}class Kj extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qu(this.value.arrayValue,n)}}class Gj extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function cx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new qj(t,e,n,r,i,s,o)}function t0(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ty(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),e.ue=n}return e.ue}function n0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ux(t.startAt,e.startAt)&&ux(t.endAt,e.endAt)}function ny(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Yj(t,e,n,r,i,s,o,a){return new Zf(t,e,n,r,i,s,o,a)}function r0(t){return new Zf(t)}function hx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qj(t){return t.collectionGroup!==null}function du(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Zd(s,r))}),n.has(jt.keyField().canonicalString())||e.ce.push(new Zd(jt.keyField(),r))}return e.ce}function br(t){const e=me(t);return e.le||(e.le=Xj(e,du(t))),e.le}function Xj(t,e){if(t.limitType==="F")return cx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zd(i.field,s)});const n=t.endAt?new Jd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jd(t.startAt.position,t.startAt.inclusive):null;return cx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ry(t,e,n){return new Zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ep(t,e){return n0(br(t),br(e))&&t.limitType===e.limitType}function uP(t){return`${t0(br(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aP(i)).join(", ")}]`),Jf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oa(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function tp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of du(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=lx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,du(r),i)||r.endAt&&!function(o,a,l){const u=lx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,du(r),i))}(t,e)}function Jj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cP(t){return(e,n)=>{let r=!1;for(const i of du(t)){const s=Zj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Zj(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Na(l,u):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new st(se.comparator);function fi(){return e4}const hP=new st(se.comparator);function Wl(...t){let e=hP;for(const n of t)e=e.insert(n.key,n);return e}function dP(t){let e=hP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return fu()}function fP(){return fu()}function fu(){return new qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const t4=new st(se.comparator),n4=new Bt(se.comparator);function Te(...t){let e=n4;for(const n of t)e=e.add(n);return e}const r4=new Bt(De);function i4(){return r4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function mP(t){return{integerValue:""+t}}function s4(t,e){return Oj(e)?mP(e):pP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this._=void 0}}function o4(t,e,n){return t instanceof ef?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jv(s)&&(s=Zv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Xu?yP(t,e):t instanceof Ju?vP(t,e):function(i,s){const o=gP(i,s),a=dx(o)+dx(i.Pe);return ey(o)&&ey(i.Pe)?mP(a):pP(i.serializer,a)}(t,e)}function a4(t,e,n){return t instanceof Xu?yP(t,e):t instanceof Ju?vP(t,e):n}function gP(t,e){return t instanceof tf?function(r){return ey(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ef extends np{}class Xu extends np{constructor(e){super(),this.elements=e}}function yP(t,e){const n=_P(e);for(const r of t.elements)n.some(i=>Rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ju extends np{constructor(e){super(),this.elements=e}}function vP(t,e){let n=_P(e);for(const r of t.elements)n=n.filter(i=>!Rr(i,r));return{arrayValue:{values:n}}}class tf extends np{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dx(t){return gt(t.integerValue||t.doubleValue)}function _P(t){return e0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function l4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xu&&i instanceof Xu||r instanceof Ju&&i instanceof Ju?Ma(r.elements,i.elements,Rr):r instanceof tf&&i instanceof tf?Rr(r.Pe,i.Pe):r instanceof ef&&i instanceof ef}(t.transform,e.transform)}class u4{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rp{}function wP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xP(t.key,Ir.none()):new Cc(t.key,t.data,Ir.none());{const n=t.data,r=yn.empty();let i=new Bt(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ws(t.key,r,new Rn(i.toArray()),Ir.none())}}function c4(t,e,n){t instanceof Cc?function(i,s,o){const a=i.value.clone(),l=px(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ws?function(i,s,o){if(!od(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=px(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(EP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pu(t,e,n,r){return t instanceof Cc?function(s,o,a,l){if(!od(s.precondition,o))return a;const u=s.value.clone(),h=mx(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ws?function(s,o,a,l){if(!od(s.precondition,o))return a;const u=mx(s.fieldTransforms,l,o),h=o.data;return h.setAll(EP(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return od(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function h4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gP(r.transform,i||null);s!=null&&(n===null&&(n=yn.empty()),n.set(r.field,s))}return n||null}function fx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ma(r,i,(s,o)=>l4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cc extends rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ws extends rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function EP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function px(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,a4(o,a,n[i]))}return r}function mx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,o4(s,o,e))}return r}class xP extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d4 extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&c4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=wP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,(n,r)=>fx(n,r))&&Ma(this.baseMutations,e.baseMutations,(n,r)=>fx(n,r))}}class i0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return t4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new i0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ce;function g4(t){switch(t){default:return fe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function TP(t){if(t===void 0)return di("GRPC error has no .code"),$.UNKNOWN;switch(t){case pt.OK:return $.OK;case pt.CANCELLED:return $.CANCELLED;case pt.UNKNOWN:return $.UNKNOWN;case pt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case pt.INTERNAL:return $.INTERNAL;case pt.UNAVAILABLE:return $.UNAVAILABLE;case pt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case pt.NOT_FOUND:return $.NOT_FOUND;case pt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case pt.ABORTED:return $.ABORTED;case pt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case pt.DATA_LOSS:return $.DATA_LOSS;default:return fe()}}(Ce=pt||(pt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new no([4294967295,4294967295],0);function gx(t){const e=y4().encode(t),n=new WI;return n.update(e),new Uint8Array(n.digest())}function yx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new no([n,r],0),new no([i,s],0)]}class s0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=no.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(no.fromNumber(r)));return i.compare(v4)===1&&(i=new no([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gx(e),[r,i]=yx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new s0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=gx(e),[r,i]=yx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ip(pe.min(),i,new st(De),fi(),Te())}}class bc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SP{constructor(e,n){this.targetId=e,this.me=n}}class CP{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vx{constructor(){this.fe=0,this.ge=wx(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new bc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=wx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _4{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=_x(),this.Qe=new st(De)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(ny(s))if(r===0){const o=new se(s.path);this.Ue(n,o,en.newNoDocument(o,pe.min()))}else ze(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=go(r).toUint8Array()}catch(l){if(l instanceof tP)return Da("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new s0(o,i,s)}catch(l){return Da(l instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&ny(a.target)){const l=new se(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,en.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Te();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ip(e,n,this.Qe,this.ke,r);return this.ke=fi(),this.qe=_x(),this.Qe=new st(De),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bt(De),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _x(){return new st(se.comparator)}function wx(){return new st(se.comparator)}const w4={asc:"ASCENDING",desc:"DESCENDING"},E4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x4={and:"AND",or:"OR"};class T4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iy(t,e){return t.useProto3Json||Jf(e)?e:{value:e}}function nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S4(t,e){return nf(t,e.toTimestamp())}function Pr(t){return ze(!!t),pe.fromTimestamp(function(n){const r=ls(n);return new Ct(r.seconds,r.nanos)}(t))}function o0(t,e){return sy(t,e).canonicalString()}function sy(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IP(t){const e=lt.fromString(t);return ze(DP(e)),e}function oy(t,e){return o0(t.databaseId,e.path)}function vm(t,e){const n=IP(e);if(n.get(1)!==t.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(AP(n))}function PP(t,e){return o0(t.databaseId,e)}function C4(t){const e=IP(t);return e.length===4?lt.emptyPath():AP(e)}function ay(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AP(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ex(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function b4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(ze(h===void 0||typeof h=="string"),Ht.fromBase64String(h||"")):(ze(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?$.UNKNOWN:TP(u.code);return new ie(h,u.message||"")}(o);n=new CP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vm(t,r.document.name),s=Pr(r.document.updateTime),o=r.document.createTime?Pr(r.document.createTime):pe.min(),a=new yn({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new ad(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vm(t,r.document),s=r.readTime?Pr(r.readTime):pe.min(),o=en.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ad([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vm(t,r.document),s=r.removedTargetIds||[];n=new ad([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new m4(i,s),a=r.targetId;n=new SP(a,o)}}return n}function I4(t,e){let n;if(e instanceof Cc)n={update:Ex(t,e.key,e.value)};else if(e instanceof xP)n={delete:oy(t,e.key)};else if(e instanceof ws)n={update:Ex(t,e.key,e.data),updateMask:L4(e.fieldMask)};else{if(!(e instanceof d4))return fe();n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ef)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ju)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:S4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function P4(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pr(i.updateTime):Pr(s);return o.isEqual(pe.min())&&(o=Pr(s)),new u4(o,i.transformResults||[])}(n,e))):[]}function A4(t,e){return{documents:[PP(t,e.path)]}}function R4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PP(t,i);const s=function(u){if(u.length!==0)return kP(kr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Ho(f.field),direction:M4(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=iy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function k4(t){let e=C4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=RP(d);return f instanceof kr&&sP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new Zd(Wo(g.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Jf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new Jd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new Jd(m,f)}(n.endAt)),Yj(e,i,o,s,a,"F",l,u)}function D4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wo(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wo(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wo(n.unaryFilter.field);return xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wo(n.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return xt.create(Wo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(r=>RP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function M4(t){return w4[t]}function N4(t){return E4[t]}function O4(t){return x4[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function Wo(t){return jt.fromServerFormat(t.fieldPath)}function kP(t){return t instanceof xt?function(n){if(n.op==="=="){if(ax(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(ox(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ax(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(ox(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:N4(n.op),value:n.value}}}(t):t instanceof kr?function(n){const r=n.getFilters().map(i=>kP(i));return r.length===1?r[0]:{compositeFilter:{op:O4(n.op),filters:r}}}(t):fe()}function L4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,r,i,s=pe.min(),o=pe.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.ct=e}}function F4(t){const e=k4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.an=new U4}addToCollectionParentIndex(e,n){return this.an.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(as.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class U4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new La(0)}static Bn(){return new La(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pu(r.mutation,i,Rn.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=Qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fi();const o=fu(),a=function(){return fu()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof ws)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),pu(h.mutation,u,h.mutation.getFieldMask(),Ct.now())):o.set(u.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new z4(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fu();let i=new st((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Rn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=fP();h.forEach(f=>{if(!s.has(f)){const m=wP(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Qj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Qs());let a=-1,l=s;return o.next(u=>z.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Te())).next(h=>({batchId:a,changes:dP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wl();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const u=function(d,f){return new Zf(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,en.newInvalidDocument(h)))});let a=Wl();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&pu(h.mutation,u,Rn.empty(),Ct.now()),tp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return z.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:F4(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.overlays=new st(se.comparator),this.Pr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Qs(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new st((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Qs(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p4(n,r));let s=this.Pr.get(n);s===void 0&&(s=Te(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.Ir=new Bt(Pt.Tr),this.Er=new Bt(Pt.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Pt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new se(new lt([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new se(new lt([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=Te();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return se.comparator(e.key,n.key)||De(e.yr,n.yr)}static dr(e,n){return De(e.yr,n.yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Bt(Pt.Tr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new f4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(De);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new se(s),0);let a=new Bt(De);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.yr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return z.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Pt(n,0),i=this.Sr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.Fr=e,this.docs=function(){return new st(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fi();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kj(Rj(h),r)<=0||(i.has(h.key)||tp(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe()}Mr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Y4(this)}getSize(e){return z.resolve(this.size)}}class Y4 extends B4{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.persistence=e,this.Or=new qa(n=>t0(n),n0),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new a0,this.targetCount=0,this.Br=La.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),z.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new La(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Qn(n),z.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.kr={},this.overlays={},this.qr=new Xv(0),this.Qr=!1,this.Qr=!0,this.Kr=new K4,this.referenceDelegate=e(this),this.$r=new Q4(this),this.indexManager=new j4,this.remoteDocumentCache=function(i){return new q4(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new V4(n),this.Wr=new H4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new G4(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new J4(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return z.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class J4 extends Mj{constructor(e){super(),this.currentSequenceNumber=e}}class l0{constructor(e){this.persistence=e,this.Hr=new a0,this.Jr=null}static Yr(e){return new l0(e)}get Zr(){if(this.Jr)return this.Jr;throw fe()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Zr,r=>{const i=se.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,pe.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return z.or([()=>z.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new u0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return UO()?8:Nj($t())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Z4;return this.Zi(e,n,o).next(a=>{if(s.result=a,this.Gi)return this.Xi(e,n,o,a.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(Pl()<=Se.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),z.resolve()):(Pl()<=Se.DEBUG&&Z("QueryEngine","Query:",$o(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(Pl()<=Se.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):z.resolve())}Ji(e,n){if(hx(n))return z.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ry(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Te(...s);return this.Hi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.es(n,a);return this.ts(n,u,o,l.readTime)?this.Ji(e,ry(n,null,"F")):this.ns(e,u,n,l)}))})))}Yi(e,n,r,i){return hx(n)||i.isEqual(pe.min())?z.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?z.resolve(null):(Pl()<=Se.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$o(n)),this.ns(e,o,n,Aj(i,-1)).next(a=>a))})}es(e,n){let r=new Bt(cP(e));return n.forEach((i,s)=>{tp(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return Pl()<=Se.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",$o(n)),this.Hi.getDocumentsMatchingQuery(e,n,as.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new st(De),this.os=new qa(s=>t0(s),n0),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $4(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function nU(t,e,n,r){return new tU(t,e,n,r)}async function MP(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Te();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function rU(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let m=z.resolve();return f.forEach(g=>{m=m.next(()=>h.getEntry(l,g)).next(_=>{const T=u.docVersions.get(g);ze(T!==null),_.version.compareTo(T)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),h.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NP(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function iU(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.$r.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.$r.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Ht.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(_,T,w){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,h)&&a.push(n.$r.updateTargetData(s,m))});let l=fi(),u=Te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(sU(s,o,e.documentUpdates).next(h=>{l=h.hs,u=h.Ps})),!r.isEqual(pe.min())){const h=n.$r.getLastRemoteSnapshotVersion(s).next(d=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ss=i,s))}function sU(t,e,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{hs:o,Ps:i}})}function oU(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aU(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.$r.allocateTargetId(r).next(o=>(i=new Ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function ly(t,e,n){const r=me(t),i=r.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sc(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function xx(t,e,n){const r=me(t);let i=pe.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=me(l),f=d.os.get(h);return f!==void 0?z.resolve(d.ss.get(f)):d.$r.getTargetData(u,h)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.rs.getDocumentsMatchingQuery(o,e,n?i:pe.min(),n?s:Te())).next(a=>(lU(r,Jj(e),a),{documents:a,Is:s})))}function lU(t,e,n){let r=t._s.get(e)||pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t._s.set(e,r)}class Tx{constructor(){this.activeTargetIds=i4()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uU{constructor(){this.io=new Tx,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new Tx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function _m(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class fU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const a=_m(),l=this.Mo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(u,s,o),this.Oo(n,l,u,i).then(h=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Da("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}No(n,r,i,s,o,a){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ga}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=hU[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=_m();return new Promise((o,a)=>{const l=new KI;l.setWithCredentials(!0),l.listenOnce(qI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case id.NO_ERROR:const h=l.getResponseJson();Z(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case id.TIMEOUT:Z(Qt,`RPC '${e}' ${s} timed out`),a(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:const d=l.getStatus();if(Z(Qt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(T){const w=T.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(m.status);a(new ie(g,m.message))}else a(new ie($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie($.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{Z(Qt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Z(Qt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Lo(e,n,r){const i=_m(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XI(),a=QI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new GI({})),this.xo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Z(Qt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,m=!1;const g=new dU({Po:T=>{m?Z(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(Z(Qt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Z(Qt,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},Io:()=>d.close()}),_=(T,w,v)=>{T.listen(w,x=>{try{v(x)}catch(k){setTimeout(()=>{throw k},0)}})};return _(d,Hl.EventType.OPEN,()=>{m||(Z(Qt,`RPC '${e}' stream ${i} transport opened.`),g.po())}),_(d,Hl.EventType.CLOSE,()=>{m||(m=!0,Z(Qt,`RPC '${e}' stream ${i} transport closed`),g.wo())}),_(d,Hl.EventType.ERROR,T=>{m||(m=!0,Da(Qt,`RPC '${e}' stream ${i} transport errored:`,T),g.wo(new ie($.UNAVAILABLE,"The operation could not be completed")))}),_(d,Hl.EventType.MESSAGE,T=>{var w;if(!m){const v=T.data[0];ze(!!v);const x=v,k=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(k){Z(Qt,`RPC '${e}' stream ${i} received error:`,k);const L=k.status;let A=function(C){const P=pt[C];if(P!==void 0)return TP(P)}(L),b=k.message;A===void 0&&(A=$.INTERNAL,b="Unknown error status: "+L+" with message "+k.message),m=!0,g.wo(new ie(A,b)),d.close()}else Z(Qt,`RPC '${e}' stream ${i} received:`,v),g.So(v)}}),_(a,YI.STAT_EVENT,T=>{T.stat===Jg.PROXY?Z(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Jg.NOPROXY&&Z(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.yo()},0),g}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){return new T4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,r,i,s,o,a,l){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new OP(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new ie($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pU extends LP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=b4(this.serializer,e),r=function(s){if(!("targetChange"in s))return pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Pr(o.readTime):pe.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=ay(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ny(l)?{documents:A4(s,l)}:{query:R4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bP(s,o.resumeToken);const u=iy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=nf(s,o.snapshotVersion.toTimestamp());const u=iy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=D4(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=ay(this.serializer),n.removeTarget=e,this.__(n)}}class mU extends LP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=P4(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=ay(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I4(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,sy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie($.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.No(e,sy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie($.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class yU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(di(n),this.b_=!1):Z("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{Co(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=me(l);u.N_.add(4),await Ic(u),u.k_.set("Unknown"),u.N_.delete(4),await op(u)}(this))})}),this.k_=new yU(r,i)}}async function op(t){if(Co(t))for(const e of t.L_)await e(!0)}async function Ic(t){for(const e of t.L_)await e(!1)}function VP(t,e){const n=me(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),f0(n)?d0(n):Ya(n).n_()&&h0(n,e))}function c0(t,e){const n=me(t),r=Ya(n);n.O_.delete(e),r.n_()&&FP(n,e),n.O_.size===0&&(r.n_()?r.s_():Co(n)&&n.k_.set("Unknown"))}function h0(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ya(t).d_(e)}function FP(t,e){t.q_.xe(e),Ya(t).A_(e)}function d0(t){t.q_=new _4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ya(t).start(),t.k_.D_()}function f0(t){return Co(t)&&!Ya(t).t_()&&t.O_.size>0}function Co(t){return me(t).N_.size===0}function jP(t){t.q_=void 0}async function _U(t){t.k_.set("Online")}async function wU(t){t.O_.forEach((e,n)=>{h0(t,e)})}async function EU(t,e){jP(t),f0(t)?(t.k_.F_(e),d0(t)):t.k_.set("Unknown")}async function xU(t,e,n){if(t.k_.set("Online"),e instanceof CP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.O_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.O_.delete(a),i.q_.removeTarget(a))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(t,r)}else if(e instanceof ad?t.q_.Ke(e):e instanceof SP?t.q_.He(e):t.q_.We(e),!n.isEqual(pe.min()))try{const r=await NP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.O_.get(u);h&&s.O_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.O_.get(l);if(!h)return;s.O_.set(l,h.withResumeToken(Ht.EMPTY_BYTE_STRING,h.snapshotVersion)),FP(s,l);const d=new Ui(h.target,l,u,h.sequenceNumber);h0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await rf(t,r)}}async function rf(t,e,n){if(!Sc(e))throw e;t.N_.add(1),await Ic(t),t.k_.set("Offline"),n||(n=()=>NP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await op(t)})}function UP(t,e){return e().catch(n=>rf(t,n,e))}async function ap(t){const e=me(t),n=us(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;TU(e);)try{const i=await oU(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,SU(e,i)}catch(i){await rf(e,i)}BP(e)&&zP(e)}function TU(t){return Co(t)&&t.x_.length<10}function SU(t,e){t.x_.push(e);const n=us(t);n.n_()&&n.R_&&n.V_(e.mutations)}function BP(t){return Co(t)&&!us(t).t_()&&t.x_.length>0}function zP(t){us(t).start()}async function CU(t){us(t).g_()}async function bU(t){const e=us(t);for(const n of t.x_)e.V_(n.mutations)}async function IU(t,e,n){const r=t.x_.shift(),i=i0.from(r,e,n);await UP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ap(t)}async function PU(t,e){e&&us(t).R_&&await async function(r,i){if(function(o){return g4(o)&&o!==$.ABORTED}(i.code)){const s=r.x_.shift();us(r).i_(),await UP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ap(r)}}(t,e),BP(t)&&zP(t)}async function Cx(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Co(n);n.N_.add(3),await Ic(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await op(n)}async function AU(t,e){const n=me(t);e?(n.N_.delete(2),await op(n)):e||(n.N_.add(2),await Ic(n),n.k_.set("Unknown"))}function Ya(t){return t.Q_||(t.Q_=function(n,r,i){const s=me(n);return s.y_(),new pU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:_U.bind(null,t),Ao:wU.bind(null,t),Vo:EU.bind(null,t),E_:xU.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),f0(t)?d0(t):t.k_.set("Unknown")):(await t.Q_.stop(),jP(t))})),t.Q_}function us(t){return t.K_||(t.K_=function(n,r,i){const s=me(n);return s.y_(),new mU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:CU.bind(null,t),Vo:PU.bind(null,t),m_:bU.bind(null,t),f_:IU.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await ap(t)):(await t.K_.stop(),t.x_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new p0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m0(t,e){if(di("AsyncQueue",`${e}: ${t}`),Sc(t))return new ie($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new _a(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.U_=new st(se.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):fe():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Va{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Va(e,n,_a.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class kU{constructor(){this.queries=Ix(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=me(n),s=i.queries;i.queries=Ix(),s.forEach((o,a)=>{for(const l of a.z_)l.onError(r)})})(this,new ie($.ABORTED,"Firestore shutting down"))}}function Ix(){return new qa(t=>uP(t),ep)}async function DU(t,e){const n=me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.j_()&&e.H_()&&(r=2):(s=new RU,r=e.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=m0(o,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&g0(n)}async function MU(t,e){const n=me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?i=e.H_()?0:1:!s.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NU(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.z_)a.Z_(i)&&(r=!0);o.G_=i}}r&&g0(n)}function OU(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(e)}function g0(t){t.J_.forEach(e=>{e.next()})}var uy,Px;(Px=uy||(uy={})).X_="default",Px.Cache="cache";class LU{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.key=e}}class HP{constructor(e){this.key=e}}class VU{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Te(),this.mutatedKeys=Te(),this.da=cP(e),this.Aa=new _a(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new bx,i=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),m=tp(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?g!==_&&(r.track({type:3,doc:m}),T=!0):this.fa(f,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.da(m,l)>0||u&&this.da(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(m?(o=o.add(m),s=_?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Aa:o,ma:r,ts:a,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((h,d)=>function(m,g){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return _(m)-_(g)}(h.type,d.type)||this.da(h.doc,d.doc)),this.ga(r),i=i!=null&&i;const a=n&&!i?this.pa():[],l=this.Ea.size===0&&this.current&&!i?1:0,u=l!==this.Ta;return this.Ta=l,o.length!==0||u?{snapshot:new Va(this.query,e.Aa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new bx,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=Te(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new HP(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new $P(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=Te();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return Va.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class FU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jU{constructor(e){this.key=e,this.Da=!1}}class UU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new qa(a=>uP(a),ep),this.Fa=new Map,this.Ma=new Set,this.xa=new st(se.comparator),this.Oa=new Map,this.Na=new a0,this.La={},this.Ba=new Map,this.ka=La.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function BU(t,e,n=!0){const r=QP(t);let i;const s=r.va.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await WP(r,e,n,!0),i}async function zU(t,e){const n=QP(t);await WP(n,e,!0,!1)}async function WP(t,e,n,r){const i=await aU(t.localStore,br(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await $U(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&VP(t.remoteStore,i),a}async function $U(t,e,n,r,i){t.Qa=(d,f,m)=>async function(_,T,w,v){let x=T.view.Va(w);x.ts&&(x=await xx(_.localStore,T.query,!1).then(({documents:b})=>T.view.Va(b,x)));const k=v&&v.targetChanges.get(T.targetId),L=v&&v.targetMismatches.get(T.targetId)!=null,A=T.view.applyChanges(x,_.isPrimaryClient,k,L);return Rx(_,T.targetId,A.ya),A.snapshot}(t,d,f,m);const s=await xx(t.localStore,e,!0),o=new VU(e,s.Is),a=o.Va(s.documents),l=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Rx(t,n,u.ya);const h=new FU(e,n,o);return t.va.set(e,h),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),u.snapshot}async function HU(t,e,n){const r=me(t),i=r.va.get(e),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter(o=>!ep(o,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ly(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&c0(r.remoteStore,i.targetId),cy(r,i.targetId)}).catch(Tc)):(cy(r,i.targetId),await ly(r.localStore,i.targetId,!0))}async function WU(t,e){const n=me(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),c0(n.remoteStore,r.targetId))}async function KU(t,e,n){const r=ZU(t);try{const i=await function(o,a){const l=me(o),u=Ct.now(),h=a.reduce((m,g)=>m.add(g.key),Te());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=fi(),_=Te();return l.us.getEntries(m,h).next(T=>{g=T,g.forEach((w,v)=>{v.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(T=>{d=T;const w=[];for(const v of a){const x=h4(v,d.get(v.key).overlayedDocument);x!=null&&w.push(new ws(v.key,x,nP(x.value.mapValue),Ir.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,a)}).next(T=>{f=T;const w=T.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(m,T.batchId,w)})}).then(()=>({batchId:f.batchId,changes:dP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.La[o.currentUser.toKey()];u||(u=new st(De)),u=u.insert(a,l),o.La[o.currentUser.toKey()]=u}(r,i.batchId,n),await Pc(r,i.changes),await ap(r.remoteStore)}catch(i){const s=m0(i,"Failed to persist write");n.reject(s)}}async function KP(t,e){const n=me(t);try{const r=await iU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oa.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Da=!0:i.modifiedDocuments.size>0?ze(o.Da):i.removedDocuments.size>0&&(ze(o.Da),o.Da=!1))}),await Pc(n,r,e)}catch(r){await Tc(r)}}function Ax(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const a=o.view.Y_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.z_)f.Y_(a)&&(u=!0)}),u&&g0(l)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GU(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),s=i&&i.key;if(s){let o=new st(se.comparator);o=o.insert(s,en.newNoDocument(s,pe.min()));const a=Te().add(s),l=new ip(pe.min(),new Map,new st(De),o,a);await KP(r,l),r.xa=r.xa.remove(s),r.Oa.delete(e),y0(r)}else await ly(r.localStore,e,!1).then(()=>cy(r,e,n)).catch(Tc)}async function qU(t,e){const n=me(t),r=e.batch.batchId;try{const i=await rU(n.localStore,e);qP(n,r,null),GP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pc(n,i)}catch(i){await Tc(i)}}async function YU(t,e,n){const r=me(t);try{const i=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ze(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);qP(r,e,n),GP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pc(r,i)}catch(i){await Tc(i)}}function GP(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function qP(t,e,n){const r=me(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function cy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||YP(t,r)})}function YP(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(c0(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),y0(t))}function Rx(t,e,n){for(const r of n)r instanceof $P?(t.Na.addReference(r.key,e),QU(t,r)):r instanceof HP?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||YP(t,r.key)):fe()}function QU(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Ma.add(r),y0(t))}function y0(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new se(lt.fromString(e)),r=t.ka.next();t.Oa.set(r,new jU(n)),t.xa=t.xa.insert(n,r),VP(t.remoteStore,new Ui(br(r0(n.path)),r,"TargetPurposeLimboResolution",Xv.oe))}}async function Pc(t,e,n){const r=me(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((a,l)=>{o.push(r.Qa(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=u0.Ui(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(l,u){const h=me(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(u,f=>z.forEach(f.Ki,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>z.forEach(f.$i,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!Sc(d))throw d;Z("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=h.ss.get(f),g=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(g);h.ss=h.ss.insert(f,_)}}}(r.localStore,s))}async function XU(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await MP(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(a=>{a.forEach(l=>{l.reject(new ie($.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pc(n,r.ls)}}function JU(t,e){const n=me(t),r=n.Oa.get(e);if(r&&r.Da)return Te().add(r.key);{let i=Te();const s=n.Fa.get(e);if(!s)return i;for(const o of s){const a=n.va.get(o);i=i.unionWith(a.view.Ra)}return i}}function QP(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GU.bind(null,e),e.Ca.E_=NU.bind(null,e.eventManager),e.Ca.Ka=OU.bind(null,e.eventManager),e}function ZU(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YU.bind(null,e),e}class kx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return nU(this.persistence,new eU,e.initialUser,this.serializer)}createPersistence(e){return new X4(l0.Yr,this.serializer)}createSharedClientState(e){return new uU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ax(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XU.bind(null,this.syncEngine),await AU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kU}()}createDatastore(e){const n=sp(e.databaseInfo.databaseId),r=function(s){return new fU(s)}(e.databaseInfo);return function(s,o,a,l){return new gU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ax(this.syncEngine,n,0),function(){return Sx.D()?new Sx:new cU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new UU(i,s,o,a,l,u);return h&&(d.qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=me(i);Z("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await Ic(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=ZI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Em(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iB(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Cx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Cx(e.remoteStore,i)),t._onlineComponents=e}function rB(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function iB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Em(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rB(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await Em(t,new kx)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Em(t,new kx);return t._offlineComponents}async function XP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await Dx(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await Dx(t,new eB))),t._onlineComponents}function sB(t){return XP(t).then(e=>e.syncEngine)}async function oB(t){const e=await XP(t),n=e.eventManager;return n.onListen=BU.bind(null,e.syncEngine),n.onUnlisten=HU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WU.bind(null,e.syncEngine),n}function aB(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new tB({next:f=>{o.enqueueAndForget(()=>MU(s,d));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new ie($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new ie($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new LU(r0(a.path),h,{includeMetadataChanges:!0,oa:!0});return DU(s,d)}(await oB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t,e,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uB(t,e,n,r){if(e===!0&&r===!0)throw new ie($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nx(t){if(!se.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function v0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function vo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=v0(t);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ox({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ox(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wj;switch(r.type){case"firstParty":return new Sj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mx.get(n);r&&(Z("ComponentProvider","Removing Datastore"),Mx.delete(n),r.terminate())}(this),Promise.resolve()}}function cB(t,e,n,r={}){var i;const s=(t=vo(t,_0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Jt.MOCK_USER;else{a=NO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Jt(u)}t._authCredentials=new Ej(new JI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new w0(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class Zu extends w0{constructor(e,n,r){super(e,n,r0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new se(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function Fs(t,e,...n){if(t=sn(t),arguments.length===1&&(e=ZI.newId()),lB("doc","path",e),t instanceof _0){const r=lt.fromString(e,...n);return Nx(r),new Mn(t,null,new se(r))}{if(!(t instanceof Mn||t instanceof Zu))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return Nx(r),new Mn(t.firestore,t instanceof Zu?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new OP(this,"async_queue_retry"),this.Tu=()=>{const n=wm();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=wm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new ns;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!Sc(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=p0.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&fe()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}class lp extends _0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new hB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eA(this),this._firestoreClient.terminate()}}function dB(t,e){const n=typeof t=="object"?t:cI(),r=typeof t=="string"?t:"(default)",i=Fv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DO("firestore");s&&cB(i,...s)}return i}function ZP(t){return t._firestoreClient||eA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new Vj(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,JP(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new nB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(Ht.fromBase64String(e))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fa(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=/^__.*__$/;class pB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class tA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class T0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new T0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return sf(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(nA(this.yu)&&fB.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class mB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sp(e)}Ou(e,n,r,i=!1){return new T0({yu:e,methodName:n,xu:r,path:jt.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rA(t){const e=t._freezeSettings(),n=sp(t._databaseId);return new mB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gB(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);S0("Data must be an object, but it was:",o,r);const a=iA(r,o);let l,u;if(s.merge)l=new Rn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=hy(e,d,n);if(!o.contains(f))throw new ie($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);oA(h,f)||h.push(f)}l=new Rn(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new pB(new yn(a),l,u)}class cp extends E0{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cp}}function yB(t,e,n,r){const i=t.Ou(1,e,n);S0("Data must be an object, but it was:",i,r);const s=[],o=yn.empty();So(r,(l,u)=>{const h=C0(e,l,n);u=sn(u);const d=i.Cu(h);if(u instanceof cp)s.push(h);else{const f=hp(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new Rn(s);return new tA(o,a,i.fieldTransforms)}function vB(t,e,n,r,i,s){const o=t.Ou(1,e,n),a=[hy(e,r,n)],l=[i];if(s.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(hy(e,s[f])),l.push(s[f+1]);const u=[],h=yn.empty();for(let f=a.length-1;f>=0;--f)if(!oA(u,a[f])){const m=a[f];let g=l[f];g=sn(g);const _=o.Cu(m);if(g instanceof cp)u.push(m);else{const T=hp(g,_);T!=null&&(u.push(m),h.set(m,T))}}const d=new Rn(u);return new tA(h,d,o.fieldTransforms)}function hp(t,e){if(sA(t=sn(t)))return S0("Unsupported field value:",e,t),iA(t,e);if(t instanceof E0)return function(r,i){if(!nA(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=hp(a,i.vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ct.fromDate(r);return{timestampValue:nf(i.serializer,s)}}if(r instanceof Ct){const s=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nf(i.serializer,s)}}if(r instanceof x0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fa)return{bytesValue:bP(i.serializer,r._byteString)};if(r instanceof Mn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:o0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${v0(r)}`)}(t,e)}function iA(t,e){const n={};return eP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,i)=>{const s=hp(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof x0||t instanceof Fa||t instanceof Mn||t instanceof E0)}function S0(t,e,n){if(!sA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=v0(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function hy(t,e,n){if((e=sn(e))instanceof up)return e._internalPath;if(typeof e=="string")return C0(t,e);throw sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const _B=new RegExp("[~\\*/\\[\\]]");function C0(t,e,n){if(e.search(_B)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new up(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie($.INVALID_ARGUMENT,a+t+l)}function oA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wB extends aA{data(){return super.data()}}function lA(t,e){return typeof e=="string"?C0(t,e):e instanceof up?e._internalPath:e._delegate._internalPath}class EB{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new x0(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const n=ls(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);ze(DP(r));const i=new Yu(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||di(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uA extends aA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new SB(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class SB extends uA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){t=vo(t,Mn);const e=vo(t.firestore,lp);return aB(ZP(e),t._key).then(n=>IB(e,t,n))}class CB extends EB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function xm(t,e,n){t=vo(t,Mn);const r=vo(t.firestore,lp),i=xB(t.converter,e);return cA(r,[gB(rA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function bB(t,e,n,...r){t=vo(t,Mn);const i=vo(t.firestore,lp),s=rA(i);let o;return o=typeof(e=sn(e))=="string"||e instanceof up?vB(s,"updateDoc",t._key,e,n,r):yB(s,"updateDoc",t._key,e),cA(i,[o.toMutation(t._key,Ir.exists(!0))])}function cA(t,e){return function(r,i){const s=new ns;return r.asyncQueue.enqueueAndForget(async()=>KU(await sB(r),i,s)),s.promise}(ZP(t),e)}function IB(t,e,n){const r=n.docs.get(e._key),i=new CB(t);return new uA(t,i,e._key,r,new TB(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ga=i})(Wa),ka(new co("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new lp(new xj(r.getProvider("auth-internal")),new bj(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ts(nx,"4.6.5",e),ts(nx,"4.6.5","esm2017")})();var Uo={};const PB={apiKey:Uo.REACT_APP_FIREBASE_API_KEY,authDomain:Uo.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Uo.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Uo.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Uo.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Uo.REACT_APP_FIREBASE_APP_ID},hA=uI(PB),Gl=vj(hA),js=dB(hA),Al={username:null,entries:[],activityLogs:[],currency:{symbol:"$",conversionRate:1}},on=To(t=>({currUser:"",setCurrUser:e=>t(()=>({currUser:e})),loading:!0,setLoading:e=>t(()=>({loading:e})),error:"",setError:e=>t(()=>({error:e})),currUserData:{...Al},setCurrUserData:e=>t(()=>({currUserData:e})),registerUser:async(e,n)=>{try{t({error:""});const r=await tF(Gl,e,n),i=r.user.uid;t({currUser:r.user});const s=Fs(js,"users",i);await xm(s,Al)}catch(r){throw t({error:r.message||"Registration failed"}),new Error(r.message||"Registration failed")}},signInWithGoogle:async()=>{try{t({error:""});const e=new Gr,n=await IF(Gl,e),r=n.user.uid;t({currUser:n.user});const i=Fs(js,"users",r),s=await ld(i);if(!s.exists())await xm(i,Al),t({currUserData:Al});else{const o=s.data();t({currUserData:o})}}catch(e){throw t({error:e.message||"Authentication failed"}),new Error(e.message||"Authentication failed")}},loginUser:async(e,n)=>{try{t({error:""});const r=await nF(Gl,e,n),i=r.user.uid;t({currUser:r.user});const s=Fs(js,"users",i),o=await ld(s);if(o.exists()){const a=o.data();t({currUserData:a})}}catch(r){throw t({error:r.message||"Login failed"}),new Error(r.message||"Login failed")}},logoutUser:async()=>{try{await oF(Gl),t({currUser:null}),t({currUserData:Al})}catch(e){throw t({error:e.message||"Logout failed"}),new Error(e.message||"Logout failed")}},saveUserData:async(e,n)=>{try{const r=Fs(js,"users",e);await xm(r,n)}catch(r){throw console.error("Error saving user data",r),new Error(r.message||"Failed to save user data")}},getUserData:async e=>{try{const n=Fs(js,"users",e),r=await ld(n);return r.exists()?r.data():(console.log("No such document!"),null)}catch(n){throw console.error("Error retrieving user data",n),new Error(n.message||"Failed to retrieve user data")}},updateUserData:async(e,n)=>{try{const r=Fs(js,"users",e);await bB(r,n),t(i=>({currUserData:{...i.currUserData,...n}}))}catch(r){throw console.error("Error updating user data",r),new Error(r.message||"Failed to update user data")}}})),b0=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),dp=N.createContext({}),fp=N.createContext(null),I0=typeof window<"u",dA=I0?N.useLayoutEffect:N.useEffect,fA=N.createContext({strict:!1}),pp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AB="framerAppearId",pA="data-"+pp(AB),RB={skipAnimations:!1,useManualTiming:!1};function kB(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,h=!1,d=!1)=>{const m=d&&r?e:n;return h&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const vh=["read","resolveKeyframes","update","preRender","render","postRender"],DB=40;function mA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=vh.reduce((w,v)=>(w[v]=kB(s),w),{}),{read:a,resolveKeyframes:l,update:u,preRender:h,render:d,postRender:f}=o,m=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,DB),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},g=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:vh.reduce((w,v)=>{const x=o[v];return w[v]=(k,L=!1,A=!1)=>(n||g(),x.schedule(k,L,A)),w},{}),cancel:w=>{for(let v=0;v<vh.length;v++)o[vh[v]].cancel(w)},state:i,steps:o}}const{schedule:P0,cancel:ZW}=mA(queueMicrotask,!1);function ia(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const gA=N.createContext({});let Lx=!1;function MB(t,e,n,r,i){var s;const{visualElement:o}=N.useContext(dp),a=N.useContext(fA),l=N.useContext(fp),u=N.useContext(b0).reducedMotion,h=N.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const d=h.current,f=N.useContext(gA);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&OB(h.current,n,i,f),N.useInsertionEffect(()=>{d&&d.update(n,l)});const m=n[pA],g=N.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return dA(()=>{d&&(d.updateFeatures(),P0.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),N.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current=!1,Lx||(Lx=!0,queueMicrotask(NB)))}),d}function NB(){window.MotionHandoffIsComplete=!0}function OB(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yA(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ia(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function yA(t){if(t)return t.options.allowProjection!==!1?t.projection:yA(t.parent)}function LB(t,e,n){return N.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ia(n)&&(n.current=r))},[e])}function ec(t){return typeof t=="string"||Array.isArray(t)}function tc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const A0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R0=["initial",...A0];function mp(t){return tc(t.animate)||R0.some(e=>ec(t[e]))}function vA(t){return!!(mp(t)||t.variants)}function VB(t,e){if(mp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ec(n)?n:void 0,animate:ec(r)?r:void 0}}return t.inherit!==!1?e:{}}function FB(t){const{initial:e,animate:n}=VB(t,N.useContext(dp));return N.useMemo(()=>({initial:e,animate:n}),[Vx(e),Vx(n)])}function Vx(t){return Array.isArray(t)?t.join(" "):t}const Fx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ja={};for(const t in Fx)ja[t]={isEnabled:e=>Fx[t].some(n=>!!e[n])};function jB(t){for(const e in t)ja[e]={...ja[e],...t[e]}}const k0=N.createContext({}),UB=Symbol.for("motionComponentSymbol"),nn=t=>t;let dy=nn;function BB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&jB(t);function s(a,l){let u;const h={...N.useContext(b0),...a,layoutId:zB(a)},{isStatic:d}=h,f=FB(a),m=r(a,d);if(!d&&I0){$B();const g=HB(h);u=g.MeasureLayout,f.visualElement=MB(i,m,h,e,g.ProjectionNode)}return S.jsxs(dp.Provider,{value:f,children:[u&&f.visualElement?S.jsx(u,{visualElement:f.visualElement,...h}):null,n(i,a,LB(m,f.visualElement,l),m,d,f.visualElement)]})}const o=N.forwardRef(s);return o[UB]=i,o}function zB({layoutId:t}){const e=N.useContext(k0).id;return e&&t!==void 0?e+"-"+t:t}function $B(t,e){N.useContext(fA).strict}function HB(t){const{drag:e,layout:n}=ja;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WB(t){function e(r,i={}){return BB(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const KB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D0(t){return typeof t!="string"||t.includes("-")?!1:!!(KB.indexOf(t)>-1||/[A-Z]/u.test(t))}const of={};function GB(t){Object.assign(of,t)}const Ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Es=new Set(Ac);function _A(t,{layout:e,layoutId:n}){return Es.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!of[t]||t==="opacity")}const tn=t=>!!(t&&t.getVelocity),wA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,cs=(t,e,n)=>n>e?e:n<t?t:n,Qa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mu={...Qa,transform:t=>cs(0,1,t)},_h={...Qa,default:1},gu=t=>Math.round(t*1e5)/1e5,M0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,qB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,YB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Rc(t){return typeof t=="string"}function QB(t){return t==null}const kc=t=>({test:e=>Rc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ri=kc("deg"),Ar=kc("%"),oe=kc("px"),XB=kc("vh"),JB=kc("vw"),jx={...Ar,parse:t=>Ar.parse(t)/100,transform:t=>Ar.transform(t*100)},Ux={...Qa,transform:Math.round},N0={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,size:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:_h,scaleX:_h,scaleY:_h,scaleZ:_h,skew:Ri,skewX:Ri,skewY:Ri,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:mu,originX:jx,originY:jx,originZ:oe,zIndex:Ux,backgroundPositionX:oe,backgroundPositionY:oe,fillOpacity:mu,strokeOpacity:mu,numOctaves:Ux},ZB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e5=Ac.length;function t5(t,e,n){let r="",i=!0;for(let s=0;s<e5;s++){const o=Ac[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=wA(a,N0[o]);if(!l){i=!1;const h=ZB[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}const EA=t=>e=>typeof e=="string"&&e.startsWith(t),xA=EA("--"),n5=EA("var(--"),O0=t=>n5(t)?r5.test(t.split("/*")[0].trim()):!1,r5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function L0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Es.has(l)){o=!0;continue}else if(xA(l)){i[l]=u;continue}else{const h=wA(u,N0[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=t5(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const V0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TA(t,e,n){for(const r in e)!tn(e[r])&&!_A(r,n)&&(t[r]=e[r])}function i5({transformTemplate:t},e){return N.useMemo(()=>{const n=V0();return L0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function s5(t,e){const n=t.style||{},r={};return TA(r,n,t),Object.assign(r,i5(t,e)),r}function o5(t,e){const n={},r=s5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const a5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function af(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||a5.has(t)}let SA=t=>!af(t);function l5(t){t&&(SA=e=>e.startsWith("on")?!af(e):t(e))}try{l5(require("@emotion/is-prop-valid").default)}catch{}function u5(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(SA(i)||n===!0&&af(i)||!e&&!af(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Bx(t,e,n){return typeof t=="string"?t:oe.transform(e+n*t)}function c5(t,e,n){const r=Bx(e,t.x,t.width),i=Bx(n,t.y,t.height);return`${r} ${i}`}const h5={offset:"stroke-dashoffset",array:"stroke-dasharray"},d5={offset:"strokeDashoffset",array:"strokeDasharray"};function f5(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?h5:d5;t[s.offset]=oe.transform(-r);const o=oe.transform(e),a=oe.transform(n);t[s.array]=`${o} ${a}`}function F0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,d){if(L0(t,u,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:g}=t;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=c5(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&f5(f,o,a,l,!1)}const CA=()=>({...V0(),attrs:{}}),j0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function p5(t,e,n,r){const i=N.useMemo(()=>{const s=CA();return F0(s,e,j0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};TA(s,t.style,t),i.style={...s,...i.style}}return i}function m5(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(D0(n)?p5:o5)(r,s,o,n),u=u5(r,typeof n=="string",t),h=n!==N.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=N.useMemo(()=>tn(d)?d.get():d,[d]);return N.createElement(n,{...h,children:f})}}function bA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const IA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PA(t,e,n,r){bA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(IA.has(i)?i:pp(i),e.attrs[i])}function U0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(tn(i[o])||e.style&&tn(e.style[o])||_A(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function AA(t,e,n){const r=U0(t,e,n);for(const i in t)if(tn(t[i])||tn(e[i])){const s=Ac.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function zx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function B0(t,e,n,r){if(typeof e=="function"){const[i,s]=zx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=zx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function z0(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const fy=t=>Array.isArray(t),g5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),y5=t=>fy(t)?t[t.length-1]||0:t;function ud(t){const e=tn(t)?t.get():t;return g5(e)?e.toValue():e}const RA=new Set(["opacity","clipPath","filter","transform"]);function kA(t){if(Es.has(t))return"transform";if(RA.has(t))return pp(t)}function gp(t,e){t.indexOf(e)===-1&&t.push(e)}function yp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function v5({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:w5(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=u=>r(i,u,l)),l}const DA=t=>(e,n)=>{const r=N.useContext(dp),i=N.useContext(fp),s=()=>v5(t,e,r,i,n);return n?s():z0(s)};function _5(t,e){const n=kA(e);n&&gp(t,n)}function $x(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=B0(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function w5(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,u=i(t,{});for(const T in u)o[T]=ud(u[T]);let{initial:h,animate:d}=t;const f=mp(t),m=vA(t);e&&m&&!f&&t.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||h===!1;const _=g?d:h;return _&&typeof _!="boolean"&&!tc(_)&&$x(t,_,(T,w)=>{for(const v in T){let x=T[v];if(Array.isArray(x)){const k=g?x.length-1:0;x=x[k]}x!==null&&(o[v]=x)}for(const v in w)o[v]=w[v]}),l&&(d&&h!==!1&&!tc(d)&&$x(t,d,T=>{for(const w in T)_5(a,w)}),a.length&&(o.willChange=a.join(","))),o}const{schedule:Fe,cancel:pi,state:Vt,steps:Tm}=mA(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0),E5={useVisualState:DA({scrapeMotionValuesFromProps:AA,createRenderState:CA,onMount:(t,e,{renderState:n,latestValues:r})=>{Fe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Fe.render(()=>{F0(n,r,j0(e.tagName),t.transformTemplate),PA(e,n)})}})},x5={useVisualState:DA({applyWillChange:!0,scrapeMotionValuesFromProps:U0,createRenderState:V0})};function T5(t,{forwardMotionProps:e=!1},n,r){return{...D0(t)?E5:x5,preloadedFeatures:n,useRender:m5(e),createVisualElement:r,Component:t}}function Zr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const MA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const S5=t=>e=>MA(e)&&t(e,vp(e));function ri(t,e,n,r){return Zr(t,e,S5(n),r)}const C5=(t,e)=>n=>e(t(n)),ii=(...t)=>t.reduce(C5);function NA(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Hx=NA("dragHorizontal"),Wx=NA("dragVertical");function OA(t){let e=!1;if(t==="y")e=Wx();else if(t==="x")e=Hx();else{const n=Hx(),r=Wx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function LA(){const t=OA(!0);return t?(t(),!1):!0}class xs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Kx(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||LA())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Fe.postRender(()=>l(s,o))};return ri(t.current,n,i,{passive:!t.getProps()[r]})}class b5 extends xs{mount(){this.unmount=ii(Kx(this.node,!0),Kx(this.node,!1))}unmount(){}}class I5 extends xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ii(Zr(this.node.current,"focus",()=>this.onFocus()),Zr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const VA=(t,e)=>e?t===e?!0:VA(t,e.parentElement):!1;function Sm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,vp(n))}class P5 extends xs{constructor(){super(...arguments),this.removeStartListeners=nn,this.removeEndListeners=nn,this.removeAccessibleListeners=nn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=ri(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!VA(this.node.current,a.target)?h:u;f&&Fe.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=ri(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ii(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Sm("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&Fe.postRender(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=Zr(this.node.current,"keyup",o),Sm("down",(a,l)=>{this.startPress(a,l)})},n=Zr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Sm("cancel",(s,o)=>this.cancelPress(s,o))},i=Zr(this.node.current,"blur",r);this.removeAccessibleListeners=ii(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Fe.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!LA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Fe.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ri(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Zr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ii(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const py=new WeakMap,Cm=new WeakMap,A5=t=>{const e=py.get(t.target);e&&e(t)},R5=t=>{t.forEach(A5)};function k5({root:t,...e}){const n=t||document;Cm.has(n)||Cm.set(n,{});const r=Cm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(R5,{root:t,...e})),r[i]}function D5(t,e,n){const r=k5(e);return py.set(t,n),r.observe(t),()=>{py.delete(t),r.unobserve(t)}}const M5={some:0,all:1};class N5 extends xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:M5[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return D5(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O5(e,n))&&this.startObserver()}unmount(){}}function O5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L5={inView:{Feature:N5},tap:{Feature:P5},focus:{Feature:I5},hover:{Feature:b5}};function FA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function _p(t,e,n){const r=t.getProps();return B0(r,e,n!==void 0?n:r.custom,t)}const si=t=>t*1e3,oi=t=>t/1e3,V5={type:"spring",stiffness:500,damping:25,restSpeed:10},F5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),j5={type:"keyframes",duration:.8},U5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B5=(t,{keyframes:e})=>e.length>2?j5:Es.has(t)?t.startsWith("scale")?F5(e[1]):V5:U5;function z5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function $0(t,e){return t[e]||t.default||t}const $5=t=>t!==null;function wp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter($5),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let cd;function H5(){cd=void 0}const rs={now:()=>(cd===void 0&&rs.set(Vt.isProcessing||RB.useManualTiming?Vt.timestamp:performance.now()),cd),set:t=>{cd=t,queueMicrotask(H5)}},jA=t=>/^0[^.\s]+$/u.test(t);function W5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jA(t):!0}const UA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),K5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G5(t){const e=K5.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function BA(t,e,n=1){const[r,i]=G5(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return UA(o)?parseFloat(o):o}return O0(i)?BA(i,e,n+1):i}const q5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Gx=t=>t===Qa||t===oe,qx=(t,e)=>parseFloat(t.split(", ")[e]),Yx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return qx(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?qx(s[1],t):0}},Y5=new Set(["x","y","z"]),Q5=Ac.filter(t=>!Y5.has(t));function X5(t){const e=[];return Q5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Yx(4,13),y:Yx(5,14)};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const zA=t=>e=>e.test(t),J5={test:t=>t==="auto",parse:t=>t},$A=[Qa,oe,Ar,Ri,JB,XB,J5],Qx=t=>$A.find(zA(t)),ro=new Set;let my=!1,gy=!1;function HA(){if(gy){const t=Array.from(ro).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=X5(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gy=!1,my=!1,ro.forEach(t=>t.complete()),ro.clear()}function WA(){ro.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gy=!0)})}function Z5(){WA(),HA()}class H0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ro.add(this),my||(my=!0,Fe.read(WA),Fe.resolveKeyframes(HA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ro.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ro.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const W0=(t,e)=>n=>!!(Rc(n)&&YB.test(n)&&n.startsWith(t)||e&&!QB(n)&&Object.prototype.hasOwnProperty.call(n,e)),KA=(t,e,n)=>r=>{if(!Rc(r))return r;const[i,s,o,a]=r.match(M0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ez=t=>cs(0,255,t),bm={...Qa,transform:t=>Math.round(ez(t))},Xs={test:W0("rgb","red"),parse:KA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bm.transform(t)+", "+bm.transform(e)+", "+bm.transform(n)+", "+gu(mu.transform(r))+")"};function tz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yy={test:W0("#"),parse:tz,transform:Xs.transform},sa={test:W0("hsl","hue"),parse:KA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ar.transform(gu(e))+", "+Ar.transform(gu(n))+", "+gu(mu.transform(r))+")"},Xt={test:t=>Xs.test(t)||yy.test(t)||sa.test(t),parse:t=>Xs.test(t)?Xs.parse(t):sa.test(t)?sa.parse(t):yy.parse(t),transform:t=>Rc(t)?t:t.hasOwnProperty("red")?Xs.transform(t):sa.transform(t)};function nz(t){var e,n;return isNaN(t)&&Rc(t)&&(((e=t.match(M0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(qB))===null||n===void 0?void 0:n.length)||0)>0}const GA="number",qA="color",rz="var",iz="var(",Xx="${}",sz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(sz,l=>(Xt.test(l)?(r.color.push(s),i.push(qA),n.push(Xt.parse(l))):l.startsWith(iz)?(r.var.push(s),i.push(rz),n.push(l)):(r.number.push(s),i.push(GA),n.push(parseFloat(l))),++s,Xx)).split(Xx);return{values:n,split:a,indexes:r,types:i}}function YA(t){return nc(t).values}function QA(t){const{split:e,types:n}=nc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===GA?s+=gu(i[o]):a===qA?s+=Xt.transform(i[o]):s+=i[o]}return s}}const oz=t=>typeof t=="number"?0:t;function az(t){const e=YA(t);return QA(t)(e.map(oz))}const hs={test:nz,parse:YA,createTransformer:QA,getAnimatableNone:az},lz=new Set(["brightness","contrast","saturate","opacity"]);function uz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(M0)||[];if(!r)return t;const i=n.replace(r,"");let s=lz.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const cz=/\b([a-z-]*)\(.*?\)/gu,vy={...hs,getAnimatableNone:t=>{const e=t.match(cz);return e?e.map(uz).join(" "):t}},hz={...N0,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:vy,WebkitFilter:vy},K0=t=>hz[t];function XA(t,e){let n=K0(t);return n!==vy&&(n=hs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dz=new Set(["auto","none","0"]);function fz(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!dz.has(s)&&nc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=XA(n,i)}class JA extends H0{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),O0(u))){const h=BA(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!q5.has(r)||e.length!==2)return;const[i,s]=e,o=Qx(i),a=Qx(s);if(o!==a)if(Gx(o)&&Gx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)W5(e[i])&&r.push(i);r.length&&fz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ua[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function ZA(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hs.test(t)||t==="0")&&!t.startsWith("url("));function pz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mz(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Jx(i,e),a=Jx(s,e);return!o||!a?!1:pz(t)||n==="spring"&&r}class eR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Z5(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!mz(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(wp(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function tR(t,e){return e?t*(1e3/e):0}const gz=5;function nR(t,e,n){const r=Math.max(e-gz,0);return tR(n-t(r),e-r)}const Im=.001,yz=.01,vz=10,_z=.05,wz=1;function Ez({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=cs(_z,wz,o),t=cs(yz,vz,oi(t)),o<1?(i=u=>{const h=u*o,d=h*t,f=h-n,m=_y(u,o),g=Math.exp(-d);return Im-f/m*g},s=u=>{const d=u*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-d),_=_y(Math.pow(u,2),o);return(-i(u)+Im>0?-1:1)*((f-m)*g)/_}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-Im+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const a=5/t,l=Tz(i,s,a);if(t=si(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const xz=12;function Tz(t,e,n){let r=n;for(let i=1;i<xz;i++)r=r-t(r)/e(r);return r}function _y(t,e){return t*Math.sqrt(1-e*e)}const Sz=["duration","bounce"],Cz=["stiffness","damping","mass"];function Zx(t,e){return e.some(n=>t[n]!==void 0)}function bz(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Zx(t,Cz)&&Zx(t,Sz)){const n=Ez(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function rR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=bz({...r,velocity:-oi(r.velocity||0)}),m=d||0,g=l/(2*Math.sqrt(a*u)),_=s-i,T=oi(Math.sqrt(a/u)),w=Math.abs(_)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let v;if(g<1){const x=_y(T,g);v=k=>{const L=Math.exp(-g*T*k);return s-L*((m+g*T*_)/x*Math.sin(x*k)+_*Math.cos(x*k))}}else if(g===1)v=x=>s-Math.exp(-T*x)*(_+(m+T*_)*x);else{const x=T*Math.sqrt(g*g-1);v=k=>{const L=Math.exp(-g*T*k),A=Math.min(x*k,300);return s-L*((m+g*T*_)*Math.sinh(A)+x*_*Math.cosh(A))/x}}return{calculatedDuration:f&&h||null,next:x=>{const k=v(x);if(f)o.done=x>=h;else{let L=0;g<1&&(L=x===0?si(m):nR(v,x,k));const A=Math.abs(L)<=n,b=Math.abs(s-k)<=e;o.done=A&&b}return o.value=o.done?s:k,o}}}function eT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,g=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let _=n*e;const T=d+_,w=o===void 0?T:o(T);w!==T&&(_=w-d);const v=E=>-_*Math.exp(-E/r),x=E=>w+v(E),k=E=>{const C=v(E),P=x(E);f.done=Math.abs(C)<=u,f.value=f.done?w:P};let L,A;const b=E=>{m(f.value)&&(L=E,A=rR({keyframes:[f.value,g(f.value)],velocity:nR(x,E,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return b(0),{calculatedDuration:null,next:E=>{let C=!1;return!A&&L===void 0&&(C=!0,k(E),b(E)),L!==void 0&&E>=L?A.next(E-L):(!C&&k(E),f)}}}const iR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Iz=1e-7,Pz=12;function Az(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=iR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Iz&&++a<Pz);return o}function Dc(t,e,n,r){if(t===e&&n===r)return nn;const i=s=>Az(s,0,1,t,n);return s=>s===0||s===1?s:iR(i(s),e,r)}const Rz=Dc(.42,0,1,1),kz=Dc(0,0,.58,1),sR=Dc(.42,0,.58,1),Dz=t=>Array.isArray(t)&&typeof t[0]!="number",oR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aR=t=>e=>1-t(1-e),G0=t=>1-Math.sin(Math.acos(t)),lR=aR(G0),Mz=oR(G0),uR=Dc(.33,1.53,.69,.99),q0=aR(uR),Nz=oR(q0),Oz=t=>(t*=2)<1?.5*q0(t):.5*(2-Math.pow(2,-10*(t-1))),tT={linear:nn,easeIn:Rz,easeInOut:sR,easeOut:kz,circIn:G0,circInOut:Mz,circOut:lR,backIn:q0,backInOut:Nz,backOut:uR,anticipate:Oz},nT=t=>{if(Array.isArray(t)){dy(t.length===4);const[e,n,r,i]=t;return Dc(e,n,r,i)}else if(typeof t=="string")return dy(tT[t]!==void 0),tT[t];return t},rc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},nt=(t,e,n)=>t+(e-t)*n;function Pm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Lz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Pm(l,a,t+1/3),s=Pm(l,a,t),o=Pm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function lf(t,e){return n=>n>0?e:t}const Am=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Vz=[yy,Xs,sa],Fz=t=>Vz.find(e=>e.test(t));function rT(t){const e=Fz(t);if(!e)return!1;let n=e.parse(t);return e===sa&&(n=Lz(n)),n}const iT=(t,e)=>{const n=rT(t),r=rT(e);if(!n||!r)return lf(t,e);const i={...n};return s=>(i.red=Am(n.red,r.red,s),i.green=Am(n.green,r.green,s),i.blue=Am(n.blue,r.blue,s),i.alpha=nt(n.alpha,r.alpha,s),Xs.transform(i))},wy=new Set(["none","hidden"]);function jz(t,e){return wy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Uz(t,e){return n=>nt(t,e,n)}function Y0(t){return typeof t=="number"?Uz:typeof t=="string"?O0(t)?lf:Xt.test(t)?iT:$z:Array.isArray(t)?cR:typeof t=="object"?Xt.test(t)?iT:Bz:lf}function cR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Y0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Bz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Y0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function zz(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const $z=(t,e)=>{const n=hs.createTransformer(e),r=nc(t),i=nc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wy.has(t)&&!i.values.length||wy.has(e)&&!r.values.length?jz(t,e):ii(cR(zz(r,i),i.values),n):lf(t,e)};function hR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nt(t,e,n):Y0(t)(t,e)}function Hz(t,e,n){const r=[],i=n||hR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||nn:e;a=ii(l,a)}r.push(a)}return r}function Wz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(dy(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Hz(e,r,i),a=o.length,l=u=>{let h=0;if(a>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const d=rc(t[h],t[h+1],u);return o[h](d)};return n?u=>l(cs(t[0],t[s-1],u)):l}function Kz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=rc(0,e,r);t.push(nt(n,1,i))}}function Gz(t){const e=[0];return Kz(e,t.length-1),e}function qz(t,e){return t.map(n=>n*e)}function Yz(t,e){return t.map(()=>e||sR).splice(0,t.length-1)}function uf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Dz(r)?r.map(nT):nT(r),s={done:!1,value:e[0]},o=qz(n&&n.length===e.length?n:Gz(e),t),a=Wz(o,e,{ease:Array.isArray(i)?i:Yz(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const sT=2e4;function Qz(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sT;)e+=n,r=t.next(e);return e>=sT?1/0:e}const Xz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Fe.update(e,!0),stop:()=>pi(e),now:()=>Vt.isProcessing?Vt.timestamp:rs.now()}},Jz={decay:eT,inertia:eT,tween:uf,keyframes:uf,spring:rR},Zz=t=>t/100;class Q0 extends eR{constructor({KeyframeResolver:e=H0,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Jz[n]||uf;let l,u;a!==uf&&typeof e[0]!="number"&&(l=ii(Zz,hR(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Qz(h));const{calculatedDuration:d}=h,f=d+i,m=f*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:g,repeatDelay:_,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>h;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let x=this.currentTime,k=s;if(m){const E=Math.min(this.currentTime,h)/d;let C=Math.floor(E),P=E%1;!P&&E>=1&&(P=1),P===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(g==="reverse"?(P=1-P,_&&(P-=_/d)):g==="mirror"&&(k=o)),x=cs(0,1,P)*d}const L=v?{done:!1,value:l[0]}:k.next(x);a&&(L.value=a(L.value));let{done:A}=L;!v&&u!==null&&(A=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return b&&i!==void 0&&(L.value=wp(l,this.options,i)),T&&T(L.value),b&&this.finish(),L}get duration(){const{resolved:e}=this;return e?oi(e.calculatedDuration):0}get time(){return oi(this.currentTime)}set time(e){e=si(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=oi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Xz,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const dR=t=>Array.isArray(t)&&typeof t[0]=="number";function fR(t){return!!(!t||typeof t=="string"&&t in X0||dR(t)||Array.isArray(t)&&t.every(fR))}const ql=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,X0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function e3(t){return pR(t)||X0.easeOut}function pR(t){if(t)return dR(t)?ql(t):Array.isArray(t)?t.map(e3):X0[t]}function t3(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const h=pR(a);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const n3=ZA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cf=10,r3=2e4;function i3(t){return t.type==="spring"||!fR(t.ease)}function s3(t,e){const n=new Q0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<r3;)r=n.sample(s),i.push(r.value),s+=cf;return{times:void 0,keyframes:i,duration:s-cf,ease:"linear"}}class oT extends eR{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new JA(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(i3(this.options)){const{onComplete:d,onUpdate:f,motionValue:m,...g}=this.options,_=s3(e,g);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const h=t3(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=rs.now(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(wp(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return oi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return oi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=si(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return nn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return nn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,...f}=this.options,m=new Q0({...f,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=si(this.time);u.setWithVelocity(m.sample(g-cf).value,m.sample(g).value,cf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return n3()&&r&&RA.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function o3(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Fe.update(r,!0),()=>pi(r)}const a3=ZA(()=>window.ScrollTimeline!==void 0);class l3{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(a3()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),o3(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const J0=(t,e,n,r={},i,s,o)=>a=>{const l=$0(r,t)||{},u=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-si(u);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};z5(l)||(d={...d,...B5(t,d)}),d.duration&&(d.duration=si(d.duration)),d.repeatDelay&&(d.repeatDelay=si(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const m=wp(d.keyframes,l);if(m!==void 0)return Fe.update(()=>{d.onUpdate(m),d.onComplete()}),new l3([])}return!s&&oT.supports(d)?new oT(d):new Q0(d)};class Z0{constructor(){this.subscriptions=[]}add(e){return gp(this.subscriptions,e),()=>yp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aT=30,u3=t=>!isNaN(parseFloat(t));class mR{constructor(e,n={}){this.version="11.3.24",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=rs.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=u3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aT);return tR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ic(t,e){return new mR(t,e)}function c3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ic(n))}function h3(t,e){const n=_p(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=y5(s[o]);c3(t,o,a)}}function gR(t){return t.getProps()[pA]}class d3 extends mR{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=kA(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(yp(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function f3(t){return!!(tn(t)&&t.add)}function Ey(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new d3("auto"),t.addValue("willChange",r)),f3(r))return r.add(e)}function p3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||h&&p3(h,d))continue;const g={delay:n,elapsed:0,...$0(o||{},d)};let _=!1;if(window.MotionHandoffAnimation){const w=gR(t);if(w){const v=window.MotionHandoffAnimation(w,d,Fe);v!==null&&(g.elapsed=v,_=!0)}}f.start(J0(d,f,m,t.shouldReduceMotion&&Es.has(d)?{type:!1}:g,t,_,Ey(t,d)));const T=f.animation;T&&u.push(T)}return a&&Promise.all(u).then(()=>{Fe.update(()=>{a&&h3(t,a)})}),u}function xy(t,e,n={}){var r;const i=_p(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(yR(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return m3(t,e,h+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function m3(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(g3).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(xy(u,e,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function g3(t,e){return t.sortNodePosition(e)}function y3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>xy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=xy(t,e,n);else{const i=typeof e=="function"?_p(t,e,n.custom):e;r=Promise.all(yR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const v3=[...A0].reverse(),_3=A0.length;function w3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>y3(t,n,r)))}function E3(t){let e=w3(t),n=lT(),r=!0;const i=l=>(u,h)=>{var d;const f=_p(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:g,..._}=f;u={...u,..._,...g}}return u};function s(l){e=l(t)}function o(l){const u=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let m={},g=1/0;for(let T=0;T<_3;T++){const w=v3[T],v=n[w],x=u[w]!==void 0?u[w]:h[w],k=ec(x),L=w===l?v.isActive:null;L===!1&&(g=T);let A=x===h[w]&&x!==u[w]&&k;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),v.protectedKeys={...m},!v.isActive&&L===null||!x&&!v.prevProp||tc(x)||typeof x=="boolean")continue;let E=x3(v.prevProp,x)||w===l&&v.isActive&&!A&&k||T>g&&k,C=!1;const P=Array.isArray(x)?x:[x];let D=P.reduce(i(w),{});L===!1&&(D={});const{prevResolvedValues:M={}}=v,R={...M,...D},ae=ee=>{E=!0,f.has(ee)&&(C=!0,f.delete(ee)),v.needsAnimating[ee]=!0;const he=t.getValue(ee);he&&(he.liveStyle=!1)};for(const ee in R){const he=D[ee],te=M[ee];if(m.hasOwnProperty(ee))continue;let W=!1;fy(he)&&fy(te)?W=!FA(he,te):W=he!==te,W?he!=null?ae(ee):f.add(ee):he!==void 0&&f.has(ee)?ae(ee):v.protectedKeys[ee]=!0}v.prevProp=x,v.prevResolvedValues=D,v.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(E=!1),E&&(!A||C)&&d.push(...P.map(ee=>({animation:ee,options:{type:w}})))}if(f.size){const T={};f.forEach(w=>{const v=t.getBaseTarget(w),x=t.getValue(w);x&&(x.liveStyle=!0),T[w]=v??null}),d.push({animation:T})}let _=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(d):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=lT(),r=!0}}}function x3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FA(e,t):!1}function Rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lT(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class T3 extends xs{constructor(e){super(e),e.animationState||(e.animationState=E3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let S3=0;class C3 extends xs{constructor(){super(...arguments),this.id=S3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const b3={animation:{Feature:T3},exit:{Feature:C3}},uT=(t,e)=>Math.abs(t-e);function I3(t,e){const n=uT(t.x,e.x),r=uT(t.y,e.y);return Math.sqrt(n**2+r**2)}class vR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=km(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=I3(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=d,{timestamp:_}=Vt;this.history.push({...g,timestamp:_});const{onStart:T,onMove:w}=this.handlers;f||(T&&T(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Rm(f,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=km(d.type==="pointercancel"?this.lastMoveEventInfo:Rm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,T),g&&g(d,T)},!MA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=vp(e),a=Rm(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Vt;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,km(a,this.history)),this.removeListeners=ii(ri(this.contextWindow,"pointermove",this.handlePointerMove),ri(this.contextWindow,"pointerup",this.handlePointerUp),ri(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pi(this.updatePoint)}}function Rm(t,e){return e?{point:e(t.point)}:t}function cT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function km({point:t},e){return{point:t,delta:cT(t,_R(e)),offset:cT(t,P3(e)),velocity:A3(e,.1)}}function P3(t){return t[0]}function _R(t){return t[t.length-1]}function A3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=_R(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>si(e)));)n--;if(!r)return{x:0,y:0};const s=oi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const wR=1e-4,R3=1-wR,k3=1+wR,ER=.01,D3=0-ER,M3=0+ER;function Ln(t){return t.max-t.min}function N3(t,e,n){return Math.abs(t-e)<=n}function hT(t,e,n,r=.5){t.origin=r,t.originPoint=nt(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),t.translate=nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=R3&&t.scale<=k3||isNaN(t.scale))&&(t.scale=1),(t.translate>=D3&&t.translate<=M3||isNaN(t.translate))&&(t.translate=0)}function yu(t,e,n,r){hT(t.x,e.x,n.x,r?r.originX:void 0),hT(t.y,e.y,n.y,r?r.originY:void 0)}function dT(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function O3(t,e,n){dT(t.x,e.x,n.x),dT(t.y,e.y,n.y)}function fT(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function vu(t,e,n){fT(t.x,e.x,n.x),fT(t.y,e.y,n.y)}function L3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?nt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?nt(n,t,r.max):Math.min(t,n)),t}function pT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function V3(t,{top:e,left:n,bottom:r,right:i}){return{x:pT(t.x,n,i),y:pT(t.y,e,r)}}function mT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function F3(t,e){return{x:mT(t.x,e.x),y:mT(t.y,e.y)}}function j3(t,e){let n=.5;const r=Ln(t),i=Ln(e);return i>r?n=rc(e.min,e.max-r,t.min):r>i&&(n=rc(t.min,t.max-i,e.min)),cs(0,1,n)}function U3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ty=.35;function B3(t=Ty){return t===!1?t=0:t===!0&&(t=Ty),{x:gT(t,"left","right"),y:gT(t,"top","bottom")}}function gT(t,e,n){return{min:yT(t,e),max:yT(t,n)}}function yT(t,e){return typeof t=="number"?t:t[e]||0}const vT=()=>({translate:0,scale:1,origin:0,originPoint:0}),oa=()=>({x:vT(),y:vT()}),_T=()=>({min:0,max:0}),ht=()=>({x:_T(),y:_T()});function Hn(t){return[t("x"),t("y")]}function xR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function z3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dm(t){return t===void 0||t===1}function Sy({scale:t,scaleX:e,scaleY:n}){return!Dm(t)||!Dm(e)||!Dm(n)}function Us(t){return Sy(t)||TR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TR(t){return wT(t.x)||wT(t.y)}function wT(t){return t&&t!=="0%"}function hf(t,e,n){const r=t-n,i=e*r;return n+i}function ET(t,e,n,r,i){return i!==void 0&&(t=hf(t,i,r)),hf(t,n,r)+e}function Cy(t,e=0,n=1,r,i){t.min=ET(t.min,e,n,r,i),t.max=ET(t.max,e,n,r,i)}function SR(t,{x:e,y:n}){Cy(t.x,e.translate,e.scale,e.originPoint),Cy(t.y,n.translate,n.scale,n.originPoint)}const xT=.999999999999,TT=1.0000000000001;function H3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&la(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,SR(t,o)),r&&Us(s.latestValues)&&la(t,s.latestValues))}e.x<TT&&e.x>xT&&(e.x=1),e.y<TT&&e.y>xT&&(e.y=1)}function aa(t,e){t.min=t.min+e,t.max=t.max+e}function ST(t,e,n,r,i=.5){const s=nt(t.min,t.max,i);Cy(t,e,n,s,r)}function la(t,e){ST(t.x,e.x,e.scaleX,e.scale,e.originX),ST(t.y,e.y,e.scaleY,e.scale,e.originY)}function CR(t,e){return xR($3(t.getBoundingClientRect(),e))}function W3(t,e,n){const r=CR(t,n),{scroll:i}=e;return i&&(aa(r.x,i.offset.x),aa(r.y,i.offset.y)),r}const bR=({current:t})=>t?t.ownerDocument.defaultView:null,K3=new WeakMap;class G3{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vp(h,"page").point)},s=(h,d)=>{var f;const{drag:m,dragPropagation:g,onDragStart:_}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OA(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(w=>{let v=this.getAxisMotionValue(w).get()||0;if(Ar.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const k=x.layout.layoutBox[w];k&&(v=Ln(k)*(parseFloat(v)/100))}}this.originPoint[w]=v}),_&&Fe.postRender(()=>_(h,d)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=Ey(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:_}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:T}=d;if(m&&this.currentDirection===null){this.currentDirection=q3(T),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,T),this.updateAxis("y",d.point,T),this.visualElement.render(),_&&_(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Hn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new vR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:bR(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Fe.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!wh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=L3(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ia(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=V3(i.layoutBox,n):this.constraints=!1,this.elastic=B3(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=U3(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ia(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=W3(r,i.root,this.visualElement.getTransformPagePoint());let o=F3(i.layout.layoutBox,s);if(n){const a=n(z3(o));this.hasMutatedConstraints=!!a,a&&(o=xR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Hn(h=>{if(!wh(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(J0(e,r,0,n,this.visualElement,!1,Ey(this.visualElement,e)))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!wh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-nt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ia(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=j3({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(o=>{if(!wh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(nt(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;K3.set(this.visualElement,this);const e=this.visualElement.current,n=ri(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ia(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Fe.read(r);const o=Zr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ty,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function wh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function q3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Y3 extends xs{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new G3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const CT=t=>(e,n)=>{t&&Fe.postRender(()=>t(e,n))};class Q3 extends xs{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new vR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:CT(e),onStart:CT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Fe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=ri(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function X3(){const t=N.useContext(fp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=N.useId();N.useEffect(()=>r(i),[]);const s=N.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const hd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=bT(t,e.target.x),r=bT(t,e.target.y);return`${n}% ${r}%`}},J3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=hs.parse(t);if(i.length>5)return r;const s=hs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=nt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Z3 extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;GB(e9),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),hd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Fe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),P0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IR(t){const[e,n]=X3(),r=N.useContext(k0);return S.jsx(Z3,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(gA),isPresent:e,safeToRemove:n})}const e9={borderRadius:{...Rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rl,borderTopRightRadius:Rl,borderBottomLeftRadius:Rl,borderBottomRightRadius:Rl,boxShadow:J3},PR=["TopLeft","TopRight","BottomLeft","BottomRight"],t9=PR.length,IT=t=>typeof t=="string"?parseFloat(t):t,PT=t=>typeof t=="number"||oe.test(t);function n9(t,e,n,r,i,s){i?(t.opacity=nt(0,n.opacity!==void 0?n.opacity:1,r9(r)),t.opacityExit=nt(e.opacity!==void 0?e.opacity:1,0,i9(r))):s&&(t.opacity=nt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<t9;o++){const a=`border${PR[o]}Radius`;let l=AT(e,a),u=AT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||PT(l)===PT(u)?(t[a]=Math.max(nt(IT(l),IT(u),r),0),(Ar.test(u)||Ar.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=nt(e.rotate||0,n.rotate||0,r))}function AT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const r9=AR(0,.5,lR),i9=AR(.5,.95,nn);function AR(t,e,n){return r=>r<t?0:r>e?1:n(rc(t,e,r))}function RT(t,e){t.min=e.min,t.max=e.max}function zn(t,e){RT(t.x,e.x),RT(t.y,e.y)}function kT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DT(t,e,n,r,i){return t-=e,t=hf(t,1/n,r),i!==void 0&&(t=hf(t,1/i,r)),t}function s9(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ar.test(e)&&(e=parseFloat(e),e=nt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=nt(s.min,s.max,r);t===s&&(a-=e),t.min=DT(t.min,e,n,a,i),t.max=DT(t.max,e,n,a,i)}function MT(t,e,[n,r,i],s,o){s9(t,e[n],e[r],e[i],e.scale,s,o)}const o9=["x","scaleX","originX"],a9=["y","scaleY","originY"];function NT(t,e,n,r){MT(t.x,e,o9,n?n.x:void 0,r?r.x:void 0),MT(t.y,e,a9,n?n.y:void 0,r?r.y:void 0)}function OT(t){return t.translate===0&&t.scale===1}function RR(t){return OT(t.x)&&OT(t.y)}function LT(t,e){return t.min===e.min&&t.max===e.max}function l9(t,e){return LT(t.x,e.x)&&LT(t.y,e.y)}function VT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kR(t,e){return VT(t.x,e.x)&&VT(t.y,e.y)}function FT(t){return Ln(t.x)/Ln(t.y)}function jT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class u9{constructor(){this.members=[]}add(e){gp(this.members,e),e.scheduleRender()}remove(e){if(yp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function c9(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const h9=(t,e)=>t.depth-e.depth;class d9{constructor(){this.children=[],this.isDirty=!1}add(e){gp(this.children,e),this.isDirty=!0}remove(e){yp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(h9),this.isDirty=!1,this.children.forEach(e)}}function f9(t,e){const n=rs.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(pi(r),t(s-e))};return Fe.read(r,!0),()=>pi(r)}function p9(t){return t instanceof SVGElement&&t.tagName!=="svg"}function m9(t,e,n){const r=tn(t)?t:ic(t);return r.start(J0("",r,e,n)),r.animation}const Bs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Yl=typeof window<"u"&&window.MotionDebug!==void 0,Mm=["","X","Y","Z"],g9={visibility:"hidden"},UT=1e3;let y9=0;function Nm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?window.MotionHasOptimisedTransformAnimation(gR(e))?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?DR(t.parent):!1:!1}function MR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=y9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yl&&(Bs.totalNodes=Bs.resolvedTargetDeltas=Bs.recalculatedProjection=0),this.nodes.forEach(w9),this.nodes.forEach(C9),this.nodes.forEach(b9),this.nodes.forEach(E9),Yl&&window.MotionDebug.record(Bs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new d9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Z0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=p9(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=f9(f,250),hd.hasAnimatedSinceResize&&(hd.hasAnimatedSinceResize=!1,this.nodes.forEach(zT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||k9,{onLayoutAnimationStart:T,onLayoutAnimationComplete:w}=h.getProps(),v=!this.targetLayout||!kR(this.targetLayout,g)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const k={...$0(_,"layout"),onPlay:T,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||zT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionHandoffCancelAll&&DR(this)&&window.MotionHandoffCancelAll(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BT);return}this.isUpdating||this.nodes.forEach(T9),this.isUpdating=!1,this.nodes.forEach(S9),this.nodes.forEach(v9),this.nodes.forEach(_9),this.clearAllSnapshots();const a=rs.now();Vt.delta=cs(0,1e3/60,a-Vt.timestamp),Vt.timestamp=a,Vt.isProcessing=!0,Tm.update.process(Vt),Tm.preRender.process(Vt),Tm.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x9),this.sharedNodes.forEach(P9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!RR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||Us(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),D9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ht();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(M9))){const{scroll:h}=this.root;h&&(aa(l.x,h.offset.x),aa(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=ht();if(zn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&zn(l,o),aa(l.x,d.offset.x),aa(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=ht();zn(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&la(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Us(h.latestValues)&&la(l,h.latestValues)}return Us(this.latestValues)&&la(l,this.latestValues),l}removeTransform(o){const a=ht();zn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Us(u.latestValues))continue;Sy(u.latestValues)&&u.updateSnapshot();const h=ht(),d=u.measurePageBox();zn(h,d),NT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Us(this.latestValues)&&NT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),vu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),SR(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),vu(this.relativeTargetOrigin,this.target,m.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yl&&Bs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sy(this.parent.latestValues)||TR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;zn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;H3(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ht());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kT(this.prevProjectionDelta.x,this.projectionDelta.x),kT(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!jT(this.projectionDelta.x,this.prevProjectionDelta.x)||!jT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Yl&&Bs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oa(),this.projectionDelta=oa(),this.projectionDeltaWithTransform=oa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=oa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ht(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=m!==g,T=this.getStack(),w=!T||T.members.length<=1,v=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some(R9));this.animationProgress=0;let x;this.mixTargetDelta=k=>{const L=k/1e3;$T(d.x,o.x,L),$T(d.y,o.y,L),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A9(this.relativeTarget,this.relativeTargetOrigin,f,L),x&&l9(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ht()),zn(x,this.relativeTarget)),_&&(this.animationValues=h,n9(h,u,this.latestValues,L,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{hd.hasAnimatedSinceResize=!0,this.currentAnimation=m9(0,UT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&NR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ht();const d=Ln(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ln(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}zn(a,l),la(a,h),yu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new u9),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Nm("z",o,u,this.animationValues);for(let h=0;h<Mm.length;h++)Nm(`rotate${Mm[h]}`,o,u,this.animationValues),Nm(`skew${Mm[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return g9;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ud(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=ud(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Us(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=c9(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in of){if(f[_]===void 0)continue;const{correct:T,applyTo:w}=of[_],v=u.transform==="none"?f[_]:T(f[_],d);if(w){const x=w.length;for(let k=0;k<x;k++)u[w[k]]=v}else u[_]=v}return this.options.layoutId&&(u.pointerEvents=d===this?ud(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(BT),this.root.sharedNodes.clear()}}}function v9(t){t.updateLayout()}function _9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Hn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=Ln(f);f.min=r[d].min,f.max=f.min+m}):NR(s,n.layoutBox,r)&&Hn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=Ln(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=oa();yu(a,r,n.layoutBox);const l=oa();o?yu(l,t.applyTransform(i,!0),n.measuredBox):yu(l,r,n.layoutBox);const u=!RR(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const g=ht();vu(g,n.layoutBox,f.layoutBox);const _=ht();vu(_,r,m.layoutBox),kR(g,_)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function w9(t){Yl&&Bs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function x9(t){t.clearSnapshot()}function BT(t){t.clearMeasurements()}function T9(t){t.isLayoutDirty=!1}function S9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function C9(t){t.resolveTargetDelta()}function b9(t){t.calcProjection()}function I9(t){t.resetSkewAndRotation()}function P9(t){t.removeLeadSnapshot()}function $T(t,e,n){t.translate=nt(e.translate,0,n),t.scale=nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HT(t,e,n,r){t.min=nt(e.min,n.min,r),t.max=nt(e.max,n.max,r)}function A9(t,e,n,r){HT(t.x,e.x,n.x,r),HT(t.y,e.y,n.y,r)}function R9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k9={duration:.45,ease:[.4,0,.1,1]},WT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),KT=WT("applewebkit/")&&!WT("chrome/")?Math.round:nn;function GT(t){t.min=KT(t.min),t.max=KT(t.max)}function D9(t){GT(t.x),GT(t.y)}function NR(t,e,n){return t==="position"||t==="preserve-aspect"&&!N3(FT(e),FT(n),.2)}function M9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const N9=MR({attachResizeListener:(t,e)=>Zr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Om={current:void 0},OR=MR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Om.current){const t=new N9({});t.mount(window),t.setOptions({layoutScroll:!0}),Om.current=t}return Om.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),O9={pan:{Feature:Q3},drag:{Feature:Y3,ProjectionNode:OR,MeasureLayout:IR}},by={current:null},LR={current:!1};function L9(){if(LR.current=!0,!!I0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>by.current=t.matches;t.addListener(e),e()}else by.current=!1}function V9(t,e,n){for(const r in e){const i=e[r],s=n[r];if(tn(i))t.addValue(r,i);else if(tn(s))t.addValue(r,ic(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ic(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const qT=new WeakMap,F9=[...$A,Xt,hs],j9=t=>F9.find(zA(t)),YT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],U9=R0.length;class B9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.resolveKeyframes=(f,m,g,_)=>new this.KeyframeResolver(f,m,g,_,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=H0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Fe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=mp(n),this.isVariantNode=vA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&tn(m)&&m.set(l[f],!1)}}mount(e){this.current=e,qT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LR.current||L9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:by.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qT.delete(this.current),this.projection&&this.projection.unmount(),pi(this.notifyUpdate),pi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=Es.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ja){const n=ja[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YT.length;r++){const i=YT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=V9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<U9;r++){const i=R0[r],s=this.props[i];(ec(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ic(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(UA(i)||jA(i))?i=parseFloat(i):!j9(i)&&hs.test(n)&&(i=XA(e,n)),this.setBaseTarget(e,tn(i)?i.get():i)),tn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=B0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!tn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class VR extends B9{constructor(){super(...arguments),this.KeyframeResolver=JA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function z9(t){return window.getComputedStyle(t)}class $9 extends VR{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=bA}readValueFromInstance(e,n){if(Es.has(n)){const r=K0(n);return r&&r.default||0}else{const r=z9(e),i=(xA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CR(e,n)}build(e,n,r){L0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return U0(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class H9 extends VR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Es.has(n)){const r=K0(n);return r&&r.default||0}return n=IA.has(n)?n:pp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return AA(e,n,r)}build(e,n,r){F0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){PA(e,n,r,i)}mount(e){this.isSVGTag=j0(e.tagName),super.mount(e)}}const W9=(t,e)=>D0(t)?new H9(e):new $9(e,{allowProjection:t!==N.Fragment}),K9={layout:{ProjectionNode:OR,MeasureLayout:IR}},G9={...b3,...L5,...O9,...K9},ft=WB((t,e)=>T5(t,e,G9,W9));class q9 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y9({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),i=N.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=N.useContext(b0);return N.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),S.jsx(q9,{isPresent:e,childRef:r,sizeRef:i,children:N.cloneElement(t,{ref:r})})}const Q9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=z0(X9),l=N.useId(),u=N.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random()]:[n]);return N.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),N.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=S.jsx(Y9,{isPresent:n,children:t})),S.jsx(fp.Provider,{value:u,children:t})};function X9(){return new Map}const Eh=t=>t.key||"";function QT(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const J9=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=N.useMemo(()=>QT(t),[t]),l=a.map(Eh),u=N.useRef(!0),h=N.useRef(a),d=z0(()=>new Map),[f,m]=N.useState(a),[g,_]=N.useState(a);dA(()=>{u.current=!1,h.current=a;for(let v=0;v<g.length;v++){const x=Eh(g[v]);l.includes(x)?d.delete(x):d.get(x)!==!0&&d.set(x,!1)}},[g,l.length,l.join("-")]);const T=[];if(a!==f){let v=[...a];for(let x=0;x<g.length;x++){const k=g[x],L=Eh(k);l.includes(L)||(v.splice(x,0,k),T.push(k))}o==="wait"&&T.length&&(v=T),_(QT(v)),m(a);return}const{forceRender:w}=N.useContext(k0);return S.jsx(S.Fragment,{children:g.map(v=>{const x=Eh(v),k=a===g||l.includes(x),L=()=>{if(d.has(x))d.set(x,!0);else return;let A=!0;d.forEach(b=>{b||(A=!1)}),A&&(w==null||w(),_(h.current),i&&i())};return S.jsx(Q9,{isPresent:k,initial:!u.current||r?void 0:!1,custom:k?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:k?void 0:L,children:v},x)})})};function vi({children:t,className:e,style:n}){const{theme:r}=_e();return S.jsx("div",{className:`rounded-lg flex flex-col absolute shadow-md border ${e}`,style:{backgroundColor:r.mainBgColor,color:r.mainTextColor,borderColor:r.mainBorderColor,...n},children:t})}const Z9={mainBgColor:"#121212",secondaryBgColor:"#1e1e1e",mainTextColor:"#e0e0e0",secondaryTextColor:"#a0a0a0",mainBorderColor:"#333333",secondaryBorderColor:"#444444",themeColor:"#bb86fc",secondaryThemeColor:"#3700b3",buttonTextColor:"#ffffff",hoverElementBgColor:"#2a2a2a",disabledBgColor:"#666666"},e6={mainBgColor:"#fffefc",secondaryBgColor:"rgb(252, 250, 248)",mainTextColor:"#333333",secondaryTextColor:"#757575",mainBorderColor:"rgb(238, 238, 238)",secondaryBorderColor:"#BDBDBD",themeColor:"#ffb34d",secondaryThemeColor:"#ffb34d",buttonTextColor:"#f9f9f9",hoverElementBgColor:"#f5f5f5",disabledBgColor:"#ffd296"},XT={dark:Z9,light:e6},Nn=N.forwardRef(({disabled:t,type:e="text",placeholder:n,className:r,min:i,onChange:s,value:o,onFocus:a,onBlur:l,style:u},h)=>{const{theme:d}=_e();return S.jsx("input",{disabled:t,onBlur:l,onFocus:a,value:o,onChange:f=>{s&&s(f)},min:i,ref:h,className:`outline-none rounded-md px-2 py-1 ${t&&"cursor-not-allowed"} ${r}`,style:{backgroundColor:d.mainBgColor,color:t?d.secondaryTextColor:d.mainTextColor,...u},type:e,placeholder:n})});Nn.displayName="Input";function Mc({onClick:t,className:e}){return S.jsx("div",{onClick:t,className:`fixed bg-stone-900 opacity-45 inset-0 h-screen w-screen ${e}`})}function Dr({className:t,children:e,onClick:n,disabled:r,style:i,hoverColor:s}){const{theme:o}=_e();return S.jsx(ft.button,{disabled:r,whileTap:{scale:.99},whileHover:r?{}:{boxShadow:"0 0 10px hsla(0, 0%, 0%, 0.1)",backgroundColor:s||o.secondaryThemeColor,transition:{duration:0}},className:`rounded-lg px-3 py-1 shadow-sm ${t} ${r&&"cursor-not-allowed"}`,style:{color:o.buttonTextColor,backgroundColor:r?o.disabledBgColor:o.themeColor,...i},onClick:n,children:e})}function t6({className:t,overlayOnClick:e}){const{theme:n}=_e(),{currUserData:r,updateUserData:i,currUser:s}=on(),[o,a]=N.useState("");async function l(){if(o)try{const u={...r,username:o};await i(s.uid,u)}catch(u){console.error("Failed to update username",u)}e()}return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"fixed inset-0 z-10 flex items-center justify-center w-screen h-screen",children:[S.jsx(Mc,{className:"z-10",onClick:e}),S.jsxs("div",{className:`shadow-md py-4 w-5/12 flex justify-center flex-col px-4 z-10 rounded-lg ${t}`,style:{backgroundColor:n.mainBgColor},children:[S.jsx("h1",{className:"px-2 my-2 text-sm font-bold",children:"Enter your new username:"}),S.jsx(Nn,{placeholder:"Username",onChange:u=>a(u.target.value),value:o}),S.jsxs("div",{className:"my-2",children:[S.jsx(Dr,{className:"mr-2",onClick:e,hoverColor:n.hoverElementBgColor,style:{backgroundColor:n.secondaryBgColor,color:n.mainTextColor},children:"Cancel"}),S.jsx(Dr,{onClick:l,children:"Save"})]})]})]})})}function sc({options:t,onClick:e=()=>{}}){const{theme:n}=_e();return t.map((r,i)=>S.jsx(ft.button,{onClick:()=>e(r),whileHover:{backgroundColor:n.hoverElementBgColor,transition:{duration:0}},style:{backgroundColor:n.mainBgColor},className:`w-full px-2 text-left hover:cursor-pointer ${i===0&&"rounded-t-lg"} ${i===t.length-1&&"rounded-b-lg"}`,children:r},`${i}-${r}`))}function Vn({onClick:t,className:e}){return S.jsx("div",{onClick:t,className:`fixed inset-0 h-screen w-screen ${e}`})}function df(t){const e={USD:1,EUR:.9135,PLN:4.1412,CZK:22.3534},n={USD:"$",EUR:"",PLN:"z",CZK:"K"};switch(t){case"USD":return{symbol:n.USD,conversionRate:e.USD};case"EUR":return{symbol:n.EUR,conversionRate:e.EUR};case"PLN":return{symbol:n.PLN,conversionRate:e.PLN};case"CZK":return{symbol:n.CZK,conversionRate:e.CZK};default:throw new Error(`Unsupported currency: ${t}`)}}const FR=["USD","EUR","PLN","CZK"];function n6({overlayOnClick:t,className:e,style:n}){const{currUserData:r,updateUserData:i,currUser:s}=on();async function o(a){try{const l={...r,currency:df(a)};await i(s.uid,l)}catch(l){console.error("Failed to update currency",l)}}return S.jsxs(S.Fragment,{children:[S.jsx(Vn,{className:"z-10",onClick:t}),S.jsx(vi,{className:` ${e}`,style:{...n},children:S.jsx(sc,{options:FR,onClick:o})})]})}const JT=["Change Theme","Change Username","Change Currency"];function r6({className:t}){const{theme:e,setTheme:n,themeName:r,setThemeName:i}=_e(),{logoutUser:s}=on(),o=gc(),[a,l]=N.useState(!1),[u,h]=N.useState(!1);function d(){r==="light"?(n(XT.dark),i("dark")):(n(XT.light),i("light"))}const f=[d,()=>l(!0),()=>h(!0)];async function m(){try{await s(),o("/login")}catch(g){console.error("Logout failed:",g)}}return S.jsxs(S.Fragment,{children:[S.jsxs(vi,{className:`top-10 z-10 w-3/4 ${t}`,children:[JT.map((g,_)=>S.jsx(ft.button,{onClick:f[_],className:`px-2 py-1 text-left ${_===0&&"rounded-t-lg"} ${_===JT.length-1&&"rounded-b-lg"}`,style:{backgroundColor:e.mainBgColor},whileHover:{backgroundColor:e.hoverElementBgColor},children:g})),S.jsx("hr",{style:{borderColor:e.mainBorderColor}}),S.jsx(ft.button,{onClick:m,className:"py-1 text-red-600 rounded-b-lg",style:{backgroundColor:e.mainBgColor},whileHover:{backgroundColor:e.hoverElementBgColor},children:"Logout"})]}),a&&S.jsx(t6,{overlayOnClick:()=>l(!1),className:""}),u&&S.jsx(n6,{className:"absolute z-10 w-32",overlayOnClick:()=>h(!1),style:{right:"-91px",top:"98px"}})]})}function i6({}){const{theme:t}=_e(),{currUserData:e}=on(),[n,r]=N.useState(!1);return S.jsxs(S.Fragment,{children:[S.jsxs(ft.div,{style:{backgroundColor:t.secondaryBgColor},whileHover:{backgroundColor:t.hoverElementBgColor},className:"flex items-center w-3/4 p-1 rounded-lg cursor-pointer",onClick:()=>r(i=>!i),children:[S.jsx("div",{className:"w-4 h-4 p-2 mr-2 bg-gray-200 border-2 border-black rounded-full",style:{borderColor:t.themeColor}}),S.jsx("h1",{children:e.username})]}),n&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{className:"z-10",onClick:()=>r(!1)}),S.jsx(r6,{})]})]})}function s6({onClick:t,isNavbarVisible:e}){return S.jsx("button",{onClick:t,className:"fixed transition-all duration-500 ease",style:{left:e?"170px":"15px"},children:S.jsx("div",{children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:S.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 4.001H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-12a2 2 0 0 0-2-2Zm-15 2a1 1 0 0 1 1-1h4v14H5a1 1 0 0 1-1-1v-12Zm6 13h9a1 1 0 0 0 1-1v-12a1 1 0 0 0-1-1h-9v14Z",clipRule:"evenodd"})})})})}function o6({children:t,className:e,onClick:n}){const{theme:r}=_e();return S.jsxs(ft.button,{className:`flex items-center w-full p-1 rounded-lg ${e}`,onClick:n,style:{backgroundColor:r.secondaryBgColor},whileHover:{backgroundColor:r.hoverElementBgColor,transition:{duration:0}},whileTap:{scale:.97},children:[S.jsx("svg",{style:{color:r.themeColor},xmlns:"http://www.w3.org/2000/svg",width:"24",className:"mr-2",height:"24",fill:"none",viewBox:"0 0 24 24",children:S.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 23c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11Zm-.711-16.5a.75.75 0 1 1 1.5 0v4.789H17.5a.75.75 0 0 1 0 1.5h-4.711V17.5a.75.75 0 0 1-1.5 0V12.79H6.5a.75.75 0 1 1 0-1.5h4.789V6.5Z",clipRule:"evenodd"})}),t]})}const Ep=To(t=>({isAddEntryModalVisible:!1,setIsAddEntryModalVisible:e=>t(()=>({isAddEntryModalVisible:e})),isNavbarVisible:!0,setIsNavbarVisible:e=>t(n=>({isNavbarVisible:typeof e=="function"?e(n.isNavbarVisible):e})),pagePaddingLeft:"210px",setPagePaddingLeft:e=>t(()=>({pagePaddingLeft:e}))}));function ZT(t){return t&&window.innerWidth>850?"250px":"40px"}function a6({}){const{theme:t}=_e(),{setIsAddEntryModalVisible:e,setIsNavbarVisible:n,isNavbarVisible:r,setPagePaddingLeft:i}=Ep(),[s,o]=N.useState(!1),[a,l]=N.useState(!1);return N.useEffect(()=>{i(ZT(r)),window.innerWidth<=850&&o(r);const u=()=>{window.innerWidth<=850?(n(!1),l(!0),o(!1),i(ZT(!1))):a&&(n(!0),l(!1))};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[r]),S.jsxs(S.Fragment,{children:[s&&S.jsx(Mc,{className:"z-10",onClick:()=>n(!1)}),S.jsxs(ft.div,{className:"fixed z-10 h-screen px-4 pt-1 text-sm transition-all duration-500 ease",style:{color:t.mainTextColor,width:"210px",left:r?"0px":"-210px",backgroundColor:t.secondaryBgColor},children:[S.jsxs("div",{className:"flex items-center justify-between mt-2",children:[S.jsx(i6,{}),S.jsx(s6,{isNavbarVisible:r,onClick:()=>n(u=>!u)})]}),S.jsx(o6,{className:"mt-3",onClick:()=>e(!0),children:"Add Entry"})]})]})}function l6({className:t,children:e,onClick:n,disabled:r}){const{theme:i}=_e();return S.jsx(ft.button,{disabled:r,whileTap:{scale:.99},whileHover:{backgroundColor:i.hoverElementBgColor,transition:{duration:.1}},className:`rounded-lg px-3 py-1 shadow-sm ${t} ${r&&"cursor-not-allowed"}`,style:{color:i.mainTextColor,backgroundColor:i.secondaryBgColor},onClick:n,children:e})}function Nc({onClick:t,children:e,className:n,isSelected:r}){const{theme:i}=_e();return S.jsx(ft.button,{whileHover:{borderColor:i.secondaryBorderColor},whileFocus:{borderColor:i.secondaryBorderColor},className:`px-2 font-light border rounded-lg ${n}`,style:{borderColor:r?i.themeColor:i.mainBorderColor},onClick:t,children:e})}const e1=new Date().getFullYear(),t1=new Date().getDate(),n1=new Date().getMonth()+1;function u6({numDays:t,monthName:e,year:n,monthNumber:r,handleDateClick:i,currSelectedDate:s}){const{theme:o}=_e();return S.jsxs("div",{className:"p-2 ",children:[S.jsxs("h1",{className:"my-2",children:[e," ",n]}),S.jsx("hr",{className:"my-2"}),S.jsx("div",{className:"grid grid-cols-7",children:Array(t).fill("").map((a,l)=>{const u=t-l;if(r===n1&&u>t1&&n===e1)return S.jsx("h1",{className:"w-10 p-1 text-sm font-light text-center rounded-full",style:{color:o.secondaryBorderColor},children:u},`${n}-${r}-${u}`);const d=new Date(n,r-1,u).getTime();let f=o.mainTextColor,m="font-light",g=o.mainBgColor;return r===n1&&u===t1&&n===e1&&(f=o.themeColor,m="font-bold"),s&&s===d&&(g=o.themeColor,f=o.buttonTextColor),S.jsx("button",{className:`w-10 p-1 text-sm rounded-full ${m}`,style:{color:f,backgroundColor:g},onClick:()=>i(n,r,u,e),children:u},`${n}-${r}-${u}`)})})]})}const c6=new Date().getFullYear(),h6=new Date().getMonth(),d6=[2024,2023,2022,2021,2020,2019,2018,2017,2016,2015,2014],r1=["December","November","October","September","August","July","June","May","April","March","February","January"],f6=[31,30,31,30,31,30,31,31,30,31,28,31];function jR({overlayOnClick:t,handleDateClick:e,currSelectedDate:n}){const{theme:r}=_e();return S.jsxs(S.Fragment,{children:[S.jsx(Vn,{className:"z-10",onClick:t}),S.jsx("div",{className:"absolute z-10 overflow-x-hidden overflow-y-scroll text-sm shadow-md w-fit h-96",style:{backgroundColor:r.mainBgColor},children:d6.map(i=>r1.map((s,o)=>{const a=r1.length-o;if(!(i===c6&&a>h6+1))return S.jsx(u6,{currSelectedDate:n,handleDateClick:e,monthName:s,monthNumber:a,year:i,numDays:f6[o]},`${i}-${a}`)}))})]})}const Xa=To(t=>({dateBtnValue:"Date",setDateBtnValue:e=>t(()=>({dateBtnValue:e})),entryDate:null,setEntryDate:e=>t(()=>({entryDate:e})),amountBtnValue:"Amount",setAmountBtnValue:e=>t(()=>({amountBtnValue:e})),entryAmountUSD:null,setEntryAmountUSD:e=>t(()=>({entryAmountUSD:e})),typeBtnValue:"Type",setTypeBtnValue:e=>t(()=>({typeBtnValue:e})),categoryBtnValue:"Category",setCategoryBtnValue:e=>t(()=>({categoryBtnValue:e})),resetAddEntryModalStore:()=>t(()=>({dateBtnValue:"Date",entryDate:null,amountBtnValue:"Amount",entryAmountUSD:null,typeBtnValue:"Type",categoryBtnValue:"Category"}))}));function p6({}){const{theme:t}=_e(),{dateBtnValue:e,setDateBtnValue:n,setEntryDate:r,entryDate:i}=Xa(),[s,o]=N.useState(!1);function a(l,u,h,d){const m=new Date(l,u-1,h).getTime(),g=`${d.slice(0,3)} ${h} ${l}`;n(g),r(m)}return S.jsxs("div",{className:"",children:[S.jsxs(Nc,{isSelected:e!=="Date",className:"flex items-center py-1 mr-2",onClick:()=>o(!0),children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",className:"mr-1",height:"16",style:{color:t.secondaryTextColor},viewBox:"0 0 16 16",children:S.jsx("path",{fill:"currentColor",d:"M12 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8zm0 1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1.25 7a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5zm.75-5a.5.5 0 1 1 0 1h-7a.5.5 0 0 1 0-1h7z"})}),e]}),s&&S.jsx(jR,{currSelectedDate:i,overlayOnClick:()=>o(!1),handleDateClick:a})]})}const e_=To(t=>({currencyDetails:df("USD"),setCurrencyDetails:e=>t(()=>({currencyDetails:e})),currencyDropdownBtnValue:"USD",setCurrencyDropdownBtnValue:e=>t(()=>({currencyDropdownBtnValue:e})),amountInputValue:"",setAmountInputValue:e=>t(()=>({amountInputValue:e})),resetSelectAmountDropdownStoreStore:()=>t(()=>({currencyDetails:df("USD"),currencyDropdownBtnValue:"USD",amountInputValue:""}))}));function m6({setIsAmountSelectVisible:t}){const{theme:e}=_e(),{setEntryAmountUSD:n,setAmountBtnValue:r}=Xa(),{currencyDetails:i,setCurrencyDetails:s,currencyDropdownBtnValue:o,setCurrencyDropdownBtnValue:a,amountInputValue:l,setAmountInputValue:u}=e_(),[h,d]=N.useState(!1);function f(g){u(g.target.value),r(`${g.target.value} ${i.symbol}`);const _=Number(g.target.value)/i.conversionRate;n(_)}function m(g){a(g),d(!1)}return N.useEffect(()=>{const g=df(o);s(g),l&&r(`${l} ${g.symbol}`);const _=Number(l)/g.conversionRate;n(_)},[o]),S.jsxs(S.Fragment,{children:[S.jsx(Vn,{onClick:()=>t(!1)}),S.jsxs("div",{className:"absolute z-10 flex items-center p-2 rounded-lg shadow-md",style:{backgroundColor:e.mainBgColor},children:[S.jsx("h1",{className:"",style:{color:e.mainTextColor},children:i.symbol}),S.jsx(Nn,{value:l,onChange:g=>f(g),min:0,type:"number",placeholder:"Amount"}),S.jsxs("div",{className:"",children:[S.jsx(Nc,{onClick:()=>d(!0),children:o}),h&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{onClick:()=>d(!1)}),S.jsx(vi,{className:"absolute",children:S.jsx(sc,{options:FR,onClick:m})})]})]})]})]})}function g6({}){const{amountBtnValue:t}=Xa(),{currencyDetails:e}=e_(),[n,r]=N.useState(!1);return S.jsxs("div",{className:"mr-2",children:[S.jsxs(Nc,{isSelected:t!=="Amount"&&t.length!==2,className:"flex items-center py-1",onClick:()=>r(!0),children:[t==="Amount"&&S.jsx("h1",{className:"mr-1",children:e.symbol}),t.length===2?"$ Amount":t]}),n&&S.jsx(m6,{setIsAmountSelectVisible:r})]})}const y6=["Income","Expense"];function v6({}){const{typeBtnValue:t,setTypeBtnValue:e}=Xa(),[n,r]=N.useState(!1);function i(s){s!=="Income"&&s!=="Expense"||(e(s),r(!1))}return S.jsxs("div",{children:[S.jsx(Nc,{isSelected:t!=="Type",className:"py-1 mr-2",onClick:()=>r(!0),children:t}),n&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{onClick:()=>r(!1)}),S.jsx(vi,{className:"z-10 text-sm",children:S.jsx(sc,{options:y6,onClick:i})})]})]})}var Ot=[];for(var Lm=0;Lm<256;++Lm)Ot.push((Lm+256).toString(16).slice(1));function _6(t,e=0){return(Ot[t[e+0]]+Ot[t[e+1]]+Ot[t[e+2]]+Ot[t[e+3]]+"-"+Ot[t[e+4]]+Ot[t[e+5]]+"-"+Ot[t[e+6]]+Ot[t[e+7]]+"-"+Ot[t[e+8]]+Ot[t[e+9]]+"-"+Ot[t[e+10]]+Ot[t[e+11]]+Ot[t[e+12]]+Ot[t[e+13]]+Ot[t[e+14]]+Ot[t[e+15]]).toLowerCase()}var xh,w6=new Uint8Array(16);function E6(){if(!xh&&(xh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xh(w6)}var x6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const i1={randomUUID:x6};function UR(t,e,n){if(i1.randomUUID&&!e&&!t)return i1.randomUUID();t=t||{};var r=t.random||(t.rng||E6)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,_6(r)}const BR=["Shopping","Bills","Food","Personal","Tech","Hygiene","Entertainment","Transportation","Health","Education","Rent/Mortgage","Utilities","Travel","Subscriptions","Gifts","Home Improvement","Charity","Sports","Pets"],zR=["Salary","Freelance","Investment","Gift","Bonus","Rental Income","Dividend","Interest","Pension","Side Hustle","Refund","Sales","Affiliate Income","Royalties"];function T6({}){const{categoryBtnValue:t,setCategoryBtnValue:e,typeBtnValue:n}=Xa(),[r,i]=N.useState(!1);function s(o){e(o),i(!1)}return N.useEffect(()=>{e("Category")},[n]),S.jsxs("div",{className:"mr-2",children:[S.jsxs(Nc,{isSelected:t!=="Category",className:"flex items-center py-1",onClick:()=>i(!0),children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:"mr-1",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:S.jsx("path",{fill:"currentColor","fill-rule":"evenodd",d:"m3.914 11.086 6.5-6.5A2 2 0 0 1 11.828 4H18a2 2 0 0 1 2 2v6.172a2 2 0 0 1-.586 1.414l-6.5 6.5a2 2 0 0 1-2.828 0l-6.172-6.171a2 2 0 0 1 0-2.829Zm.707.707a1 1 0 0 0 0 1.415l6.172 6.171a1 1 0 0 0 1.414 0l6.5-6.5a1 1 0 0 0 .293-.707V6a1 1 0 0 0-1-1h-6.172a1 1 0 0 0-.707.293l-6.5 6.5Zm10.129-1.292a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z","clip-rule":"evenodd"})}),t]}),r&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{onClick:()=>i(!1)}),S.jsx(vi,{className:"absolute z-10",children:n==="Expense"?S.jsx(sc,{options:BR,onClick:s}):S.jsx(sc,{options:zR,onClick:s})})]})]})}function S6(){const{theme:t}=_e(),{currUser:e,getUserData:n,updateUserData:r}=on(),{isAddEntryModalVisible:i,setIsAddEntryModalVisible:s}=Ep(),{entryDate:o,resetAddEntryModalStore:a,entryAmountUSD:l,typeBtnValue:u,categoryBtnValue:h}=Xa(),{resetSelectAmountDropdownStoreStore:d}=e_(),[f,m]=N.useState(""),[g,_]=N.useState(""),[T,w]=N.useState(""),[v,x]=N.useState(!0);async function k(){if(!s1(f,g,o,l,h,u)){w("Please fill every field.");return}try{const A=await n(e.uid);if(!A)throw new Error("User data not found.");const E={uid:UR(),type:u,amount:l,dateAddedMs:o,name:f,description:g,category:h},C={...A,entries:[...A.entries,E]};await r(e.uid,C),L()}catch(A){console.error(A),w("Failed to add entry.")}}function L(){s(!1),a(),d()}return N.useEffect(()=>{if(T){const A=setTimeout(()=>w(""),3500);return()=>clearTimeout(A)}},[T]),N.useEffect(()=>{x(!s1(f,g,o,l,h,u))},[f,g,o,l,h,u]),S.jsx(J9,{mode:"wait",children:i&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{className:"z-10",onClick:L}),S.jsx(ft.div,{initial:{opacity:0,scale:.75},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.75},transition:{duration:.2,ease:"easeInOut"},className:"fixed inset-0 z-20 flex items-center justify-center pointer-events-none",children:S.jsxs("div",{className:"relative flex flex-col w-full p-4 border rounded-lg shadow-2xl pointer-events-auto bottom-64 md:w-4/5",style:{height:"200px",width:"524px",color:t.mainTextColor,backgroundColor:t.secondaryBgColor},children:[S.jsx(Nn,{onChange:A=>m(A.target.value),className:"text-md",placeholder:"Entry name",style:{backgroundColor:t.secondaryBgColor}}),S.jsx(Nn,{style:{backgroundColor:t.secondaryBgColor},onChange:A=>_(A.target.value),className:"text-sm font-light",placeholder:"Description"}),S.jsxs("div",{className:"flex mt-2 text-sm",children:[S.jsx(v6,{}),S.jsx(T6,{}),S.jsx(g6,{}),S.jsx(p6,{})]}),S.jsx("hr",{className:"relative mt-4 right-4",style:{width:"524px"}}),S.jsx("h1",{className:"my-2 text-red-600",children:T}),S.jsxs("div",{className:"absolute mt-2 right-4 bottom-5",children:[S.jsx(l6,{className:"mr-2 text-sm",onClick:L,children:"Cancel"}),S.jsx(Dr,{disabled:v,className:"text-sm",onClick:k,children:"Add"})]})]})},"modal")]})})}function s1(t,e,n,r,i,s){return t.trim()!==""&&e.trim()!==""&&n!==null&&r!==null&&s!=="Type"&&i!=="Category"}function C6(){const{theme:t}=_e();return Ep(),S.jsxs("div",{className:"flex min-h-screen overflow-x-auto transition-all duration-500 ease-out font-alexandria",style:{backgroundColor:t.mainBgColor},children:[S.jsx(a6,{}),S.jsx(FN,{}),S.jsx(S6,{})]})}function b6({children:t}){const e=gc(),{loading:n,currUser:r}=on();return N.useEffect(()=>{if(!r&&!n){e("/login");return}},[r,e,n]),n?S.jsx("h1",{children:"...Loading"}):r?S.jsx(S.Fragment,{children:t}):null}function I6({}){const{theme:t}=_e(),{currUser:e,updateUserData:n}=on(),[r,i]=N.useState(""),s=N.useRef(null);async function o(){var l;const a=(l=s.current)==null?void 0:l.value;if(a&&(e!=null&&e.uid))try{await n(e.uid,{username:a})}catch(u){i(u.message||"Failed to update username please try again later."),console.error(u)}else i("Username field is empty or the user is not logged in.")}return N.useEffect(()=>{if(r){const a=setTimeout(()=>{i("")},3500);return()=>{clearTimeout(a)}}},[r]),S.jsxs("div",{className:"fixed inset-0 flex items-center justify-center w-screen h-screen",children:[S.jsx(Mc,{}),S.jsxs("div",{className:"relative z-50 flex flex-col items-center p-6 rounded-lg shadow-lg",style:{backgroundColor:t.mainBgColor,height:"auto",width:"80%",maxWidth:"400px"},children:[S.jsx("h1",{className:"mb-2 text-2xl font-bold",style:{color:t.mainTextColor},children:"Welcome!"}),S.jsx("p",{className:"mb-6 text-center",style:{color:t.mainTextColor},children:"Please choose your username to continue"}),S.jsx(Nn,{ref:s,className:"w-full mb-4",placeholder:"Enter your username"}),r&&S.jsx("h1",{className:"my-4 text-red-600",children:r}),S.jsx(Dr,{onClick:o,className:"w-full py-2 mt-4 rounded-lg ",children:"Continue to the App"})]})]})}function o1({className:t,amount:e,text:n}){const{theme:r}=_e(),{currUserData:i}=on();return S.jsxs("div",{className:`p-4 mr-4 ${t}`,style:{backgroundColor:r.mainBgColor,borderColor:r.mainBorderColor},children:[S.jsx("h1",{className:"text-xl",children:n}),S.jsxs("h1",{className:"",children:[i.currency.symbol,e.toFixed(0)]})]})}function P6({className:t,onClick:e}){const{theme:n}=_e();return N.useEffect(()=>{console.log("theme changed"),console.log(n.mainTextColor)},[n]),S.jsx(ft.svg,{whileTap:{scale:1.05},onClick:e,whileHover:{scale:1.1},className:`w-5 outline-none hover:cursor-pointer ${t}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{style:{color:n.mainTextColor},fillRule:"evenodd",d:"M11.828 2.25c-.916 0-1.699.663-1.85 1.567l-.091.549a.798.798 0 0 1-.517.608 7.45 7.45 0 0 0-.478.198.798.798 0 0 1-.796-.064l-.453-.324a1.875 1.875 0 0 0-2.416.2l-.243.243a1.875 1.875 0 0 0-.2 2.416l.324.453a.798.798 0 0 1 .064.796 7.448 7.448 0 0 0-.198.478.798.798 0 0 1-.608.517l-.55.092a1.875 1.875 0 0 0-1.566 1.849v.344c0 .916.663 1.699 1.567 1.85l.549.091c.281.047.508.25.608.517.06.162.127.321.198.478a.798.798 0 0 1-.064.796l-.324.453a1.875 1.875 0 0 0 .2 2.416l.243.243c.648.648 1.67.733 2.416.2l.453-.324a.798.798 0 0 1 .796-.064c.157.071.316.137.478.198.267.1.47.327.517.608l.092.55c.15.903.932 1.566 1.849 1.566h.344c.916 0 1.699-.663 1.85-1.567l.091-.549a.798.798 0 0 1 .517-.608 7.52 7.52 0 0 0 .478-.198.798.798 0 0 1 .796.064l.453.324a1.875 1.875 0 0 0 2.416-.2l.243-.243c.648-.648.733-1.67.2-2.416l-.324-.453a.798.798 0 0 1-.064-.796c.071-.157.137-.316.198-.478.1-.267.327-.47.608-.517l.55-.091a1.875 1.875 0 0 0 1.566-1.85v-.344c0-.916-.663-1.699-1.567-1.85l-.549-.091a.798.798 0 0 1-.608-.517 7.507 7.507 0 0 0-.198-.478.798.798 0 0 1 .064-.796l.324-.453a1.875 1.875 0 0 0-.2-2.416l-.243-.243a1.875 1.875 0 0 0-2.416-.2l-.453.324a.798.798 0 0 1-.796.064 7.462 7.462 0 0 0-.478-.198.798.798 0 0 1-.517-.608l-.091-.55a1.875 1.875 0 0 0-1.85-1.566h-.344ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"})})}const $R=To(t=>({currDisplayingTimePeriod:"All Time",setCurrDisplayingTimePeriod:e=>t(()=>({currDisplayingTimePeriod:e}))})),a1=["Today","This Week","This Month","This Year","All Time"];function A6({}){const{theme:t}=_e(),{currDisplayingTimePeriod:e,setCurrDisplayingTimePeriod:n}=$R(),[r,i]=N.useState(!1);function s(o){n(o),i(!1)}return S.jsxs("div",{className:"",children:[S.jsx("h1",{className:"px-3 font-bold",children:"Time Period"}),S.jsxs(ft.div,{onClick:()=>i(!0),style:{backgroundColor:t.mainBgColor,color:t.mainTextColor},whileHover:{backgroundColor:t.hoverElementBgColor,transition:{duration:0}},className:"flex justify-between px-3 py-2 mt-2 rounded-lg hover:cursor-pointer",children:[S.jsx("h1",{children:e}),S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:S.jsx("path",{fill:"currentColor",d:"M15.646 9.647a.5.5 0 0 1 .708.707l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 1 1 .708-.707L12 13.294l3.646-3.647Z"})})]}),r&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{onClick:()=>i(!1)}),S.jsx(vi,{className:"absolute w-full top-18",children:a1.map((o,a)=>S.jsx(ft.button,{onClick:()=>s(o),style:{backgroundColor:t.mainBgColor},whileHover:{backgroundColor:t.hoverElementBgColor,transition:{duration:0}},className:`px-2 py-1 text-left ${a===0&&"rounded-t-lg"} ${a===a1.length-1&&"rounded-b-lg"}`,children:o}))})]})]})}function R6({}){const{theme:t}=_e();return S.jsx("div",{className:"absolute p-2 py-3 border rounded-lg shadow-md right-2 top-8 w-52",style:{backgroundColor:t.mainBgColor,color:t.mainTextColor,borderColor:t.mainBorderColor},children:S.jsx(A6,{})})}function k6({entry:t,index:e,onClick:n}){const{theme:r}=_e(),{currUserData:i}=on();return S.jsxs(S.Fragment,{children:[S.jsxs(ft.div,{whileHover:{backgroundColor:r.hoverElementBgColor,transition:{duration:0}},onClick:n,className:"relative grid items-center grid-cols-5 px-4 py-3 hover:cursor-pointer",style:{color:r.mainTextColor,backgroundColor:e%2!==0?r.secondaryBgColor:r.mainBgColor},children:[S.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[S.jsx("h1",{className:"break-all w-fit",children:t.name}),S.jsx("h1",{className:"font-light break-all w-fit",children:t.description})]}),S.jsx("h1",{className:"flex justify-center",children:t.category}),S.jsxs("h1",{className:"flex justify-center",style:{left:"15%"},children:[(Number(t.amount)*i.currency.conversionRate).toFixed(0)," ",i.currency.symbol]}),S.jsx("h1",{className:"flex justify-center",style:{left:"60%",color:t.type==="Expense"?r.secondaryThemeColor:r.themeColor},children:t.type}),S.jsx("h1",{className:"flex justify-center text-sm",children:D6(t.dateAddedMs)})]}),S.jsx("hr",{style:{borderColor:r.mainBorderColor}})]})}const D6=t=>new Date(t).toLocaleDateString("en-GB")||t,Ts=To(t=>({isEditingEntry:!1,setIsEditingEntry:e=>t(n=>({isEditingEntry:typeof e=="function"?e(n.isEditingEntry):e})),editingEntryUid:null,setEditingEntryUid:e=>t(()=>({editingEntryUid:e})),currEditingEntry:null,setCurrEditingEntry:e=>t(()=>({currEditingEntry:e})),entryCategory:null,setEntryCategory:e=>t(()=>({entryCategory:e})),entryType:null,setEntryType:e=>t(()=>({entryType:e})),entryDate:null,setEntryDate:e=>t(()=>({entryDate:e})),editingEntryDateBtnValue:null,setEditingEntryDateBtnValue:e=>t(()=>({editingEntryDateBtnValue:e})),editingNameOrDescription:!1,setEditingNameOrDescription:e=>t(n=>({editingNameOrDescription:typeof e=="function"?e(n.editingNameOrDescription):e}))}));function M6({currDisplayingEntries:t}){const{theme:e}=_e(),{setIsEditingEntry:n,setEditingEntryUid:r}=Ts();function i(s){n(!0),r(s)}return S.jsxs("div",{className:"mt-10 shadow-md",style:{color:e.mainTextColor},children:[S.jsxs("div",{className:"grid items-center grid-cols-5 py-2 rounded-t-lg",style:{backgroundColor:e.secondaryBgColor},children:[S.jsxs("div",{className:"flex flex-col items-center justify-center",children:[S.jsx("h1",{className:"",children:"Name"}),S.jsx("h1",{className:"font-light",children:"Description"})]}),S.jsx("h1",{className:"flex justify-center",children:"Category"}),S.jsx("h1",{className:"flex justify-center",children:"Amount"}),S.jsx("h1",{className:"flex justify-center",children:"Type"}),S.jsx("h1",{className:"flex justify-center",children:"Date"})]}),S.jsx("hr",{style:{borderColor:e.mainTextColor}}),S.jsxs("div",{className:"overflow-x-hidden overflow-y-auto",style:{maxHeight:"512px"},children:[t.length===0&&S.jsx("h1",{className:"box-content flex justify-center w-full pr-4 my-5 text-sm",style:{color:e.secondaryTextColor},children:"No entries yet..."}),t.map((s,o)=>S.jsx(k6,{index:o,entry:s,onClick:()=>i(s.uid)},UR()))]})]})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Oc(t){return t+.5|0}const Bi=(t,e,n)=>Math.max(Math.min(t,n),e);function Ql(t){return Bi(Oc(t*2.55),0,255)}function is(t){return Bi(Oc(t*255),0,255)}function Wr(t){return Bi(Oc(t/2.55)/100,0,1)}function l1(t){return Bi(Oc(t*100),0,100)}const $n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Iy=[..."0123456789ABCDEF"],N6=t=>Iy[t&15],O6=t=>Iy[(t&240)>>4]+Iy[t&15],Th=t=>(t&240)>>4===(t&15),L6=t=>Th(t.r)&&Th(t.g)&&Th(t.b)&&Th(t.a);function V6(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&$n[t[1]]*17,g:255&$n[t[2]]*17,b:255&$n[t[3]]*17,a:e===5?$n[t[4]]*17:255}:(e===7||e===9)&&(n={r:$n[t[1]]<<4|$n[t[2]],g:$n[t[3]]<<4|$n[t[4]],b:$n[t[5]]<<4|$n[t[6]],a:e===9?$n[t[7]]<<4|$n[t[8]]:255})),n}const F6=(t,e)=>t<255?e(t):"";function j6(t){var e=L6(t)?N6:O6;return t?"#"+e(t.r)+e(t.g)+e(t.b)+F6(t.a,e):void 0}const U6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function HR(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function B6(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function z6(t,e,n){const r=HR(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function $6(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function t_(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,h;return s!==o&&(h=s-o,u=a>.5?h/(2-s-o):h/(s+o),l=$6(n,r,i,h,s),l=l*60+.5),[l|0,u||0,a]}function n_(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(is)}function r_(t,e,n){return n_(HR,t,e,n)}function H6(t,e,n){return n_(z6,t,e,n)}function W6(t,e,n){return n_(B6,t,e,n)}function WR(t){return(t%360+360)%360}function K6(t){const e=U6.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ql(+e[5]):is(+e[5]));const i=WR(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=H6(i,s,o):e[1]==="hsv"?r=W6(i,s,o):r=r_(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function G6(t,e){var n=t_(t);n[0]=WR(n[0]+e),n=r_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function q6(t){if(!t)return;const e=t_(t),n=e[0],r=l1(e[1]),i=l1(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Wr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const u1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},c1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Y6(){const t={},e=Object.keys(c1),n=Object.keys(u1);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,u1[s]);s=parseInt(c1[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Sh;function Q6(t){Sh||(Sh=Y6(),Sh.transparent=[0,0,0,0]);const e=Sh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const X6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function J6(t){const e=X6.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Ql(o):Bi(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Ql(r):Bi(r,0,255)),i=255&(e[4]?Ql(i):Bi(i,0,255)),s=255&(e[6]?Ql(s):Bi(s,0,255)),{r,g:i,b:s,a:n}}}function Z6(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Vm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Bo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function e$(t,e,n){const r=Bo(Wr(t.r)),i=Bo(Wr(t.g)),s=Bo(Wr(t.b));return{r:is(Vm(r+n*(Bo(Wr(e.r))-r))),g:is(Vm(i+n*(Bo(Wr(e.g))-i))),b:is(Vm(s+n*(Bo(Wr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ch(t,e,n){if(t){let r=t_(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=r_(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function KR(t,e){return t&&Object.assign(e||{},t)}function h1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=is(t[3]))):(e=KR(t,{r:0,g:0,b:0,a:1}),e.a=is(e.a)),e}function t$(t){return t.charAt(0)==="r"?J6(t):K6(t)}class oc{constructor(e){if(e instanceof oc)return e;const n=typeof e;let r;n==="object"?r=h1(e):n==="string"&&(r=V6(e)||Q6(e)||t$(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=KR(this._rgb);return e&&(e.a=Wr(e.a)),e}set rgb(e){this._rgb=h1(e)}rgbString(){return this._valid?Z6(this._rgb):void 0}hexString(){return this._valid?j6(this._rgb):void 0}hslString(){return this._valid?q6(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=e$(this._rgb,e._rgb,n)),this}clone(){return new oc(this.rgb)}alpha(e){return this._rgb.a=is(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Oc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ch(this._rgb,2,e),this}darken(e){return Ch(this._rgb,2,-e),this}saturate(e){return Ch(this._rgb,1,e),this}desaturate(e){return Ch(this._rgb,1,-e),this}rotate(e){return G6(this._rgb,e),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ur(){}const n$=(()=>{let t=0;return()=>t++})();function bt(t){return t===null||typeof t>"u"}function Rt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function mi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function vr(t,e){return mi(t)?t:e}function Oe(t,e){return typeof t>"u"?e:t}const r$=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,GR=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ne(t,e,n,r){let i,s,o;if(Rt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(be(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function ff(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function pf(t){if(Rt(t))return t.map(pf);if(be(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=pf(t[n[i]]);return e}return t}function qR(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function i$(t,e,n,r){if(!qR(t))return;const i=e[t],s=n[t];be(i)&&be(s)?Mr(i,s,r):e[t]=pf(s)}function Mr(t,e,n){const r=Rt(e)?e:[e],i=r.length;if(!be(t))return t;n=n||{};const s=n.merger||i$;let o;for(let a=0;a<i;++a){if(o=r[a],!be(o))continue;const l=Object.keys(o);for(let u=0,h=l.length;u<h;++u)s(l[u],t,o,n)}return t}function _u(t,e){return Mr(t,e,{merger:s$})}function s$(t,e,n){if(!qR(t))return;const r=e[t],i=n[t];be(r)&&be(i)?_u(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pf(i))}const d1={"":t=>t,x:t=>t.x,y:t=>t.y};function o$(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function a$(t){const e=o$(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function ac(t,e){return(d1[e]||(d1[e]=a$(e)))(t)}function i_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const mf=t=>typeof t<"u",ds=t=>typeof t=="function",f1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function l$(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Dt=Math.PI,vt=2*Dt,gf=Number.POSITIVE_INFINITY,u$=Dt/180,St=Dt/2,ks=Dt/4,p1=Dt*2/3,m1=Math.log10,g1=Math.sign;function c$(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function yf(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Js(t){return t*(Dt/180)}function h$(t){return t*(180/Dt)}function YR(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Dt&&(s+=vt),{angle:s,distance:i}}function d$(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ds(t){return(t%vt+vt)%vt}function vf(t,e,n,r){const i=Ds(t),s=Ds(e),o=Ds(n),a=Ds(s-i),l=Ds(o-i),u=Ds(i-s),h=Ds(i-o);return i===s||i===o||r&&s===o||a>l&&u<h}function kn(t,e,n){return Math.max(e,Math.min(n,t))}function f$(t){return kn(t,-32768,32767)}function Zs(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function s_(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Py=(t,e,n,r)=>s_(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),p$=(t,e,n)=>s_(t,n,r=>t[r][e]>=n);function m$(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const QR=["push","pop","shift","splice","unshift"];function g$(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),QR.forEach(n=>{const r="_onData"+i_(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function y1(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(QR.forEach(s=>{delete t[s]}),delete t._chartjs)}function y$(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const XR=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function JR(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,XR.call(window,()=>{r=!1,t.apply(e,n)}))}}function v$(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const ZR=t=>t==="start"?"left":t==="end"?"right":"center",bn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_$=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,bh=t=>t===0||t===1,v1=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*vt/n)),_1=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*vt/n)+1,wu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*St)+1,easeOutSine:t=>Math.sin(t*St),easeInOutSine:t=>-.5*(Math.cos(Dt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>bh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>bh(t)?t:v1(t,.075,.3),easeOutElastic:t=>bh(t)?t:_1(t,.075,.3),easeInOutElastic(t){return bh(t)?t:t<.5?.5*v1(t*2,.1125,.45):.5+.5*_1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-wu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?wu.easeInBounce(t*2)*.5:wu.easeOutBounce(t*2-1)*.5+.5};function ek(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function w1(t){return ek(t)?t:new oc(t)}function Fm(t){return ek(t)?t:new oc(t).saturate(.5).darken(.1).hexString()}const w$=["x","y","borderWidth","radius","tension"],E$=["color","borderColor","backgroundColor"];function x$(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:E$},numbers:{type:"number",properties:w$}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function T$(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const E1=new Map;function S$(t,e){e=e||{};const n=t+JSON.stringify(e);let r=E1.get(n);return r||(r=new Intl.NumberFormat(t,e),E1.set(n,r)),r}function tk(t,e,n){return S$(e,n).format(t)}const nk={values(t){return Rt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=C$(t,n)}const o=m1(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),tk(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(m1(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?nk.numeric.call(this,t,e,n):""}};function C$(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var b$={formatters:nk};function I$(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:b$.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _o=Object.create(null),Ay=Object.create(null);function Eu(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function jm(t,e,n){return typeof e=="string"?Mr(Eu(t,e),n):Mr(Eu(t,""),e)}class P${constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Fm(i.backgroundColor),this.hoverBorderColor=(r,i)=>Fm(i.borderColor),this.hoverColor=(r,i)=>Fm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return jm(this,e,n)}get(e){return Eu(this,e)}describe(e,n){return jm(Ay,e,n)}override(e,n){return jm(_o,e,n)}route(e,n,r,i){const s=Eu(this,e),o=Eu(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return be(l)?Object.assign({},u,l):Oe(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var ut=new P$({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[x$,T$,I$]);function A$(t){return!t||bt(t.size)||bt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function x1(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ms(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function T1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ry(t,e,n,r){rk(t,e,n,r,null)}function rk(t,e,n,r,i){let s,o,a,l,u,h,d,f;const m=e.pointStyle,g=e.rotation,_=e.radius;let T=(g||0)*u$;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(T),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),m){default:i?t.ellipse(n,r,i/2,_,0,0,vt):t.arc(n,r,_,0,vt),t.closePath();break;case"triangle":h=i?i/2:_,t.moveTo(n+Math.sin(T)*h,r-Math.cos(T)*_),T+=p1,t.lineTo(n+Math.sin(T)*h,r-Math.cos(T)*_),T+=p1,t.lineTo(n+Math.sin(T)*h,r-Math.cos(T)*_),t.closePath();break;case"rectRounded":u=_*.516,l=_-u,o=Math.cos(T+ks)*l,d=Math.cos(T+ks)*(i?i/2-u:l),a=Math.sin(T+ks)*l,f=Math.sin(T+ks)*(i?i/2-u:l),t.arc(n-d,r-a,u,T-Dt,T-St),t.arc(n+f,r-o,u,T-St,T),t.arc(n+d,r+a,u,T,T+St),t.arc(n-f,r+o,u,T+St,T+Dt),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*_,h=i?i/2:l,t.rect(n-h,r-l,2*h,2*l);break}T+=ks;case"rectRot":d=Math.cos(T)*(i?i/2:_),o=Math.cos(T)*_,a=Math.sin(T)*_,f=Math.sin(T)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":T+=ks;case"cross":d=Math.cos(T)*(i?i/2:_),o=Math.cos(T)*_,a=Math.sin(T)*_,f=Math.sin(T)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(T)*(i?i/2:_),o=Math.cos(T)*_,a=Math.sin(T)*_,f=Math.sin(T)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),T+=ks,d=Math.cos(T)*(i?i/2:_),o=Math.cos(T)*_,a=Math.sin(T)*_,f=Math.sin(T)*(i?i/2:_),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(T)*_,a=Math.sin(T)*_,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(T)*(i?i/2:_),r+Math.sin(T)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function o_(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function a_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function l_(t){t.restore()}function R$(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),bt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function k$(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,h=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function D$(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _f(t,e,n,r,i,s={}){const o=Rt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,R$(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&D$(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),bt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),k$(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function wf(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Dt,Dt,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Dt,St,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,St,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-St,!0),t.lineTo(n+o.topLeft,r)}const M$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,N$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function O$(t,e){const n=(""+t).match(M$);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const L$=t=>+t||0;function u_(t,e){const n={},r=be(e),i=r?Object.keys(e):e,s=be(t)?r?o=>Oe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=L$(s(o));return n}function ik(t){return u_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wa(t){return u_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Jn(t){const e=ik(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function un(t,e){t=t||{},e=e||ut.font;let n=Oe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Oe(t.style,e.style);r&&!(""+r).match(N$)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Oe(t.family,e.family),lineHeight:O$(Oe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Oe(t.weight,e.weight),string:""};return i.string=A$(i),i}function Xe(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e)),n!==void 0&&Rt(o)&&(o=o[n%o.length]),o!==void 0))return o}function V$(t,e,n){const{min:r,max:i}=t,s=GR(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ja(t,e){return Object.assign(Object.create(t),e)}function c_(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=lk("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>c_([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return ok(a,l,()=>W$(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return C1(a).includes(l)},ownKeys(a){return C1(a)},set(a,l,u){const h=a._storage||(a._storage=i());return a[l]=h[l]=u,delete a._keys,!0}})}function Ba(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:sk(t,r),setContext:s=>Ba(t,s,n,r),override:s=>Ba(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return ok(s,o,()=>j$(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function sk(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ds(n)?n:()=>n,isIndexable:ds(r)?r:()=>r}}const F$=(t,e)=>t?t+i_(e):e,h_=(t,e)=>be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ok(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function j$(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return ds(a)&&o.isScriptable(e)&&(a=U$(e,a,t,n)),Rt(a)&&a.length&&(a=B$(e,a,t,o.isIndexable)),h_(e,a)&&(a=Ba(a,i,s&&s[e],o)),a}function U$(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),h_(t,l)&&(l=d_(i._scopes,i,t,l)),l}function B$(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(be(e[0])){const l=e,u=i._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=d_(u,i,t,h);e.push(Ba(d,s,o&&o[t],a))}}return e}function ak(t,e,n){return ds(t)?t(e,n):t}const z$=(t,e)=>t===!0?e:typeof t=="string"?ac(e,t):void 0;function $$(t,e,n,r,i){for(const s of e){const o=z$(n,s);if(o){t.add(o);const a=ak(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function d_(t,e,n,r){const i=e._rootScopes,s=ak(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=S1(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=S1(a,o,s,l,r),l===null)?!1:c_(Array.from(a),[""],i,s,()=>H$(e,n,r))}function S1(t,e,n,r,i){for(;n;)n=$$(t,e,n,r,i);return n}function H$(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Rt(i)&&be(n)?n:i||{}}function W$(t,e,n,r){let i;for(const s of e)if(i=lk(F$(s,t),n),typeof i<"u")return h_(t,i)?d_(n,r,t,i):i}function lk(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function C1(t){let e=t._keys;return e||(e=t._keys=K$(t._scopes)),e}function K$(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function f_(){return typeof window<"u"&&typeof document<"u"}function p_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ef(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const xp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function G$(t,e){return xp(t).getPropertyValue(e)}const q$=["top","right","bottom","left"];function io(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=q$[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Y$=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Q$(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(Y$(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function zs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=xp(n),s=i.boxSizing==="border-box",o=io(i,"padding"),a=io(i,"border","width"),{x:l,y:u,box:h}=Q$(t,n),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:m,height:g}=e;return s&&(m-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/m*n.width/r),y:Math.round((u-f)/g*n.height/r)}}function X$(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&p_(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=xp(s),l=io(a,"border","width"),u=io(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=Ef(a.maxWidth,s,"clientWidth"),i=Ef(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||gf,maxHeight:i||gf}}const Ih=t=>Math.round(t*10)/10;function J$(t,e,n,r){const i=xp(t),s=io(i,"margin"),o=Ef(i.maxWidth,t,"clientWidth")||gf,a=Ef(i.maxHeight,t,"clientHeight")||gf,l=X$(t,e,n);let{width:u,height:h}=l;if(i.boxSizing==="content-box"){const f=io(i,"border","width"),m=io(i,"padding");u-=m.width+f.width,h-=m.height+f.height}return u=Math.max(0,u-s.width),h=Math.max(0,r?u/r:h-s.height),u=Ih(Math.min(u,o,l.maxWidth)),h=Ih(Math.min(h,a,l.maxHeight)),u&&!h&&(h=Ih(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&h>l.height&&(h=l.height,u=Ih(Math.floor(h*r))),{width:u,height:h}}function b1(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Z$=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};f_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function I1(t,e){const n=G$(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const eH=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},tH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ea(t,e,n){return t?eH(e,n):tH()}function uk(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function ck(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class nH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=XR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Br=new nH;const P1="transparent",rH={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=w1(t||P1),i=r.valid&&w1(e||P1);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class iH{constructor(e,n,r,i){const s=n[r];i=Xe([e.to,i,s,e.from]);const o=Xe([e.from,s,i]);this._active=!0,this._fn=e.fn||rH[e.type||typeof o],this._easing=wu[e.easing]||wu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Xe([e.to,n,i,e.from]),this._from=Xe([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class hk{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!be(e))return;const n=Object.keys(ut.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!be(s))return;const o={};for(const a of n)o[a]=s[a];(Rt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=oH(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&sH(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[u];let d=s[u];const f=r.get(u);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){e[u]=h;continue}s[u]=d=new iH(f,e,u,h),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Br.add(this._chart,r),!0}}function sH(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function oH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function A1(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function aH(t,e,n){if(n===!1)return!1;const r=A1(t,n),i=A1(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function lH(t){let e,n,r,i;return be(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function dk(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function R1(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,u;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}u=t.values[l],mi(u)&&(s||e===0||g1(e)===g1(u))&&(e+=u)}return e}}function uH(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,h;for(l=0,u=o.length;l<u;++l)h=o[l],a[l]={[i]:h,[s]:t[h]};return a}function k1(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function cH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function hH(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function dH(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function D1(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function M1(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,h=cH(s,o,r),d=e.length;let f;for(let m=0;m<d;++m){const g=e[m],{[l]:_,[u]:T}=g,w=g._stacks||(g._stacks={});f=w[u]=dH(i,h,_),f[a]=T,f._top=D1(f,o,!0,r.type),f._bottom=D1(f,o,!1,r.type);const v=f._visualValues||(f._visualValues={});v[a]=T}}function Um(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function fH(t,e){return Ja(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function pH(t,e,n){return Ja(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function kl(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Bm=t=>t==="reset"||t==="none",N1=(t,e)=>e?t:Object.assign({},t),mH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:dk(n,!0),values:null};class xu{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=k1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&kl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,m,g)=>d==="x"?f:d==="r"?g:m,s=n.xAxisID=Oe(r.xAxisID,Um(e,"x")),o=n.yAxisID=Oe(r.yAxisID,Um(e,"y")),a=n.rAxisID=Oe(r.rAxisID,Um(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),h=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&y1(this._data,this),e._stacked&&kl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(be(n)){const i=this._cachedMeta;this._data=uH(n,i)}else if(r!==n){if(r){y1(r,this);const i=this._cachedMeta;kl(i),i._parsed=[]}n&&Object.isExtensible(n)&&g$(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=k1(n.vScale,n),n.stack!==r.stack&&(i=!0,kl(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&M1(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],h,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{Rt(i[e])?f=this.parseArrayData(r,i,e,n):be(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const m=()=>d[a]===null||u&&d[a]<u[a];for(h=0;h<n;++h)r._parsed[h+e]=d=f[h],l&&(m()&&(l=!1),u=d);r._sorted=l}o&&M1(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),h=s===o,d=new Array(i);let f,m,g;for(f=0,m=i;f<m;++f)g=f+r,d[f]={[a]:h||s.parse(u[g],g),[l]:o.parse(n[g],g)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,h,d;for(l=0,u=i;l<u;++l)h=l+r,d=n[h],a[l]={x:s.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let h,d,f,m;for(h=0,d=i;h<d;++h)f=h+r,m=n[f],u[h]={x:s.parse(ac(m,a),f),y:o.parse(ac(m,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:dk(i,!0),values:n._stacks[e.axis]._visualValues};return R1(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=R1(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=mH(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=hH(a);let f,m;function g(){m=i[f];const _=m[a.axis];return!mi(m[e.axis])||h>_||d<_}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(u,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],mi(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=lH(Oe(this.options.clip,aH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const d=i[h];d.hidden||(d.active&&u?o.push(d):d.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=pH(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=fH(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&mf(r);if(a)return N1(a,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),h),m=Object.keys(ut.elements[e]),g=()=>this.getContext(r,i,n),_=u.resolveNamedOptions(f,m,g,d);return _.$shared&&(_.$shared=l,s[o]=Object.freeze(N1(_,l))),_}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,r,n))}const u=new hk(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Bm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Bm(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Bm(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&kl(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}le(xu,"defaults",{}),le(xu,"datasetElementType",null),le(xu,"dataElementType",null);function gH(t,e,n){let r=1,i=1,s=0,o=0;if(e<vt){const a=t,l=a+e,u=Math.cos(a),h=Math.sin(a),d=Math.cos(l),f=Math.sin(l),m=(x,k,L)=>vf(x,a,l,!0)?1:Math.max(k,k*n,L,L*n),g=(x,k,L)=>vf(x,a,l,!0)?-1:Math.min(k,k*n,L,L*n),_=m(0,u,d),T=m(St,h,f),w=g(Dt,u,d),v=g(Dt+St,h,f);r=(_-w)/2,i=(T-v)/2,s=-(_+w)/2,o=-(T+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Xl extends xu{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(be(r[e])){const{key:l="value"}=this._parsing;s=u=>+ac(r[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Js(this.options.rotation-90)}_getCircumference(){return Js(this.options.circumference)}_getRotationExtents(){let e=vt,n=-vt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(r$(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:_}=gH(d,h,l),T=(r.width-o)/f,w=(r.height-o)/m,v=Math.max(Math.min(T,w)/2,0),x=GR(this.options.radius,v),k=Math.max(x*l,0),L=(x-k)/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=_*x,i.total=this.calculateTotal(),this.outerRadius=x-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/vt)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,h=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&u.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:_,includeOptions:T}=this._getSharedOptions(n,i);let w=this._getRotation(),v;for(v=0;v<n;++v)w+=this._circumference(v,s);for(v=n;v<n+r;++v){const x=this._circumference(v,s),k=e[v],L={x:h+this.offsetX,y:d+this.offsetY,startAngle:w,endAngle:w+x,circumference:x,outerRadius:g,innerRadius:m};T&&(L.options=_||this.resolveDataElementOptions(v,k.active?"active":i)),w+=x,this.updateElement(k,v,L,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?vt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=tk(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}le(Xl,"id","doughnut"),le(Xl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),le(Xl,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),le(Xl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class ky extends Xl{}le(ky,"id","pie"),le(ky,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ns(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class m_{constructor(e){le(this,"options");this.options=e||{}}static override(e){Object.assign(m_.prototype,e)}init(){}formats(){return Ns()}parse(){return Ns()}format(){return Ns()}add(){return Ns()}diff(){return Ns()}startOf(){return Ns()}endOf(){return Ns()}}var yH={_date:m_};function vH(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?p$:Py;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=l(s,e,n-h),f=l(s,e,n+h);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Lc(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:h}=s[a],{lo:d,hi:f}=vH(s[a],e,o,i);for(let m=d;m<=f;++m){const g=h[m];g.skip||r(g,u,m)}}}function _H(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function zm(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Lc(t,n,e,function(a,l,u){!i&&!o_(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function wH(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],r),{angle:d}=YR(o,{x:e.x,y:e.y});vf(d,u,h)&&i.push({element:o,datasetIndex:a,index:l})}return Lc(t,n,e,s),i}function EH(t,e,n,r,i,s){let o=[];const a=_H(n);let l=Number.POSITIVE_INFINITY;function u(h,d,f){const m=h.inRange(e.x,e.y,i);if(r&&!m)return;const g=h.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!m)return;const T=a(e,g);T<l?(o=[{element:h,datasetIndex:d,index:f}],l=T):T===l&&o.push({element:h,datasetIndex:d,index:f})}return Lc(t,n,e,u),o}function $m(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?wH(t,e,n,i):EH(t,e,n,r,i,s)}function O1(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Lc(t,n,e,(l,u,h)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:u,index:h}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var xH={evaluateInteractionItems:Lc,modes:{index(t,e,n,r){const i=zs(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?zm(t,i,s,r,o):$m(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=a[0].index,d=u.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:h})}),l):[]},dataset(t,e,n,r){const i=zs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?zm(t,i,s,r,o):$m(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let h=0;h<u.length;++h)a.push({element:u[h],datasetIndex:l,index:h})}return a},point(t,e,n,r){const i=zs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return zm(t,i,s,r,o)},nearest(t,e,n,r){const i=zs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return $m(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=zs(e,t);return O1(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=zs(e,t);return O1(t,i,"y",n.intersect,r)}}};const fk=["left","top","right","bottom"];function Dl(t,e){return t.filter(n=>n.pos===e)}function L1(t,e){return t.filter(n=>fk.indexOf(n.pos)===-1&&n.box.axis===e)}function Ml(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function TH(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function SH(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!fk.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function CH(t,e){const n=SH(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],h=u&&a.stackWeight/u.weight;a.horizontal?(a.width=h?h*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=h?h*i:l&&e.availableHeight)}return n}function bH(t){const e=TH(t),n=Ml(e.filter(u=>u.box.fullSize),!0),r=Ml(Dl(e,"left"),!0),i=Ml(Dl(e,"right")),s=Ml(Dl(e,"top"),!0),o=Ml(Dl(e,"bottom")),a=L1(e,"x"),l=L1(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Dl(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function V1(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function pk(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function IH(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!be(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&pk(o,s.getPadding());const a=Math.max(0,e.outerWidth-V1(o,t,"left","right")),l=Math.max(0,e.outerHeight-V1(o,t,"top","bottom")),u=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:h}:{same:h,other:u}}function PH(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function AH(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Jl(t,e,n,r){const i=[];let s,o,a,l,u,h;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,AH(a.horizontal,e));const{same:d,other:f}=IH(e,n,a,r);u|=d&&i.length,h=h||f,l.fullSize||i.push(a)}return u&&Jl(i,e,n,r)||h}function Ph(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function F1(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*h,f=u.size||l.height;mf(u.start)&&(o=u.start),l.fullSize?Ph(l,i.left,o,n.outerWidth-i.right-i.left,f):Ph(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*h,f=u.size||l.width;mf(u.start)&&(s=u.start),l.fullSize?Ph(l,s,i.top,f,n.outerHeight-i.bottom-i.top):Ph(l,s,e.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=o}var zi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Jn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=bH(t.boxes),l=a.vertical,u=a.horizontal;Ne(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const h=l.reduce((_,T)=>T.box.options&&T.box.options.display===!1?_:_+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},i);pk(f,Jn(r));const m=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),g=CH(l.concat(u),d);Jl(a.fullSize,m,d,g),Jl(l,m,d,g),Jl(u,m,d,g)&&Jl(l,m,d,g),PH(m),F1(a.leftAndTop,m,d,g),m.x+=m.w,m.y+=m.h,F1(a.rightAndBottom,m,d,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ne(a.chartArea,_=>{const T=_.box;Object.assign(T,t.chartArea),T.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class mk{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class RH extends mk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const dd="$chartjs",kH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},j1=t=>t===null||t==="";function DH(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[dd]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",j1(i)){const s=I1(t,"width");s!==void 0&&(t.width=s)}if(j1(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=I1(t,"height");s!==void 0&&(t.height=s)}return t}const gk=Z$?{passive:!0}:!1;function MH(t,e,n){t&&t.addEventListener(e,n,gk)}function NH(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,gk)}function OH(t,e){const n=kH[t.type]||t.type,{x:r,y:i}=zs(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function xf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function LH(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||xf(a.addedNodes,r),o=o&&!xf(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function VH(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||xf(a.removedNodes,r),o=o&&!xf(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const lc=new Map;let U1=0;function yk(){const t=window.devicePixelRatio;t!==U1&&(U1=t,lc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function FH(t,e){lc.size||window.addEventListener("resize",yk),lc.set(t,e)}function jH(t){lc.delete(t),lc.size||window.removeEventListener("resize",yk)}function UH(t,e,n){const r=t.canvas,i=r&&p_(r);if(!i)return;const s=JR((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||s(u,h)});return o.observe(i),FH(t,s),o}function Hm(t,e,n){n&&n.disconnect(),e==="resize"&&jH(t)}function BH(t,e,n){const r=t.canvas,i=JR(s=>{t.ctx!==null&&n(OH(s,t))},t);return MH(r,e,i),i}class zH extends mk{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(DH(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[dd])return!1;const r=n[dd].initial;["height","width"].forEach(s=>{const o=r[s];bt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[dd],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:LH,detach:VH,resize:UH}[n]||BH;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Hm,detach:Hm,resize:Hm}[n]||NH)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return J$(e,n,r,i)}isAttached(e){const n=e&&p_(e);return!!(n&&n.isConnected)}}function $H(t){return!f_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?RH:zH}var Uh;let bo=(Uh=class{constructor(){le(this,"x");le(this,"y");le(this,"active",!1);le(this,"options");le(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return yf(this.x)&&yf(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},le(Uh,"defaults",{}),le(Uh,"defaultRoutes"),Uh);function HH(t,e){const n=t.options.ticks,r=WH(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?GH(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return qH(e,u,s,o/i),u;const h=KH(s,e,i);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(Ah(e,u,h,bt(m)?0:a-m,a),d=0,f=o-1;d<f;d++)Ah(e,u,h,s[d],s[d+1]);return Ah(e,u,h,l,bt(m)?e.length:l+m),u}return Ah(e,u,h),u}function WH(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function KH(t,e,n){const r=YH(t),i=e.length/n;if(!r)return Math.max(i,1);const s=c$(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function GH(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function qH(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Ah(t,e,n,r,i){const s=Oe(r,0),o=Math.min(Oe(i,t.length),t.length);let a=0,l,u,h;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===h&&(e.push(t[u]),a++,h=Math.round(s+a*n))}function YH(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const QH=t=>t==="left"?"right":t==="right"?"left":t,B1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,z1=(t,e)=>Math.min(e||t,t);function $1(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function XH(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function JH(t,e){Ne(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Nl(t){return t.drawTicks?t.tickLength:0}function H1(t,e){if(!t.display)return 0;const n=un(t.font,e),r=Jn(t.padding);return(Rt(t.text)?t.text.length:1)*n.lineHeight+r.height}function ZH(t,e){return Ja(t,{scale:e,type:"scale"})}function e7(t,e,n){return Ja(t,{tick:n,index:e,type:"tick"})}function t7(t,e,n){let r=ZR(t);return(n&&e!=="right"||!n&&e==="right")&&(r=QH(r)),r}function n7(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:h}=l;let d=0,f,m,g;const _=o-i,T=a-s;if(t.isHorizontal()){if(m=bn(r,s,a),be(n)){const w=Object.keys(n)[0],v=n[w];g=h[w].getPixelForValue(v)+_-e}else n==="center"?g=(u.bottom+u.top)/2+_-e:g=B1(t,n,e);f=a-s}else{if(be(n)){const w=Object.keys(n)[0],v=n[w];m=h[w].getPixelForValue(v)-T+e}else n==="center"?m=(u.left+u.right)/2-T+e:m=B1(t,n,e);g=bn(r,o,i),d=n==="left"?-St:St}return{titleX:m,titleY:g,maxWidth:f,rotation:d}}class Tp extends bo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=vr(e,Number.POSITIVE_INFINITY),n=vr(n,Number.NEGATIVE_INFINITY),r=vr(r,Number.POSITIVE_INFINITY),i=vr(i,Number.NEGATIVE_INFINITY),{min:vr(e,r),max:vr(n,i),minDefined:mi(e),maxDefined:mi(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:vr(n,vr(r,n)),max:vr(r,vr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=V$(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?$1(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=HH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Be(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=z1(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,m=kn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),d+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-Nl(e.grid)-n.padding-H1(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=h$(Math.min(Math.asin(kn((h.highest.height+6)/a,-1,1)),Math.asin(kn(l/u,-1,1))-Math.asin(kn(f/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=H1(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Nl(s)+l):(e.height=this.maxHeight,e.width=Nl(s)+l),r.display&&this.ticks.length){const{first:u,last:h,widest:d,highest:f}=this._getLabelSizes(),m=r.padding*2,g=Js(this.labelRotation),_=Math.cos(g),T=Math.sin(g);if(a){const w=r.mirror?0:T*d.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+w+m)}else{const w=r.mirror?0:_*d.width+T*f.height;e.width=Math.min(this.maxWidth,e.width+w+m)}this._calculatePadding(u,h,T,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?u?(f=i*e.width,m=r*n.height):(f=r*e.height,m=i*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let h=n.height/2,d=e.height/2;s==="start"?(h=0,d=e.height):s==="end"&&(h=n.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)bt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=$1(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/z1(n,r));let u=0,h=0,d,f,m,g,_,T,w,v,x,k,L;for(d=0;d<n;d+=l){if(g=e[d].label,_=this._resolveTickFontOptions(d),i.font=T=_.string,w=s[T]=s[T]||{data:{},gc:[]},v=_.lineHeight,x=k=0,!bt(g)&&!Rt(g))x=x1(i,w.data,w.gc,x,g),k=v;else if(Rt(g))for(f=0,m=g.length;f<m;++f)L=g[f],!bt(L)&&!Rt(L)&&(x=x1(i,w.data,w.gc,x,L),k+=v);o.push(x),a.push(k),u=Math.max(x,u),h=Math.max(k,h)}JH(s,n);const A=o.indexOf(u),b=a.indexOf(h),E=C=>({width:o[C]||0,height:a[C]||0});return{first:E(0),last:E(n-1),widest:E(A),highest:E(b),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return f$(this._alignToPixels?Ms(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=e7(this.getContext(),e,r))}return this.$context||(this.$context=ZH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Js(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Nl(s),m=[],g=a.setContext(this.getContext()),_=g.display?g.width:0,T=_/2,w=function(he){return Ms(r,he,_)};let v,x,k,L,A,b,E,C,P,D,M,R;if(o==="top")v=w(this.bottom),b=this.bottom-f,C=v-T,D=w(e.top)+T,R=e.bottom;else if(o==="bottom")v=w(this.top),D=e.top,R=w(e.bottom)-T,b=v+T,C=this.top+f;else if(o==="left")v=w(this.right),A=this.right-f,E=v-T,P=w(e.left)+T,M=e.right;else if(o==="right")v=w(this.left),P=e.left,M=w(e.right)-T,A=v+T,E=this.left+f;else if(n==="x"){if(o==="center")v=w((e.top+e.bottom)/2+.5);else if(be(o)){const he=Object.keys(o)[0],te=o[he];v=w(this.chart.scales[he].getPixelForValue(te))}D=e.top,R=e.bottom,b=v+T,C=b+f}else if(n==="y"){if(o==="center")v=w((e.left+e.right)/2);else if(be(o)){const he=Object.keys(o)[0],te=o[he];v=w(this.chart.scales[he].getPixelForValue(te))}A=v-T,E=A-f,P=e.left,M=e.right}const ae=Oe(i.ticks.maxTicksLimit,d),ee=Math.max(1,Math.ceil(d/ae));for(x=0;x<d;x+=ee){const he=this.getContext(x),te=s.setContext(he),W=a.setContext(he),Y=te.lineWidth,ne=te.color,we=W.dash||[],ge=W.dashOffset,Ie=te.tickWidth,je=te.tickColor,Ze=te.tickBorderDash||[],We=te.tickBorderDashOffset;k=XH(this,x,l),k!==void 0&&(L=Ms(r,k,Y),u?A=E=P=M=L:b=C=D=R=L,m.push({tx1:A,ty1:b,tx2:E,ty2:C,x1:P,y1:D,x2:M,y2:R,width:Y,color:ne,borderDash:we,borderDashOffset:ge,tickWidth:Ie,tickColor:je,tickBorderDash:Ze,tickBorderDashOffset:We}))}return this._ticksLength=d,this._borderValue=v,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:h,mirror:d}=s,f=Nl(r.grid),m=f+h,g=d?-h:m,_=-Js(this.labelRotation),T=[];let w,v,x,k,L,A,b,E,C,P,D,M,R="middle";if(i==="top")A=this.bottom-g,b=this._getXAxisLabelAlignment();else if(i==="bottom")A=this.top+g,b=this._getXAxisLabelAlignment();else if(i==="left"){const ee=this._getYAxisLabelAlignment(f);b=ee.textAlign,L=ee.x}else if(i==="right"){const ee=this._getYAxisLabelAlignment(f);b=ee.textAlign,L=ee.x}else if(n==="x"){if(i==="center")A=(e.top+e.bottom)/2+m;else if(be(i)){const ee=Object.keys(i)[0],he=i[ee];A=this.chart.scales[ee].getPixelForValue(he)+m}b=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")L=(e.left+e.right)/2-m;else if(be(i)){const ee=Object.keys(i)[0],he=i[ee];L=this.chart.scales[ee].getPixelForValue(he)}b=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const ae=this._getLabelSizes();for(w=0,v=a.length;w<v;++w){x=a[w],k=x.label;const ee=s.setContext(this.getContext(w));E=this.getPixelForTick(w)+s.labelOffset,C=this._resolveTickFontOptions(w),P=C.lineHeight,D=Rt(k)?k.length:1;const he=D/2,te=ee.color,W=ee.textStrokeColor,Y=ee.textStrokeWidth;let ne=b;o?(L=E,b==="inner"&&(w===v-1?ne=this.options.reverse?"left":"right":w===0?ne=this.options.reverse?"right":"left":ne="center"),i==="top"?u==="near"||_!==0?M=-D*P+P/2:u==="center"?M=-ae.highest.height/2-he*P+P:M=-ae.highest.height+P/2:u==="near"||_!==0?M=P/2:u==="center"?M=ae.highest.height/2-he*P:M=ae.highest.height-D*P,d&&(M*=-1),_!==0&&!ee.showLabelBackdrop&&(L+=P/2*Math.sin(_))):(A=E,M=(1-D)*P/2);let we;if(ee.showLabelBackdrop){const ge=Jn(ee.backdropPadding),Ie=ae.heights[w],je=ae.widths[w];let Ze=M-ge.top,We=0-ge.left;switch(R){case"middle":Ze-=Ie/2;break;case"bottom":Ze-=Ie;break}switch(b){case"center":We-=je/2;break;case"right":We-=je;break;case"inner":w===v-1?We-=je:w>0&&(We-=je/2);break}we={left:We,top:Ze,width:je+ge.width,height:Ie+ge.height,color:ee.backdropColor}}T.push({label:k,font:C,textOffset:M,options:{rotation:_,color:te,strokeColor:W,strokeWidth:Y,textAlign:ne,textBaseline:R,translation:[L,A],backdrop:we}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Js(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,h;return n==="left"?i?(h=this.right+s,r==="near"?u="left":r==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-a,r==="near"?u="right":r==="center"?(u="center",h-=l/2):(u="left",h=this.left)):n==="right"?i?(h=this.left+s,r==="near"?u="right":r==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+a,r==="near"?u="left":r==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,d,f;this.isHorizontal()?(u=Ms(e,this.left,o)-o/2,h=Ms(e,this.right,a)+a/2,d=f=l):(d=Ms(e,this.top,o)-o/2,f=Ms(e,this.bottom,a)+a/2,u=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&a_(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,h=o.textOffset;_f(r,u,0,h,l,a)}i&&l_(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=un(r.font),o=Jn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||be(n)?(l+=o.bottom,Rt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:h,maxWidth:d,rotation:f}=n7(this,l,n,a);_f(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:t7(a,n,i),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Oe(e.grid&&e.grid.z,-1),i=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Tp.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return un(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rh{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;s7(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,r7(e,o,r),this.override&&ut.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in ut[i]&&(delete ut[i][r],this.override&&delete _o[r])}}function r7(t,e,n){const r=Mr(Object.create(null),[n?ut.get(n):{},ut.get(e),t.defaults]);ut.set(e,r),t.defaultRoutes&&i7(e,t.defaultRoutes),t.descriptors&&ut.describe(e,t.descriptors)}function i7(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ut.route(s,i,l,a)})}function s7(t){return"id"in t&&"defaults"in t}class o7{constructor(){this.controllers=new Rh(xu,"datasets",!0),this.elements=new Rh(bo,"elements"),this.plugins=new Rh(Object,"plugins"),this.scales=new Rh(Tp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Ne(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=i_(e);Be(r["before"+i],[],r),n[e](r),Be(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Er=new o7;class a7{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Be(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Oe(r.options&&r.options.plugins,{}),s=l7(r);return i===!1&&!n?[]:c7(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function l7(t){const e={},n=[],r=Object.keys(Er.plugins.items);for(let s=0;s<r.length;s++)n.push(Er.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function u7(t,e){return!e&&t===!1?null:t===!0?{}:t}function c7(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=u7(r[l],i);u!==null&&s.push({plugin:a,options:h7(t.config,{plugin:a,local:n[l]},u,o)})}return s}function h7(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dy(t,e){const n=ut.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function d7(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function f7(t,e){return t===e?"_index_":"_value_"}function W1(t){if(t==="x"||t==="y"||t==="r")return t}function p7(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function My(t,...e){if(W1(t))return t;for(const n of e){const r=n.axis||p7(n.position)||t.length>1&&W1(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function K1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function m7(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return K1(t,"x",n[0])||K1(t,"y",n[0])}return{}}function g7(t,e){const n=_o[t.type]||{scales:{}},r=e.scales||{},i=Dy(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!be(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=My(o,a,m7(o,t),ut.scales[a.type]),u=f7(l,i),h=n.scales||{};s[o]=_u(Object.create(null),[{axis:l},a,h[l],h[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Dy(a,e),h=(_o[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=d7(d,l),m=o[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),_u(s[m],[{axis:f},r[m],h[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];_u(a,[ut.scales[a.type],ut.scale])}),s}function vk(t){const e=t.options||(t.options={});e.plugins=Oe(e.plugins,{}),e.scales=g7(t,e)}function _k(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function y7(t){return t=t||{},t.data=_k(t.data),vk(t),t}const G1=new Map,wk=new Set;function kh(t,e){let n=G1.get(t);return n||(n=e(),G1.set(t,n),wk.add(n)),n}const Ol=(t,e,n)=>{const r=ac(e,n);r!==void 0&&t.add(r)};class v7{constructor(e){this._config=y7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=_k(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return kh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return kh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return kh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(d=>Ol(l,e,d))),h.forEach(d=>Ol(l,i,d)),h.forEach(d=>Ol(l,_o[s]||{},d)),h.forEach(d=>Ol(l,ut,d)),h.forEach(d=>Ol(l,Ay,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),wk.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,_o[n]||{},ut.datasets[n]||{},{type:n},ut,Ay]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=q1(this._resolverCache,e,i);let l=o;if(w7(o,n)){s.$shared=!1,r=ds(r)?r():r;const u=this.createResolver(e,r,a);l=Ba(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=q1(this._resolverCache,e,r);return be(n)?Ba(s,n,void 0,i):s}}function q1(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:c_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const _7=t=>be(t)&&Object.getOwnPropertyNames(t).some(e=>ds(t[e]));function w7(t,e){const{isScriptable:n,isIndexable:r}=sk(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(ds(a)||_7(a))||o&&Rt(a))return!0}return!1}var E7="4.4.3";const x7=["top","bottom","left","right","chartArea"];function Y1(t,e){return t==="top"||t==="bottom"||x7.indexOf(t)===-1&&e==="x"}function Q1(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function X1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Be(n&&n.onComplete,[t],e)}function T7(t){const e=t.chart,n=e.options.animation;Be(n&&n.onProgress,[t],e)}function Ek(t){return f_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const fd={},J1=t=>{const e=Ek(t);return Object.values(fd).filter(n=>n.canvas===e).pop()};function S7(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function C7(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Dh(t,e,n){return t.options.clip?t[n]:e[n]}function b7(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Dh(n,e,"left"),right:Dh(n,e,"right"),top:Dh(r,e,"top"),bottom:Dh(r,e,"bottom")}:e}class Kr{static register(...e){Er.add(...e),Z1()}static unregister(...e){Er.remove(...e),Z1()}constructor(e,n){const r=this.config=new v7(n),i=Ek(e),s=J1(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||$H(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,h=l&&l.width;if(this.id=n$(),this.ctx=a,this.canvas=l,this.width=h,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new a7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v$(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],fd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",X1),Br.listen(this,"progress",T7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return bt(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():b1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return T1(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(e,n){Br.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,b1(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Be(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ne(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=My(o,a),u=l==="r",h=l==="x";return{options:a,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Ne(s,o=>{const a=o.options,l=a.id,u=My(l,a),h=Oe(a.type,o.dtype);(a.position===void 0||Y1(a.position,u)!==Y1(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===h)d=r[l];else{const f=Er.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),Ne(i,(o,a)=>{o||delete r[a]}),Ne(r,o=>{zi.configure(this,o,o.options),zi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Q1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Dy(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Er.getController(a),{datasetElementType:u,dataElementType:h}=ut.datasets[a];Object.assign(l,{dataElementType:Er.getElement(h),datasetElementType:u&&Er.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ne(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:d}=this.getDatasetMeta(u),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Ne(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Q1("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ne(this.scales,e=>{zi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!f1(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;S7(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!f1(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ne(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ds(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),X1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=b7(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&a_(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&l_(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return o_(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=xH.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ja(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);mf(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Br.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),T1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete fd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ne(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ne(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ne(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ff(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(h=>!u.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=l$(e),u=C7(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Be(s.onHover,[e,a,this],this),l&&Be(s.onClick,[e,a,this],this));const h=!ff(a,i);return(h||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,h}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}le(Kr,"defaults",ut),le(Kr,"instances",fd),le(Kr,"overrides",_o),le(Kr,"registry",Er),le(Kr,"version",E7),le(Kr,"getChart",J1);function Z1(){return Ne(Kr.instances,t=>t._plugins.invalidate())}function I7(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let u=i/a;t.beginPath(),t.arc(s,o,a,r-u,n+u),l>i?(u=i/l,t.arc(s,o,l,n+u,r-u,!0)):t.arc(s,o,i,n+St,r-St),t.closePath(),t.clip()}function P7(t){return u_(t,["outerStart","outerEnd","innerStart","innerEnd"])}function A7(t,e,n,r){const i=P7(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const u=(n-Math.min(s,l))*r/2;return kn(l,0,Math.min(s,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:kn(i.innerStart,0,o),innerEnd:kn(i.innerEnd,0,o)}}function zo(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Tf(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:h}=e,d=Math.max(e.outerRadius+r+n-u,0),f=h>0?h+r+n+u:0;let m=0;const g=i-l;if(r){const ee=h>0?h-r:0,he=d>0?d-r:0,te=(ee+he)/2,W=te!==0?g*te/(te+r):g;m=(g-W)/2}const _=Math.max(.001,g*d-n/Dt)/d,T=(g-_)/2,w=l+T+m,v=i-T-m,{outerStart:x,outerEnd:k,innerStart:L,innerEnd:A}=A7(e,f,d,v-w),b=d-x,E=d-k,C=w+x/b,P=v-k/E,D=f+L,M=f+A,R=w+L/D,ae=v-A/M;if(t.beginPath(),s){const ee=(C+P)/2;if(t.arc(o,a,d,C,ee),t.arc(o,a,d,ee,P),k>0){const Y=zo(E,P,o,a);t.arc(Y.x,Y.y,k,P,v+St)}const he=zo(M,v,o,a);if(t.lineTo(he.x,he.y),A>0){const Y=zo(M,ae,o,a);t.arc(Y.x,Y.y,A,v+St,ae+Math.PI)}const te=(v-A/f+(w+L/f))/2;if(t.arc(o,a,f,v-A/f,te,!0),t.arc(o,a,f,te,w+L/f,!0),L>0){const Y=zo(D,R,o,a);t.arc(Y.x,Y.y,L,R+Math.PI,w-St)}const W=zo(b,w,o,a);if(t.lineTo(W.x,W.y),x>0){const Y=zo(b,C,o,a);t.arc(Y.x,Y.y,x,w-St,C)}}else{t.moveTo(o,a);const ee=Math.cos(C)*d+o,he=Math.sin(C)*d+a;t.lineTo(ee,he);const te=Math.cos(P)*d+o,W=Math.sin(P)*d+a;t.lineTo(te,W)}t.closePath()}function R7(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Tf(t,e,n,r,l,i);for(let u=0;u<s;++u)t.fill();isNaN(a)||(l=o+(a%vt||vt))}return Tf(t,e,n,r,l,i),t.fill(),l}function k7(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:h,borderDash:d,borderDashOffset:f}=l,m=l.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=f,m?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let g=e.endAngle;if(s){Tf(t,e,n,r,g,i);for(let _=0;_<s;++_)t.stroke();isNaN(a)||(g=o+(a%vt||vt))}m&&I7(t,e,g),s||(Tf(t,e,n,r,g,i),t.stroke())}class ua extends bo{constructor(n){super();le(this,"circumference");le(this,"endAngle");le(this,"fullCircles");le(this,"innerRadius");le(this,"outerRadius");le(this,"pixelMargin");le(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=YR(s,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,_=Oe(f,u-l)>=vt||vf(o,l,u),T=Zs(a,h+m,d+m);return _&&T}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:h}=this.options,d=(s+o)/2,f=(a+l+h+u)/2;return{x:r+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>vt?Math.floor(i/vt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(Dt,i||0)),h=s*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,R7(n,this,h,o,a),k7(n,this,h,o,a),n.restore()}}le(ua,"id","arc"),le(ua,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),le(ua,"defaultRoutes",{backgroundColor:"backgroundColor"}),le(ua,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function eS(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class pd extends bo{constructor(n){super();le(this,"parsed");le(this,"skip");le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return eS(this,n,"x",r)}inYRange(n,r){return eS(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!o_(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Ry(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}le(pd,"id","point"),le(pd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),le(pd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xk(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,h,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),u=r-d,h=r+d):(d=s/2,a=n-d,l=n+d,u=Math.min(r,i),h=Math.max(r,i)),{left:a,top:u,right:l,bottom:h}}function $i(t,e,n,r){return t?0:kn(e,n,r)}function D7(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=ik(r);return{t:$i(i.top,s.top,0,n),r:$i(i.right,s.right,0,e),b:$i(i.bottom,s.bottom,0,n),l:$i(i.left,s.left,0,e)}}function M7(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=wa(i),o=Math.min(e,n),a=t.borderSkipped,l=r||be(i);return{topLeft:$i(!l||a.top||a.left,s.topLeft,0,o),topRight:$i(!l||a.top||a.right,s.topRight,0,o),bottomLeft:$i(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:$i(!l||a.bottom||a.right,s.bottomRight,0,o)}}function N7(t){const e=xk(t),n=e.right-e.left,r=e.bottom-e.top,i=D7(t,n/2,r/2),s=M7(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Wm(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&xk(t,r);return a&&(i||Zs(e,a.left,a.right))&&(s||Zs(n,a.top,a.bottom))}function O7(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function L7(t,e){t.rect(e.x,e.y,e.w,e.h)}function Km(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class md extends bo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=N7(this),a=O7(o.radius)?wf:L7;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Km(o,n,s)),e.clip(),a(e,Km(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,Km(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return Wm(this,e,n,r)}inXRange(e,n){return Wm(this,e,null,n)}inYRange(e,n){return Wm(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}le(md,"id","bar"),le(md,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),le(md,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const tS=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},V7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class nS extends bo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=un(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=tS(r,s);let u,h;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,m=-h;return this.legendItems.forEach((g,_)=>{const T=r+n/2+s.measureText(g.text).width;(_===0||u[u.length-1]+T+2*a>o)&&(d+=h,u[u.length-(_>0?0:1)]=0,m+=h,f++),l[_]={left:0,top:m,row:f,width:T,height:i},u[u.length-1]+=T+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-e;let d=a,f=0,m=0,g=0,_=0;return this.legendItems.forEach((T,w)=>{const{itemWidth:v,itemHeight:x}=F7(r,n,s,T,i);w>0&&m+x+2*a>h&&(d+=f+a,u.push({width:f,height:m}),g+=f+a,_++,f=m=0),l[w]={left:g,top:m,col:_,width:v,height:x},f=Math.max(f,v),m+=x+a}),d+=f,u.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Ea(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=bn(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=bn(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=bn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=bn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;a_(e,this),this._draw(),l_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=ut.color,l=Ea(e.rtl,this.left,this.width),u=un(o.font),{padding:h}=o,d=u.size,f=d/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:g,boxHeight:_,itemHeight:T}=tS(o,d),w=function(A,b,E){if(isNaN(g)||g<=0||isNaN(_)||_<0)return;i.save();const C=Oe(E.lineWidth,1);if(i.fillStyle=Oe(E.fillStyle,a),i.lineCap=Oe(E.lineCap,"butt"),i.lineDashOffset=Oe(E.lineDashOffset,0),i.lineJoin=Oe(E.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=Oe(E.strokeStyle,a),i.setLineDash(Oe(E.lineDash,[])),o.usePointStyle){const P={radius:_*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:C},D=l.xPlus(A,g/2),M=b+f;rk(i,P,D,M,o.pointStyleWidth&&g)}else{const P=b+Math.max((d-_)/2,0),D=l.leftForLtr(A,g),M=wa(E.borderRadius);i.beginPath(),Object.values(M).some(R=>R!==0)?wf(i,{x:D,y:P,w:g,h:_,radius:M}):i.rect(D,P,g,_),i.fill(),C!==0&&i.stroke()}i.restore()},v=function(A,b,E){_f(i,E.text,A,b+T/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},x=this.isHorizontal(),k=this._computeTitleHeight();x?m={x:bn(s,this.left+h,this.right-r[0]),y:this.top+h+k,line:0}:m={x:this.left+h,y:bn(s,this.top+k+h,this.bottom-n[0].height),line:0},uk(this.ctx,e.textDirection);const L=T+h;this.legendItems.forEach((A,b)=>{i.strokeStyle=A.fontColor,i.fillStyle=A.fontColor;const E=i.measureText(A.text).width,C=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),P=g+f+E;let D=m.x,M=m.y;l.setWidth(this.width),x?b>0&&D+P+h>this.right&&(M=m.y+=L,m.line++,D=m.x=bn(s,this.left+h,this.right-r[m.line])):b>0&&M+L>this.bottom&&(D=m.x=D+n[m.line].width+h,m.line++,M=m.y=bn(s,this.top+k+h,this.bottom-n[m.line].height));const R=l.x(D);if(w(R,M,A),D=_$(C,D+g+f,x?D+P:this.right,e.rtl),v(l.x(D),M,A),x)m.x+=P+h;else if(typeof A.text!="string"){const ae=u.lineHeight;m.y+=Tk(A,ae)+h}else m.y+=L}),ck(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=un(n.font),i=Jn(n.padding);if(!n.display)return;const s=Ea(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+u,d=bn(e.align,d,this.right-f);else{const g=this.columnSizes.reduce((_,T)=>Math.max(_,T.height),0);h=u+bn(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=bn(a,d,d+f);o.textAlign=s.textAlign(ZR(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,_f(o,n.text,m,h,r)}_computeTitleHeight(){const e=this.options.title,n=un(e.font),r=Jn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Zs(e,this.left,this.right)&&Zs(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Zs(e,i.left,i.left+i.width)&&Zs(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!B7(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=V7(i,r);i&&!s&&Be(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Be(n.onHover,[e,r,this],this)}else r&&Be(n.onClick,[e,r,this],this)}}function F7(t,e,n,r,i){const s=j7(r,t,e,n),o=U7(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function j7(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function U7(t,e,n){let r=t;return typeof e.text!="string"&&(r=Tk(e,n)),r}function Tk(t,e){const n=t.text?t.text.length:0;return e*n}function B7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var z7={id:"legend",_element:nS,start(t,e,n){const r=t.legend=new nS({ctx:t.ctx,options:n,chart:t});zi.configure(t,r,n),zi.addBox(t,r)},stop(t){zi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;zi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),h=Jn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Zl={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=d$(e,u);h<i&&(i=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function _r(t,e){return e&&(Rt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function $7(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function rS(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=un(e.bodyFont),u=un(e.titleFont),h=un(e.footerFont),d=s.length,f=i.length,m=r.length,g=Jn(e.padding);let _=g.height,T=0,w=r.reduce((k,L)=>k+L.before.length+L.lines.length+L.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,d&&(_+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),w){const k=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=m*k+(w-m)*l.lineHeight+(w-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let v=0;const x=function(k){T=Math.max(T,n.measureText(k).width+v)};return n.save(),n.font=u.string,Ne(t.title,x),n.font=l.string,Ne(t.beforeBody.concat(t.afterBody),x),v=e.displayColors?o+2+e.boxPadding:0,Ne(r,k=>{Ne(k.before,x),Ne(k.lines,x),Ne(k.after,x)}),v=0,n.font=h.string,Ne(t.footer,x),n.restore(),T+=g.width,{width:T,height:_}}function H7(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function W7(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function K7(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),W7(u,t,e,n)&&(u="center"),u}function iS(t,e,n){const r=n.yAlign||e.yAlign||H7(t,n);return{xAlign:n.xAlign||e.xAlign||K7(t,e,n,r),yAlign:r}}function G7(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function q7(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function sS(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=wa(o);let g=G7(e,a);const _=q7(e,l,u);return l==="center"?a==="left"?g+=u:a==="right"&&(g-=u):a==="left"?g-=Math.max(h,f)+i:a==="right"&&(g+=Math.max(d,m)+i),{x:kn(g,0,r.width-e.width),y:kn(_,0,r.height-e.height)}}function Mh(t,e,n){const r=Jn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function oS(t){return _r([],zr(t))}function Y7(t,e,n){return Ja(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function aS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Sk={beforeTitle:Ur,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return bt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function pn(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?Sk[e].call(n,r):i}class Ny extends bo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new hk(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Y7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=pn(r,"beforeTitle",this,e),s=pn(r,"title",this,e),o=pn(r,"afterTitle",this,e);let a=[];return a=_r(a,zr(i)),a=_r(a,zr(s)),a=_r(a,zr(o)),a}getBeforeBody(e,n){return oS(pn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Ne(e,s=>{const o={before:[],lines:[],after:[]},a=aS(r,s);_r(o.before,zr(pn(a,"beforeLabel",this,s))),_r(o.lines,pn(a,"label",this,s)),_r(o.after,zr(pn(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return oS(pn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=pn(r,"beforeFooter",this,e),s=pn(r,"footer",this,e),o=pn(r,"afterFooter",this,e);let a=[];return a=_r(a,zr(i)),a=_r(a,zr(s)),a=_r(a,zr(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push($7(this.chart,n[l]));return e.filter&&(a=a.filter((h,d,f)=>e.filter(h,d,f,r))),e.itemSort&&(a=a.sort((h,d)=>e.itemSort(h,d,r))),Ne(a,h=>{const d=aS(e.callbacks,h);i.push(pn(d,"labelColor",this,h)),s.push(pn(d,"labelPointStyle",this,h)),o.push(pn(d,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Zl[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=rS(this,r),u=Object.assign({},a,l),h=iS(this.chart,r,u),d=sS(r,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:d}=wa(a),{x:f,y:m}=e,{width:g,height:_}=n;let T,w,v,x,k,L;return s==="center"?(k=m+_/2,i==="left"?(T=f,w=T-o,x=k+o,L=k-o):(T=f+g,w=T+o,x=k-o,L=k+o),v=T):(i==="left"?w=f+Math.max(l,h)+o:i==="right"?w=f+g-Math.max(u,d)-o:w=this.caretX,s==="top"?(x=m,k=x-o,T=w-o,v=w+o):(x=m+_,k=x+o,T=w+o,v=w-o),L=x),{x1:T,x2:w,x3:v,y1:x,y2:k,y3:L}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=Ea(r.rtl,this.x,this.width);for(e.x=Mh(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=un(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,h=un(s.bodyFont),d=Mh(this,"left",s),f=i.x(d),m=l<h.lineHeight?(h.lineHeight-l)/2:0,g=n.y+m;if(s.usePointStyle){const _={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},T=i.leftForLtr(f,u)+u/2,w=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ry(e,_,T,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ry(e,_,T,w)}else{e.lineWidth=be(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(f,u),T=i.leftForLtr(i.xPlus(f,1),u-2),w=wa(o.borderRadius);Object.values(w).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,wf(e,{x:_,y:g,w:u,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),wf(e,{x:T,y:g+1,w:u-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(_,g,u,l),e.strokeRect(_,g,u,l),e.fillStyle=o.backgroundColor,e.fillRect(T,g+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:h}=r,d=un(r.bodyFont);let f=d.lineHeight,m=0;const g=Ea(r.rtl,this.x,this.width),_=function(E){n.fillText(E,g.x(e.x+m),e.y+f/2),e.y+=f+s},T=g.textAlign(o);let w,v,x,k,L,A,b;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Mh(this,T,r),n.fillStyle=r.bodyColor,Ne(this.beforeBody,_),m=a&&T!=="right"?o==="center"?u/2+h:u+2+h:0,k=0,A=i.length;k<A;++k){for(w=i[k],v=this.labelTextColors[k],n.fillStyle=v,Ne(w.before,_),x=w.lines,a&&x.length&&(this._drawColorBox(n,e,k,g,r),f=Math.max(d.lineHeight,l)),L=0,b=x.length;L<b;++L)_(x[L]),f=d.lineHeight;Ne(w.after,_)}m=0,f=d.lineHeight,Ne(this.afterBody,_),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Ea(r.rtl,this.x,this.width);for(e.x=Mh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=un(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:h}=r,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:g}=wa(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+u,l+h-g),n.quadraticCurveTo(a+u,l+h,a+u-g,l+h),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+m,l+h),n.quadraticCurveTo(a,l+h,a,l+h-m),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Zl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=rS(this,e),l=Object.assign({},o,this._size),u=iS(n,e,l),h=sS(e,l,u,n);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Jn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),uk(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),ck(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!ff(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!ff(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Zl[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}le(Ny,"positioners",Zl);var Q7={id:"tooltip",_element:Ny,positioners:Zl,afterInit(t,e,n){n&&(t.tooltip=new Ny({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Sp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vn=Object.keys(Sp);function lS(t,e){return t-e}function uS(t,e){if(bt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),mi(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(yf(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function cS(t,e,n,r){const i=vn.length;for(let s=vn.indexOf(t);s<i-1;++s){const o=Sp[vn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return vn[s]}return vn[i-1]}function X7(t,e,n,r,i){for(let s=vn.length-1;s>=vn.indexOf(n);s--){const o=vn[s];if(Sp[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return vn[n?vn.indexOf(n):0]}function J7(t){for(let e=vn.indexOf(t)+1,n=vn.length;e<n;++e)if(Sp[vn[e]].common)return vn[e]}function hS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=s_(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Z7(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function dS(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Z7(t,r,i,n)}class Sf extends Tp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new yH._date(e.adapters.date);i.init(n),_u(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:uS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=mi(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=mi(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=m$(i,s,o);return this._unit=n.unit||(r.autoSkip?cS(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):X7(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:J7(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),dS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=kn(n,0,o),r=kn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||cS(s.minUnit,n,r,this._getLabelCapacity(n)),a=Oe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=yf(l)||l===!0,h={};let d=n,f,m;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<r;f=+e.add(f,a,o),m++)hS(h,f,g);return(f===r||i.bounds==="ticks"||m===1)&&hS(h,f,g),Object.keys(h).sort(lS).map(_=>+_)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Be(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&a[l],d=u&&a[u],f=r[n],m=u&&d&&f&&f.major;return this._adapter.format(e,i||(m?d:h))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Js(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,dS(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(uS(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return y$(e.sort(lS))}}le(Sf,"id","time"),le(Sf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Nh(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Py(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Py(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class fS extends Sf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Nh(n,this.min),this._tableRange=Nh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,h;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)h=i[o+1],l=i[o-1],u=i[o],Math.round((h+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Nh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Nh(this._table,r*this._tableRange+this._minPos,!0)}}le(fS,"id","timeseries"),le(fS,"defaults",Sf.defaults);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var pS=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),Tu={toTextLines:function(t){var e=[],n;for(t=[].concat(t);t.length;)n=t.pop(),typeof n=="string"?e.unshift.apply(e,n.split(`
`)):Array.isArray(n)?t.push.apply(t,n):bt(t)||e.unshift(""+n);return e},textSize:function(t,e,n){var r=[].concat(e),i=r.length,s=t.font,o=0,a;for(t.font=n.string,a=0;a<i;++a)o=Math.max(t.measureText(r[a]).width,o);return t.font=s,{height:i*n.lineHeight,width:o}},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n=t.slice(),r=[],i,s,o,a;for(i=0,o=e.length;i<o;++i)a=e[i],s=n.indexOf(a),s===-1?r.push([a,1]):n.splice(s,1);for(i=0,o=n.length;i<o;++i)r.push([n[i],-1]);return r},rasterize:function(t){return Math.round(t*pS)/pS}};function Gm(t,e){var n=e.x,r=e.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=t.x-n,s=t.y-r,o=Math.sqrt(i*i+s*s);return{x:o?i/o:0,y:o?s/o:-1}}function eW(t,e,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i);break}return{x:t,y:e,vx:n,vy:r}}var tW=0,Ck=1,bk=2,Ik=4,Pk=8;function Oh(t,e,n){var r=tW;return t<n.left?r|=Ck:t>n.right&&(r|=bk),e<n.top?r|=Pk:e>n.bottom&&(r|=Ik),r}function nW(t,e){for(var n=t.x0,r=t.y0,i=t.x1,s=t.y1,o=Oh(n,r,e),a=Oh(i,s,e),l,u,h;!(!(o|a)||o&a);)l=o||a,l&Pk?(u=n+(i-n)*(e.top-r)/(s-r),h=e.top):l&Ik?(u=n+(i-n)*(e.bottom-r)/(s-r),h=e.bottom):l&bk?(h=r+(s-r)*(e.right-n)/(i-n),u=e.right):l&Ck&&(h=r+(s-r)*(e.left-n)/(i-n),u=e.left),l===o?(n=u,r=h,o=Oh(n,r,e)):(i=u,s=h,a=Oh(i,s,e));return{x0:n,x1:i,y0:r,y1:s}}function Lh(t,e){var n=e.anchor,r=t,i,s;return e.clamp&&(r=nW(r,e.area)),n==="start"?(i=r.x0,s=r.y0):n==="end"?(i=r.x1,s=r.y1):(i=(r.x0+r.x1)/2,s=(r.y0+r.y1)/2),eW(i,s,t.vx,t.vy,e.align)}var Vh={arc:function(t,e){var n=(t.startAngle+t.endAngle)/2,r=Math.cos(n),i=Math.sin(n),s=t.innerRadius,o=t.outerRadius;return Lh({x0:t.x+r*s,y0:t.y+i*s,x1:t.x+r*o,y1:t.y+i*o,vx:r,vy:i},e)},point:function(t,e){var n=Gm(t,e.origin),r=n.x*t.options.radius,i=n.y*t.options.radius;return Lh({x0:t.x-r,y0:t.y-i,x1:t.x+r,y1:t.y+i,vx:n.x,vy:n.y},e)},bar:function(t,e){var n=Gm(t,e.origin),r=t.x,i=t.y,s=0,o=0;return t.horizontal?(r=Math.min(t.x,t.base),s=Math.abs(t.base-t.x)):(i=Math.min(t.y,t.base),o=Math.abs(t.base-t.y)),Lh({x0:r,y0:i+o,x1:r+s,y1:i,vx:n.x,vy:n.y},e)},fallback:function(t,e){var n=Gm(t,e.origin);return Lh({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)}},ei=Tu.rasterize;function rW(t){var e=t.borderWidth||0,n=t.padding,r=t.size.height,i=t.size.width,s=-i/2,o=-r/2;return{frame:{x:s-n.left-e,y:o-n.top-e,w:i+n.width+e*2,h:r+n.height+e*2},text:{x:s,y:o,w:i,h:r}}}function iW(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return t.horizontal?{x:r,y:null}:{x:null,y:r}}function sW(t){return t instanceof ua?Vh.arc:t instanceof pd?Vh.point:t instanceof md?Vh.bar:Vh.fallback}function oW(t,e,n,r,i,s){var o=Math.PI/2;if(s){var a=Math.min(s,i/2,r/2),l=e+a,u=n+a,h=e+r-a,d=n+i-a;t.moveTo(e,u),l<h&&u<d?(t.arc(l,u,a,-Math.PI,-o),t.arc(h,u,a,-o,0),t.arc(h,d,a,0,o),t.arc(l,d,a,o,Math.PI)):l<h?(t.moveTo(l,n),t.arc(h,u,a,-o,o),t.arc(l,u,a,o,Math.PI+o)):u<d?(t.arc(l,u,a,-Math.PI,0),t.arc(l,d,a,0,Math.PI)):t.arc(l,u,a,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,r,i)}function aW(t,e,n){var r=n.backgroundColor,i=n.borderColor,s=n.borderWidth;!r&&(!i||!s)||(t.beginPath(),oW(t,ei(e.x)+s/2,ei(e.y)+s/2,ei(e.w)-s,ei(e.h)-s,n.borderRadius),t.closePath(),r&&(t.fillStyle=r,t.fill()),i&&s&&(t.strokeStyle=i,t.lineWidth=s,t.lineJoin="miter",t.stroke()))}function lW(t,e,n){var r=n.lineHeight,i=t.w,s=t.x,o=t.y+r/2;return e==="center"?s+=i/2:(e==="end"||e==="right")&&(s+=i),{h:r,w:i,x:s,y:o}}function uW(t,e,n){var r=t.shadowBlur,i=n.stroked,s=ei(n.x),o=ei(n.y),a=ei(n.w);i&&t.strokeText(e,s,o,a),n.filled&&(r&&i&&(t.shadowBlur=0),t.fillText(e,s,o,a),r&&i&&(t.shadowBlur=r))}function cW(t,e,n,r){var i=r.textAlign,s=r.color,o=!!s,a=r.font,l=e.length,u=r.textStrokeColor,h=r.textStrokeWidth,d=u&&h,f;if(!(!l||!o&&!d))for(n=lW(n,i,a),t.font=a.string,t.textAlign=i,t.textBaseline="middle",t.shadowBlur=r.textShadowBlur,t.shadowColor=r.textShadowColor,o&&(t.fillStyle=s),d&&(t.lineJoin="round",t.lineWidth=h,t.strokeStyle=u),f=0,l=e.length;f<l;++f)uW(t,e[f],{stroked:d,filled:o,w:n.w,x:n.x,y:n.y+n.h*f})}var Ak=function(t,e,n,r){var i=this;i._config=t,i._index=r,i._model=null,i._rects=null,i._ctx=e,i._el=n};Mr(Ak.prototype,{_modelize:function(t,e,n,r){var i=this,s=i._index,o=un(Xe([n.font,{}],r,s)),a=Xe([n.color,ut.color],r,s);return{align:Xe([n.align,"center"],r,s),anchor:Xe([n.anchor,"center"],r,s),area:r.chart.chartArea,backgroundColor:Xe([n.backgroundColor,null],r,s),borderColor:Xe([n.borderColor,null],r,s),borderRadius:Xe([n.borderRadius,0],r,s),borderWidth:Xe([n.borderWidth,0],r,s),clamp:Xe([n.clamp,!1],r,s),clip:Xe([n.clip,!1],r,s),color:a,display:t,font:o,lines:e,offset:Xe([n.offset,4],r,s),opacity:Xe([n.opacity,1],r,s),origin:iW(i._el,r),padding:Jn(Xe([n.padding,4],r,s)),positioner:sW(i._el),rotation:Xe([n.rotation,0],r,s)*(Math.PI/180),size:Tu.textSize(i._ctx,e,o),textAlign:Xe([n.textAlign,"start"],r,s),textShadowBlur:Xe([n.textShadowBlur,0],r,s),textShadowColor:Xe([n.textShadowColor,a],r,s),textStrokeColor:Xe([n.textStrokeColor,a],r,s),textStrokeWidth:Xe([n.textStrokeWidth,0],r,s)}},update:function(t){var e=this,n=null,r=null,i=e._index,s=e._config,o,a,l,u=Xe([s.display,!0],t,i);u&&(o=t.dataset.data[i],a=Oe(Be(s.formatter,[o,t]),o),l=bt(a)?[]:Tu.toTextLines(a),l.length&&(n=e._modelize(u,l,s,t),r=rW(n))),e._model=n,e._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n=this,r=t.ctx,i=n._model,s=n._rects,o;this.visible()&&(r.save(),i.clip&&(o=i.area,r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()),r.globalAlpha=Tu.bound(0,i.opacity,1),r.translate(ei(e.x),ei(e.y)),r.rotate(i.rotation),aW(r,s.frame,i),cW(r,i.lines,s.text,i),r.restore())}});var hW=Number.MIN_SAFE_INTEGER||-9007199254740991,dW=Number.MAX_SAFE_INTEGER||9007199254740991;function Ll(t,e,n){var r=Math.cos(n),i=Math.sin(n),s=e.x,o=e.y;return{x:s+r*(t.x-s)-i*(t.y-o),y:o+i*(t.x-s)+r*(t.y-o)}}function mS(t,e){var n=dW,r=hW,i=e.origin,s,o,a,l,u;for(s=0;s<t.length;++s)o=t[s],a=o.x-i.x,l=o.y-i.y,u=e.vx*a+e.vy*l,n=Math.min(n,u),r=Math.max(r,u);return{min:n,max:r}}function Fh(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);return{vx:(e.x-t.x)/i,vy:(e.y-t.y)/i,origin:t,ln:i}}var Rk=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Mr(Rk.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=1,r=e._rect;return t=Ll(t,e.center(),-e._rotation),!(t.x<r.x-n||t.y<r.y-n||t.x>r.x+r.w+n*2||t.y>r.y+r.h+n*2)},intersects:function(t){var e=this._points(),n=t._points(),r=[Fh(e[0],e[1]),Fh(e[0],e[3])],i,s,o;for(this._rotation!==t._rotation&&r.push(Fh(n[0],n[1]),Fh(n[0],n[3])),i=0;i<r.length;++i)if(s=mS(e,r[i]),o=mS(n,r[i]),s.max<o.min||o.max<s.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,r=t.center();return[Ll({x:e.x,y:e.y},r,n),Ll({x:e.x+e.w,y:e.y},r,n),Ll({x:e.x+e.w,y:e.y+e.h},r,n),Ll({x:e.x,y:e.y+e.h},r,n)]}});function kk(t,e,n){var r=e.positioner(t,e),i=r.vx,s=r.vy;if(!i&&!s)return{x:r.x,y:r.y};var o=n.w,a=n.h,l=e.rotation,u=Math.abs(o/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),h=Math.abs(o/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),d=1/Math.max(Math.abs(i),Math.abs(s));return u*=i*d,h*=s*d,u+=e.offset*i,h+=e.offset*s,{x:r.x+u,y:r.y+h}}function fW(t,e){var n,r,i,s;for(n=t.length-1;n>=0;--n)for(i=t[n].$layout,r=n-1;r>=0&&i._visible;--r)s=t[r].$layout,s._visible&&i._box.intersects(s._box)&&e(i,s);return t}function pW(t){var e,n,r,i,s,o,a;for(e=0,n=t.length;e<n;++e)r=t[e],i=r.$layout,i._visible&&(a=new Proxy(r._el,{get:(l,u)=>l.getProps([u],!0)[u]}),s=r.geometry(),o=kk(a,r.model(),s),i._box.update(o,s,r.rotation()));return fW(t,function(l,u){var h=l._hidable,d=u._hidable;h&&d||d?u._visible=!1:h&&(l._visible=!1)})}var Su={prepare:function(t){var e=[],n,r,i,s,o;for(n=0,i=t.length;n<i;++n)for(r=0,s=t[n].length;r<s;++r)o=t[n][r],e.push(o),o.$layout={_box:new Rk,_hidable:!1,_visible:!0,_set:n,_idx:o._index};return e.sort(function(a,l){var u=a.$layout,h=l.$layout;return u._idx===h._idx?h._set-u._set:h._idx-u._idx}),this.update(e),e},update:function(t){var e=!1,n,r,i,s,o;for(n=0,r=t.length;n<r;++n)i=t[n],s=i.model(),o=i.$layout,o._hidable=s&&s.display==="auto",o._visible=i.visible(),e|=o._hidable;e&&pW(t)},lookup:function(t,e){var n,r;for(n=t.length-1;n>=0;--n)if(r=t[n].$layout,r&&r._visible&&r._box.contains(e))return t[n];return null},draw:function(t,e){var n,r,i,s,o,a;for(n=0,r=e.length;n<r;++n)i=e[n],s=i.$layout,s._visible&&(o=i.geometry(),a=kk(i._el,i.model(),o),s._box.update(a,o,i.rotation()),i.draw(t,a))}},mW=function(t){if(bt(t))return null;var e=t,n,r,i;if(be(t))if(!bt(t.label))e=t.label;else if(!bt(t.r))e=t.r;else for(e="",n=Object.keys(t),i=0,r=n.length;i<r;++i)e+=(i!==0?", ":"")+n[i]+": "+t[n[i]];return""+e},gW={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:mW,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},mn="$datalabels",Dk="$default";function yW(t,e){var n=t.datalabels,r={},i=[],s,o;return n===!1?null:(n===!0&&(n={}),e=Mr({},[e,n]),s=e.labels||{},o=Object.keys(s),delete e.labels,o.length?o.forEach(function(a){s[a]&&i.push(Mr({},[e,s[a],{_key:a}]))}):i.push(e),r=i.reduce(function(a,l){return Ne(l.listeners||{},function(u,h){a[h]=a[h]||{},a[h][l._key||Dk]=u}),delete l.listeners,a},{}),{labels:i,listeners:r})}function Oy(t,e,n,r){if(e){var i=n.$context,s=n.$groups,o;e[s._set]&&(o=e[s._set][s._key],o&&Be(o,[i,r])===!0&&(t[mn]._dirty=!0,n.update(i)))}}function vW(t,e,n,r,i){var s,o;!n&&!r||(n?r?n!==r&&(o=s=!0):o=!0:s=!0,o&&Oy(t,e.leave,n,i),s&&Oy(t,e.enter,r,i))}function _W(t,e){var n=t[mn],r=n._listeners,i,s;if(!(!r.enter&&!r.leave)){if(e.type==="mousemove")s=Su.lookup(n._labels,e);else if(e.type!=="mouseout")return;i=n._hovered,n._hovered=s,vW(t,r,i,s,e)}}function wW(t,e){var n=t[mn],r=n._listeners.click,i=r&&Su.lookup(n._labels,e);i&&Oy(t,r,i,e)}var EW={id:"datalabels",defaults:gW,beforeInit:function(t){t[mn]={_actives:[]}},beforeUpdate:function(t){var e=t[mn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var r=e.index,i=t[mn],s=i._datasets[r]=[],o=t.isDatasetVisible(r),a=t.data.datasets[r],l=yW(a,n),u=e.meta.data||[],h=t.ctx,d,f,m,g,_,T,w,v;for(h.save(),d=0,m=u.length;d<m;++d)if(w=u[d],w[mn]=[],o&&w&&t.getDataVisibility(d)&&!w.skip)for(f=0,g=l.labels.length;f<g;++f)_=l.labels[f],T=_._key,v=new Ak(_,h,w,d),v.$groups={_set:r,_key:T||Dk},v.$context={active:!1,chart:t,dataIndex:d,dataset:a,datasetIndex:r},v.update(v.$context),w[mn].push(v),s.push(v);h.restore(),Mr(i._listeners,l.listeners,{merger:function(x,k,L){k[x]=k[x]||{},k[x][e.index]=L[x],i._listened=!0}})},afterUpdate:function(t){t[mn]._labels=Su.prepare(t[mn]._datasets)},afterDatasetsDraw:function(t){Su.draw(t,t[mn]._labels)},beforeEvent:function(t,e){if(t[mn]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":_W(t,n);break;case"click":wW(t,n);break}}},afterEvent:function(t){var e=t[mn],n=e._actives,r=e._actives=t.getActiveElements(),i=Tu.arrayDiff(n,r),s,o,a,l,u,h,d;for(s=0,o=i.length;s<o;++s)if(u=i[s],u[1])for(d=u[0].element[mn]||[],a=0,l=d.length;a<l;++a)h=d[a],h.$context.active=u[1]===1,h.update(h.$context);(e._dirty||i.length)&&(Su.update(e._labels),t.render()),delete e._dirty}};Kr.register(ua,Q7,z7,ky,EW);function xW({data:t,className:e}){const n=N.useRef(null),r=N.useRef(null);return N.useEffect(()=>{if(!n.current||!t||t.length===0)return;r.current&&r.current.destroy();const i={};t.forEach(a=>{i[a.category]?i[a.category]+=a.amount:i[a.category]=a.amount});const s={type:"pie",data:{labels:Object.keys(i),datasets:[{data:Object.values(i),backgroundColor:["#4E79A7","#F28E2B","#E15759","#76B7B2","#59A14F","#EDC949","#AF7AA1","#FF9DA7","#9C755F","#BAB0AC"],hoverOffset:4}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,bottom:20,left:20,right:20}},plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:a=>{const u=a.dataset.data.reduce((m,g)=>m+g,0),h=a.raw,d=(h/u*100).toFixed(0)+" %",f=`$${h.toFixed(2)}`;return`${a.label}: ${f} (${d})`}}},datalabels:{display:!1}}}},o=new Kr(n.current,s);return r.current=o,()=>{r.current&&r.current.destroy()}},[t]),S.jsx("canvas",{className:` ${e}`,ref:n,id:"ExpensesChart",style:{width:"300px",height:"300px"}})}const TW=bf.memo(xW);function gS({entries:t,text:e,className:n}){const{theme:r}=_e();return S.jsxs("div",{className:`flex flex-col items-center w-full mx-auto ${n}`,style:{width:"400px",height:"400px"},children:[S.jsx("h1",{className:"flex justify-center w-full text-xl font-bold",children:e}),t.length===0&&S.jsx("h1",{className:"flex justify-center w-full text-sm",style:{color:r.secondaryTextColor},children:"No data..."}),S.jsx(TW,{className:"",data:t})]})}const SW=[""];function CW({className:t,closeModal:e}){const{theme:n}=_e(),{editingEntryUid:r}=Ts(),{currUserData:i,updateUserData:s,currUser:o}=on();async function a(){const l=i.entries.findIndex(u=>u.uid===r);if(l===-1){console.error("Remove index not found");return}try{const u=[...i.entries];u.splice(l,1);const h={...i,entries:u};await s(o.uid,h)}catch(u){console.error("Failed to remove entry",u)}e()}return S.jsxs(vi,{className:`p-2 ${t}`,children:[SW.map(l=>S.jsx(ft.button,{style:{backgroundColor:n.mainBgColor},whileHover:{backgroundColor:n.hoverElementBgColor,transition:{duration:0}},className:"py-1 pl-4 pr-20 mt-1 text-left rounded-lg",children:l})),S.jsx("hr",{className:"mt-1",style:{borderColor:n.mainBorderColor}}),S.jsxs(ft.button,{onClick:a,style:{backgroundColor:n.mainBgColor},whileHover:{backgroundColor:n.hoverElementBgColor,transition:{duration:0}},className:"flex items-center justify-center py-1 pl-4 pr-20 mt-1 text-left text-red-600 rounded-lg",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:"mr-2 text-sm font-light",children:S.jsxs("g",{fill:"none","fill-rule":"evenodd",children:[S.jsx("path",{d:"M0 0h24v24H0z"}),S.jsx("rect",{width:"14",height:"1",x:"5",y:"6",fill:"currentColor",rx:"0.5"}),S.jsx("path",{fill:"currentColor",d:"M10 9h1v8h-1V9zm3 0h1v8h-1V9z"}),S.jsx("path",{stroke:"currentColor",d:"M17.5 6.5h-11V18A1.5 1.5 0 0 0 8 19.5h8a1.5 1.5 0 0 0 1.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0 0 14 3.5h-4A1.5 1.5 0 0 0 8.5 5v1.5z"})]})}),S.jsx("h1",{children:"Delete"})]})]})}function bW({closeModal:t}){const{theme:e}=_e(),[n,r]=N.useState(!1);return S.jsxs("div",{className:"relative flex items-center h-6",children:[S.jsx("svg",{className:"absolute cursor-pointer right-9",onClick:()=>r(!0),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",style:{color:e.mainTextColor},children:S.jsxs("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round",transform:"translate(3 10)",children:[S.jsx("circle",{cx:"2",cy:"2",r:"2"}),S.jsx("circle",{cx:"9",cy:"2",r:"2"}),S.jsx("circle",{cx:"16",cy:"2",r:"2"})]})}),S.jsx("svg",{style:{color:e.mainTextColor},onClick:()=>t(),className:"absolute cursor-pointer right-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),n&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{className:"z-10",onClick:()=>r(!1)}),S.jsx(CW,{className:"absolute z-10 right-8 top-5",closeModal:t})]})]})}function IW({disabled:t,entryAmount:e,onChange:n}){const{theme:r}=_e();return S.jsxs("div",{children:[S.jsx("h1",{className:"px-2 text-xs font-bold",children:"Amount"}),S.jsxs("div",{className:"flex items-center text-sm",children:[S.jsx("h1",{className:"pl-2",children:"$"}),S.jsx(Nn,{disabled:t,type:"number",value:e||"",onChange:n,placeholder:"Amount",className:"px-2",style:{backgroundColor:r.secondaryBgColor}})]})]})}function g_({className:t,children:e,onClick:n,style:r,disabled:i}){const{theme:s}=_e();return S.jsx(ft.button,{disabled:i,onClick:n,className:`rounded-lg py-1 ${t} ${i&&"cursor-not-allowed"}`,whileHover:{backgroundColor:i?s.secondaryBgColor:s.hoverElementBgColor},style:{backgroundColor:s.mainBgColor,...r},children:S.jsxs("div",{className:"flex justify-between",children:[e,S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:S.jsx("path",{fill:"currentColor",d:"M15.646 9.647a.5.5 0 0 1 .708.707l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 1 1 .708-.707L12 13.294l3.646-3.647Z"})})]})})}function PW({entryType:t,disabled:e}){const{theme:n}=_e(),{entryCategory:r,setEntryCategory:i}=Ts(),[s,o]=N.useState(!1),[a,l]=N.useState([]);function u(h){i(h),o(!1)}return N.useEffect(()=>{t==="Income"?l(zR):t==="Expense"&&l(BR)},[t]),S.jsxs("div",{children:[S.jsx("h1",{className:"px-2 text-xs font-bold",children:"Category"}),S.jsx(g_,{disabled:e,className:"w-full px-2 mt-1 text-left",onClick:()=>o(!0),style:{backgroundColor:n.secondaryBgColor},children:r||""}),s&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{className:"z-10",onClick:()=>o(!1)}),S.jsx(vi,{className:"z-10",children:a.map((h,d)=>S.jsx(ft.button,{onClick:()=>u(h),className:`px-2 py-1 text-left ${d===0&&"rounded-t-lg"} ${d===a.length-1&&"rounded-b-lg"}`,style:{backgroundColor:n.mainBgColor},whileHover:{backgroundColor:n.hoverElementBgColor,transition:{duration:0}},children:h}))})]})]})}function AW({handleDiscardChangesBtnClick:t,setDiscardChangesModalVisible:e}){const{theme:n}=_e();return S.jsxs(S.Fragment,{children:[S.jsx(Mc,{className:"z-10"}),S.jsxs("div",{className:"absolute z-10 w-3/4 p-4 text-sm -translate-x-1/2 -translate-y-1/2 rounded-lg shadow-md top-1/4 left-1/2",style:{backgroundColor:n.mainBgColor,height:"140px"},children:[S.jsx("h1",{className:"mb-2 text-base",children:"Discard changes?"}),S.jsx("h1",{className:"mb-2",style:{color:n.secondaryTextColor},children:"The changes you've made won't be saved."}),S.jsx("div",{className:"relative flex flex-grow w-full",children:S.jsxs("div",{className:"absolute top-3 right-1",children:[S.jsx(Dr,{onClick:()=>e(!1),className:"mr-2",style:{backgroundColor:n.secondaryBgColor,color:n.mainTextColor},children:"Cancel"}),S.jsx(Dr,{onClick:t,children:"Discard"})]})})]})]})}function RW({}){const{theme:t}=_e(),{currEditingEntry:e,editingNameOrDescription:n,setEditingNameOrDescription:r,editingEntryUid:i}=Ts(),{currUserData:s,currUser:o,updateUserData:a}=on(),[l,u]=N.useState(!1),[h,d]=N.useState(null),[f,m]=N.useState(null),[g,_]=N.useState(null),[T,w]=N.useState(null),[v,x]=N.useState(!1);function k(){g===h&&T===f?(_(h),w(f),r(!1),x(!1)):x(!0)}function L(){_(h),w(f),r(!1),x(!1)}async function A(){const b=s.entries.findIndex(E=>E.uid===i);if(b===-1){console.error("Editing entry not found");return}if(e&&g&&T&&(g!==h||T!==f))try{const E={...e,name:g,description:T},C=[...s.entries];C[b]=E,await a(o.uid,{...s,entries:C})}catch{console.error("Issue updating entry name and description")}else{k();return}d(g),m(T),r(!1)}return N.useEffect(()=>{e&&(_(e.name),w(e.description))},[e]),N.useEffect(()=>{e&&(d(e.name),m(e.description))},[]),S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"relative",style:{width:"60%"},children:[S.jsxs(ft.div,{className:"flex flex-col px-3 py-1 mt-5 ml-5 border rounded-lg",style:{borderColor:l?t.mainTextColor:n?t.mainBorderColor:t.mainBgColor},children:[S.jsx(Nn,{placeholder:"Entry name",className:"py-2",onFocus:()=>{r(!0),u(!0)},onBlur:()=>u(!1),value:g||"",onChange:b=>_(b.target.value)}),S.jsx("textarea",{style:{backgroundColor:t.mainBgColor,color:t.mainTextColor},placeholder:"Description",className:"px-2 py-2 text-sm font-light outline-none resize-none",onFocus:()=>{r(!0),u(!0)},onBlur:()=>u(!1),value:T||"",onChange:b=>w(b.target.value)})]}),n&&S.jsxs("div",{className:"absolute right-0 mt-2",children:[S.jsx(Dr,{onClick:k,hoverColor:t.hoverElementBgColor,className:"mr-2",style:{backgroundColor:t.secondaryBgColor,color:t.mainTextColor},children:"Cancel"}),S.jsx(Dr,{onClick:A,children:"Save"})]})]}),v&&S.jsx(AW,{handleDiscardChangesBtnClick:L,setDiscardChangesModalVisible:x})]})}const yS=["Income","Expense"];function kW({disabled:t}){const{theme:e}=_e(),{entryType:n,setEntryType:r}=Ts(),[i,s]=N.useState(!1);function o(a){r(a),s(!1)}return S.jsxs("div",{children:[S.jsx("h1",{className:"px-2 text-xs font-bold",children:"Type"}),S.jsx(g_,{disabled:t,className:"w-full px-2 mt-1 text-left",onClick:()=>s(!0),style:{backgroundColor:e.secondaryBgColor},children:n||""}),i&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{className:"z-10",onClick:()=>s(!1)}),S.jsx(vi,{className:"z-10 w-3/4",children:yS.map((a,l)=>S.jsx(ft.button,{onClick:()=>o(a),className:`px-2 py-1 text-left ${l===0&&"rounded-t-lg"} ${l===yS.length-1&&"rounded-b-lg"}`,style:{backgroundColor:e.mainBgColor},whileHover:{backgroundColor:e.hoverElementBgColor,transition:{duration:0}},children:a}))})]})]})}function DW({disabled:t}){const{theme:e}=_e(),{setEntryDate:n,editingEntryDateBtnValue:r,setEditingEntryDateBtnValue:i,entryDate:s}=Ts(),[o,a]=N.useState(!1);function l(u,h,d,f){const g=new Date(u,h-1,d).getTime(),_=`${f.slice(0,3)} ${d} ${u}`;n(g),i(_)}return S.jsxs("div",{children:[S.jsx("h1",{className:"pl-2 text-xs font-bold",children:"Date"}),S.jsx(g_,{disabled:t,onClick:()=>a(!0),className:`w-full px-2 mt-1 ${t&&"cursor-not-allowed"}`,style:{backgroundColor:e.secondaryBgColor},children:r||""}),o&&S.jsx(jR,{overlayOnClick:()=>a(!1),handleDateClick:l,currSelectedDate:s})]})}function MW(t){const e=new Date(t),r=new Intl.DateTimeFormat("en-US",{month:"short"}).format(e),i=e.getDate().toString().padStart(2,"0"),s=e.getFullYear();return`${r} ${i} ${s}`}function NW({}){const{theme:t}=_e(),{currUserData:e,updateUserData:n,currUser:r}=on(),{editingEntryUid:i,setEditingEntryUid:s,setIsEditingEntry:o,setCurrEditingEntry:a,currEditingEntry:l,editingNameOrDescription:u,setEditingNameOrDescription:h,entryCategory:d,setEntryCategory:f,setEntryType:m,entryType:g,setEditingEntryDateBtnValue:_,entryDate:T,setEntryDate:w}=Ts(),[v,x]=N.useState(null);function k(){o(!1),s(null),h(!1)}async function L(A){if(l)if(i)try{const b={...l,...A},E=e.entries.map(C=>C.uid===i?b:C);await n(r.uid,{...e,entries:E})}catch(b){console.error("Failed to update entry",b)}else console.log("no uid")}return N.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),N.useEffect(()=>{const A=e.entries.find(b=>b.uid===i);A&&a(A)},[i]),N.useEffect(()=>{l&&(m(l.type),x(l.amount.toString()),f(l.category),_(MW(l.dateAddedMs)),w(l.dateAddedMs))},[l]),N.useEffect(()=>{v&&(l==null?void 0:l.amount)!==Number(v)&&(console.log("updating amount"),L({amount:Number(v)}))},[v]),N.useEffect(()=>{d&&(l==null?void 0:l.category)!==d&&(console.log("updating category"),L({category:d}))},[d]),N.useEffect(()=>{g&&(l==null?void 0:l.type)!==g&&(console.log("updating type"),L({type:g}))},[g]),N.useEffect(()=>{T&&(l==null?void 0:l.dateAddedMs)!==T&&(console.log("updating date"),L({dateAddedMs:T}))},[T]),S.jsxs(S.Fragment,{children:[S.jsx(Mc,{className:"z-10",onClick:k}),S.jsxs("div",{className:"fixed z-50 w-full overflow-hidden rounded-lg shadow-md lg:w-1/2 md:w-3/4",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"85%",backgroundColor:t.mainBgColor},children:[S.jsx(bW,{closeModal:k}),S.jsx("hr",{style:{borderColor:t.mainTextColor}}),S.jsxs("div",{className:"flex h-full",children:[S.jsx(RW,{}),S.jsx("div",{className:"relative flex flex-col flex-grow px-2 py-4 ml-5 text-sm ",style:{backgroundColor:t.secondaryBgColor},children:S.jsxs("div",{style:{color:u?t.secondaryTextColor:t.mainTextColor},children:[S.jsx(kW,{disabled:u}),S.jsx("hr",{className:"my-2 rounded-lg",style:{borderColor:t.mainBorderColor}}),S.jsx(PW,{disabled:u,entryType:g}),S.jsx("hr",{className:"my-2 rounded-lg",style:{borderColor:t.mainBorderColor}}),S.jsx(IW,{disabled:u,entryAmount:v,onChange:A=>x(A.target.value)}),S.jsx("hr",{className:"my-2 rounded-lg",style:{borderColor:t.mainBorderColor}}),S.jsx(DW,{disabled:u})]})})]})]})]})}const OW=new Date().getFullYear(),LW=new Date().getDate(),VW=new Date().getMonth();function FW({}){const{theme:t}=_e(),{currUserData:e}=on(),{pagePaddingLeft:n}=Ep(),{currDisplayingTimePeriod:r}=$R(),{isEditingEntry:i}=Ts(),[s,o]=N.useState(e.entries),[a,l]=N.useState(!1),[u,h]=N.useState(0),[d,f]=N.useState(0);function m(g){let _,T,w;switch(g){case"All Time":const{totalIncome:v,totalExpenses:x}=vS(e.entries);_=v,T=x,w=e.entries;break;case"Today":const{todayIncome:k,todayExpenses:L,todayEntries:A}=jW(e.entries);_=k,T=L,w=A;break;case"This Week":const{thisWeekIncome:b,thisWeekExpenses:E,thisWeekEntries:C}=UW(e.entries);_=b,T=E,w=C;break;case"This Month":const{thisMonthIncome:P,thisMonthExpenses:D,thisMonthEntries:M}=BW(e.entries);_=P,T=D,w=M;break;case"This Year":const{thisYearIncome:R,thisYearExpenses:ae,thisYearEntries:ee}=zW(e.entries);_=R,T=ae,w=ee;break}console.log(e.currency.conversionRate),h(_*e.currency.conversionRate),f(T*e.currency.conversionRate),o(w)}return N.useEffect(()=>{o([...e.entries]),m(r)},[e.entries]),N.useEffect(()=>{m(r)},[r,e.currency]),N.useEffect(()=>{console.log(s)},[s]),N.useEffect(()=>{const{totalIncome:g,totalExpenses:_}=vS(e.entries);h(g),f(_),o(e.entries)},[]),N.useEffect(()=>{},[e]),S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex flex-col px-10 mx-auto overflow-x-hidden text-sm transition-all duration-500 xl:flex-row ease xl:pt-14 xl:pb-0 py-14 font-alexandria",style:{color:t.mainTextColor,paddingLeft:n,backgroundColor:t.mainBgColor,minWidth:"500px"},children:[S.jsxs("div",{children:[S.jsx("h1",{className:"p-4 text-2xl font-bold",children:r}),S.jsxs("div",{className:"flex justify-center mt-5",children:[S.jsx(o1,{amount:u,text:"Income",className:"flex flex-col items-center w-64 border rounded-lg shadow-md"}),S.jsx(o1,{amount:d,text:"Expenses",className:"flex flex-col items-center w-64 border rounded-lg shadow-md"})]}),S.jsx(M6,{currDisplayingEntries:s})]}),S.jsxs("div",{className:"flex flex-col mt-10 ml-10 xl:mt-0",children:[S.jsx(gS,{entries:s.filter(g=>g.type==="Income"),text:`${r} Income Chart`}),S.jsx(gS,{className:"mt-10",entries:s.filter(g=>g.type==="Expense"),text:`${r} Expenses Chart`})]}),S.jsx(P6,{className:"absolute top-2 right-2",onClick:()=>l(!0)}),a&&S.jsxs(S.Fragment,{children:[S.jsx(Vn,{onClick:()=>l(!1)}),S.jsx(R6,{})]})]}),e.username===null&&S.jsx(I6,{}),i&&S.jsx(NW,{})]})}function vS(t){const e=t.reduce((r,i)=>i.type==="Income"?r+i.amount:r,0),n=t.reduce((r,i)=>i.type==="Expense"?r+i.amount:r,0);return{totalIncome:e,totalExpenses:n}}function jW(t){const e=new Date(OW,VW,LW).getTime(),n=t.filter(s=>s.dateAddedMs===e);let r=0,i=0;for(let s of n)s.type==="Income"?r+=s.amount:i+=s.amount;return{todayIncome:r,todayExpenses:i,todayEntries:n}}function UW(t){const e=new Date,n=e.getDay(),r=n===0?6:n-1,i=new Date(e);i.setDate(e.getDate()-r),i.setHours(0,0,0,0);const s=i.getTime(),o=t.filter(u=>u.dateAddedMs>=s);let a=0,l=0;for(let u of o)u.type==="Income"?a+=u.amount:l+=u.amount;return{thisWeekIncome:a,thisWeekExpenses:l,thisWeekEntries:o}}function BW(t){const e=new Date,n=new Date(e.getFullYear(),e.getUTCMonth(),1,0,0,0,0).getTime();console.log(n);const r=t.filter(o=>o.dateAddedMs>=n);let i=0,s=0;for(let o of r)o.type==="Income"?i+=o.amount:s+=o.amount;return{thisMonthIncome:i,thisMonthExpenses:s,thisMonthEntries:r}}function zW(t){const e=new Date,n=new Date(e.getFullYear(),0,1,0,0,0,0).getTime(),r=t.filter(o=>o.dateAddedMs>=n);let i=0,s=0;for(let o of r)o.type==="Income"?i+=o.amount:s+=o.amount;return{thisYearIncome:i,thisYearExpenses:s,thisYearEntries:r}}function jh({}){const t=gc();return S.jsxs("div",{children:[S.jsx("h1",{children:"404 Page not found."}),S.jsx("button",{onClick:()=>t("/app/dashboard"),children:"Go back"})]})}function Mk({onClick:t,text:e,className:n}){const{theme:r}=_e();return S.jsxs(ft.div,{whileHover:{borderColor:r.secondaryBorderColor,transition:{duration:.1}},whileTap:{scale:.99},className:`justify-center flex items-center px-2 py-1 border rounded-lg hover:cursor-pointer ${n}`,style:{borderColor:r.mainBorderColor},onClick:t,children:[S.jsx("img",{className:"w-5 mr-2",src:"https://lh3.googleusercontent.com/COxitqgJr1sJnIDe8-jiKhxDx1FrYbtRHKJ9z_hELisAlapwE9LUPh6fcXIfb5vwpbMl4xl9H9TRFPc5NOO8Sb3VSgIBrfRYvW6cUA"}),S.jsx("h1",{children:e})]})}function $W({}){const t=gc(),{theme:e}=_e(),{error:n,setError:r,loginUser:i,signInWithGoogle:s}=on(),[o,a]=N.useState(!1),l=N.useRef(null),u=N.useRef(null);async function h(){var g,_;const f=((g=l.current)==null?void 0:g.value)||"",m=((_=u.current)==null?void 0:_.value)||"";if(r(""),!f.includes("@")||!f.includes(".")){r("Invalid email !");return}if(m.length<7){r("Password must be longer than 6 characters !");return}try{a(!0),await i(f,m),t("/app/dashboard")}catch(T){r(T.message)}finally{a(!1)}}async function d(){try{a(!0),await s(),t("/app/dashboard")}catch(f){r(f.message)}finally{a(!1)}}return S.jsxs("div",{className:"fixed inset-0 flex items-center justify-center w-screen h-screen endless-clouds-bg",style:{backgroundColor:e.mainBgColor,color:e.mainTextColor},children:[S.jsxs("div",{className:"flex flex-col font-alexandria",style:{backgroundColor:e.mainBgColor,width:"300px"},children:[S.jsx("h1",{className:"mb-4 text-3xl font-bold",style:{},children:"Login"}),S.jsx(Nn,{type:"email",placeholder:"Email",className:"mb-4 border",ref:l}),S.jsx(Nn,{type:"password",placeholder:"Password",className:"mb-4 border",ref:u}),n&&S.jsx("h1",{className:"mb-4 text-red-600",children:n}),S.jsxs("h1",{className:"flex items-center w-full mb-4",children:["Don't have an account?",S.jsx("span",{className:"underline hover:cursor-pointer",onClick:()=>t("/register"),children:"Register"})]}),S.jsx(Dr,{disabled:o,onClick:h,children:"Login"}),S.jsx("hr",{className:"mt-4"}),S.jsx(Mk,{className:"mt-5",text:"Login with Google",onClick:d})]}),S.jsx("div",{})]})}function HW({}){const t=gc(),{theme:e}=_e(),{registerUser:n,signInWithGoogle:r,error:i,setError:s}=on(),[o,a]=N.useState(!1),l=N.useRef(null),u=N.useRef(null),h=N.useRef(null);async function d(){var T,w,v;const m=((T=l.current)==null?void 0:T.value)||"",g=((w=u.current)==null?void 0:w.value)||"",_=((v=h.current)==null?void 0:v.value)||"";if(g!==_){s("Passwords do not match !");return}if(!m.includes("@")||!m.includes(".")){s("Invalid email !");return}try{a(!0),await n(m,g),t("/app/dashboard")}catch(x){s(x.message)}finally{a(!1)}}async function f(){try{a(!0),await r(),t("/app/dashboard")}catch(m){console.log(m),s(m.message)}finally{a(!1)}}return N.useEffect(()=>{if(i){const m=setTimeout(()=>{s("")},3500);return()=>{clearTimeout(m)}}},[i]),S.jsxs("div",{className:"fixed inset-0 flex items-center justify-center w-screen h-screen endless-clouds-bg",style:{backgroundColor:e.mainBgColor,color:e.mainTextColor},children:[S.jsxs("div",{className:"flex flex-col font-alexandria",style:{backgroundColor:e.mainBgColor,width:"300px"},children:[S.jsx("h1",{className:"mb-4 text-3xl font-bold",style:{},children:"Register"}),S.jsx(Nn,{type:"email",placeholder:"Email",className:"mb-4 border",ref:l}),S.jsx(Nn,{type:"password",placeholder:"Password",className:"mb-4 border",ref:u}),S.jsx(Nn,{type:"password",placeholder:"Repeat password",className:"mb-4 border",ref:h}),i&&S.jsx("h1",{className:"mb-4 text-red-600",children:i}),S.jsxs("h1",{className:"flex items-center w-full mb-4",children:["Already registered?",S.jsx("span",{className:"underline hover:cursor-pointer",onClick:()=>t("/login"),children:"Login"})]}),S.jsx(Dr,{disabled:o,onClick:d,children:"Register"}),S.jsx("hr",{className:"mt-4"}),S.jsx(Mk,{className:"mt-5",onClick:f,text:"Register with Google"})]}),S.jsx("div",{})]})}const WW=zN([{path:"*",element:S.jsx(jh,{})},{path:"/app",element:S.jsx(b6,{children:S.jsx(C6,{})}),errorElement:S.jsx(jh,{}),children:[{path:"dashboard",element:S.jsx(FW,{})}]},{path:"/register",element:S.jsx(HW,{}),errorElement:S.jsx(jh,{})},{path:"/login",element:S.jsx($W,{}),errorElement:S.jsx(jh,{})}]);function KW({children:t}){const{setCurrUser:e,setLoading:n,setCurrUserData:r}=on();return N.useEffect(()=>{const i=sF(Gl,async s=>{if(n(!0),s){e(s);try{const o=Fs(js,"users",s.uid),a=await ld(o);a.exists()?r(a.data()):console.log("No user data found.")}catch(o){console.error(o.message||"Error fetch user data",o)}}else e(null),r({username:"",entries:[],activityLogs:[],currency:{symbol:"$",conversionRate:1}});n(!1)});return()=>i()},[e,n,r]),S.jsx(S.Fragment,{children:t})}qm.createRoot(document.getElementById("root")).render(S.jsx(bf.StrictMode,{children:S.jsx(KW,{children:S.jsx(XN,{router:WW})})}));
